var Yb=t=>{throw TypeError(t)};var wm=(t,e,n)=>e.has(t)||Yb("Cannot "+n);var P=(t,e,n)=>(wm(t,e,"read from private field"),n?n.call(t):e.get(t)),$e=(t,e,n)=>e.has(t)?Yb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),be=(t,e,n,r)=>(wm(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ht=(t,e,n)=>(wm(t,e,"access private method"),n);var cd=(t,e,n,r)=>({set _(s){be(t,e,s,n)},get _(){return P(t,e,r)}});function mM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function BE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function FE(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var UE={exports:{}},gp={},VE={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uu=Symbol.for("react.element"),gM=Symbol.for("react.portal"),yM=Symbol.for("react.fragment"),vM=Symbol.for("react.strict_mode"),xM=Symbol.for("react.profiler"),bM=Symbol.for("react.provider"),wM=Symbol.for("react.context"),kM=Symbol.for("react.forward_ref"),SM=Symbol.for("react.suspense"),EM=Symbol.for("react.memo"),_M=Symbol.for("react.lazy"),Qb=Symbol.iterator;function CM(t){return t===null||typeof t!="object"?null:(t=Qb&&t[Qb]||t["@@iterator"],typeof t=="function"?t:null)}var HE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},WE=Object.assign,qE={};function Pl(t,e,n){this.props=t,this.context=e,this.refs=qE,this.updater=n||HE}Pl.prototype.isReactComponent={};Pl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Pl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function KE(){}KE.prototype=Pl.prototype;function g0(t,e,n){this.props=t,this.context=e,this.refs=qE,this.updater=n||HE}var y0=g0.prototype=new KE;y0.constructor=g0;WE(y0,Pl.prototype);y0.isPureReactComponent=!0;var Zb=Array.isArray,GE=Object.prototype.hasOwnProperty,v0={current:null},JE={key:!0,ref:!0,__self:!0,__source:!0};function YE(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)GE.call(e,r)&&!JE.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Uu,type:t,key:i,ref:o,props:s,_owner:v0.current}}function TM(t,e){return{$$typeof:Uu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function x0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Uu}function NM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Xb=/\/+/g;function km(t,e){return typeof t=="object"&&t!==null&&t.key!=null?NM(""+t.key):e.toString(36)}function lf(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Uu:case gM:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+km(o,0):r,Zb(s)?(n="",t!=null&&(n=t.replace(Xb,"$&/")+"/"),lf(s,e,n,"",function(c){return c})):s!=null&&(x0(s)&&(s=TM(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Xb,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Zb(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+km(i,a);o+=lf(i,e,n,l,s)}else if(l=CM(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+km(i,a++),o+=lf(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ud(t,e,n){if(t==null)return t;var r=[],s=0;return lf(t,r,"","",function(i){return e.call(n,i,s++)}),r}function AM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dn={current:null},cf={transition:null},OM={ReactCurrentDispatcher:dn,ReactCurrentBatchConfig:cf,ReactCurrentOwner:v0};function QE(){throw Error("act(...) is not supported in production builds of React.")}Ae.Children={map:ud,forEach:function(t,e,n){ud(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ud(t,function(){e++}),e},toArray:function(t){return ud(t,function(e){return e})||[]},only:function(t){if(!x0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ae.Component=Pl;Ae.Fragment=yM;Ae.Profiler=xM;Ae.PureComponent=g0;Ae.StrictMode=vM;Ae.Suspense=SM;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OM;Ae.act=QE;Ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=WE({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=v0.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)GE.call(e,l)&&!JE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Uu,type:t.type,key:s,ref:i,props:r,_owner:o}};Ae.createContext=function(t){return t={$$typeof:wM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bM,_context:t},t.Consumer=t};Ae.createElement=YE;Ae.createFactory=function(t){var e=YE.bind(null,t);return e.type=t,e};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(t){return{$$typeof:kM,render:t}};Ae.isValidElement=x0;Ae.lazy=function(t){return{$$typeof:_M,_payload:{_status:-1,_result:t},_init:AM}};Ae.memo=function(t,e){return{$$typeof:EM,type:t,compare:e===void 0?null:e}};Ae.startTransition=function(t){var e=cf.transition;cf.transition={};try{t()}finally{cf.transition=e}};Ae.unstable_act=QE;Ae.useCallback=function(t,e){return dn.current.useCallback(t,e)};Ae.useContext=function(t){return dn.current.useContext(t)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(t){return dn.current.useDeferredValue(t)};Ae.useEffect=function(t,e){return dn.current.useEffect(t,e)};Ae.useId=function(){return dn.current.useId()};Ae.useImperativeHandle=function(t,e,n){return dn.current.useImperativeHandle(t,e,n)};Ae.useInsertionEffect=function(t,e){return dn.current.useInsertionEffect(t,e)};Ae.useLayoutEffect=function(t,e){return dn.current.useLayoutEffect(t,e)};Ae.useMemo=function(t,e){return dn.current.useMemo(t,e)};Ae.useReducer=function(t,e,n){return dn.current.useReducer(t,e,n)};Ae.useRef=function(t){return dn.current.useRef(t)};Ae.useState=function(t){return dn.current.useState(t)};Ae.useSyncExternalStore=function(t,e,n){return dn.current.useSyncExternalStore(t,e,n)};Ae.useTransition=function(){return dn.current.useTransition()};Ae.version="18.3.1";VE.exports=Ae;var b=VE.exports;const B=BE(b),b0=mM({__proto__:null,default:B},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RM=b,jM=Symbol.for("react.element"),PM=Symbol.for("react.fragment"),MM=Object.prototype.hasOwnProperty,IM=RM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DM={key:!0,ref:!0,__self:!0,__source:!0};function ZE(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)MM.call(e,r)&&!DM.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:jM,type:t,key:i,ref:o,props:s,_owner:IM.current}}gp.Fragment=PM;gp.jsx=ZE;gp.jsxs=ZE;UE.exports=gp;var h=UE.exports,XE={exports:{}},Bn={},e_={exports:{}},t_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,j){var H=O.length;O.push(j);e:for(;0<H;){var A=H-1>>>1,F=O[A];if(0<s(F,j))O[A]=j,O[H]=F,H=A;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var j=O[0],H=O.pop();if(H!==j){O[0]=H;e:for(var A=0,F=O.length,Y=F>>>1;A<Y;){var de=2*(A+1)-1,ce=O[de],Le=de+1,q=O[Le];if(0>s(ce,H))Le<F&&0>s(q,ce)?(O[A]=q,O[Le]=H,A=Le):(O[A]=ce,O[de]=H,A=de);else if(Le<F&&0>s(q,H))O[A]=q,O[Le]=H,A=Le;else break e}}return j}function s(O,j){var H=O.sortIndex-j.sortIndex;return H!==0?H:O.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,p=!1,g=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(O){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=O)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function k(O){if(m=!1,w(O),!g)if(n(l)!==null)g=!0,W(S);else{var j=n(c);j!==null&&X(k,j.startTime-O)}}function S(O,j){g=!1,m&&(m=!1,v(C),C=-1),p=!0;var H=f;try{for(w(j),d=n(l);d!==null&&(!(d.expirationTime>j)||O&&!L());){var A=d.callback;if(typeof A=="function"){d.callback=null,f=d.priorityLevel;var F=A(d.expirationTime<=j);j=t.unstable_now(),typeof F=="function"?d.callback=F:d===n(l)&&r(l),w(j)}else r(l);d=n(l)}if(d!==null)var Y=!0;else{var de=n(c);de!==null&&X(k,de.startTime-j),Y=!1}return Y}finally{d=null,f=H,p=!1}}var _=!1,E=null,C=-1,N=5,R=-1;function L(){return!(t.unstable_now()-R<N)}function I(){if(E!==null){var O=t.unstable_now();R=O;var j=!0;try{j=E(!0,O)}finally{j?Z():(_=!1,E=null)}}else _=!1}var Z;if(typeof x=="function")Z=function(){x(I)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,J=M.port2;M.port1.onmessage=I,Z=function(){J.postMessage(null)}}else Z=function(){y(I,0)};function W(O){E=O,_||(_=!0,Z())}function X(O,j){C=y(function(){O(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,W(S))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var H=f;f=j;try{return O()}finally{f=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,j){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var H=f;f=O;try{return j()}finally{f=H}},t.unstable_scheduleCallback=function(O,j,H){var A=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?A+H:A):H=A,O){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=H+F,O={id:u++,callback:j,priorityLevel:O,startTime:H,expirationTime:F,sortIndex:-1},H>A?(O.sortIndex=H,e(c,O),n(l)===null&&O===n(c)&&(m?(v(C),C=-1):m=!0,X(k,H-A))):(O.sortIndex=F,e(l,O),g||p||(g=!0,W(S))),O},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(O){var j=f;return function(){var H=f;f=j;try{return O.apply(this,arguments)}finally{f=H}}}})(t_);e_.exports=t_;var LM=e_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $M=b,$n=LM;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n_=new Set,Zc={};function Zo(t,e){ll(t,e),ll(t+"Capture",e)}function ll(t,e){for(Zc[t]=e,t=0;t<e.length;t++)n_.add(e[t])}var Cs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ey=Object.prototype.hasOwnProperty,zM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ew={},tw={};function BM(t){return ey.call(tw,t)?!0:ey.call(ew,t)?!1:zM.test(t)?tw[t]=!0:(ew[t]=!0,!1)}function FM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function UM(t,e,n,r){if(e===null||typeof e>"u"||FM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function fn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ft[t]=new fn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ft[e]=new fn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ft[t]=new fn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ft[t]=new fn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ft[t]=new fn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ft[t]=new fn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ft[t]=new fn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ft[t]=new fn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ft[t]=new fn(t,5,!1,t.toLowerCase(),null,!1,!1)});var w0=/[\-:]([a-z])/g;function k0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(w0,k0);Ft[e]=new fn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(w0,k0);Ft[e]=new fn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(w0,k0);Ft[e]=new fn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ft[t]=new fn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new fn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ft[t]=new fn(t,1,!1,t.toLowerCase(),null,!0,!0)});function S0(t,e,n,r){var s=Ft.hasOwnProperty(e)?Ft[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(UM(e,n,s,r)&&(n=null),r||s===null?BM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ps=$M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dd=Symbol.for("react.element"),Na=Symbol.for("react.portal"),Aa=Symbol.for("react.fragment"),E0=Symbol.for("react.strict_mode"),ty=Symbol.for("react.profiler"),r_=Symbol.for("react.provider"),s_=Symbol.for("react.context"),_0=Symbol.for("react.forward_ref"),ny=Symbol.for("react.suspense"),ry=Symbol.for("react.suspense_list"),C0=Symbol.for("react.memo"),Gs=Symbol.for("react.lazy"),i_=Symbol.for("react.offscreen"),nw=Symbol.iterator;function Zl(t){return t===null||typeof t!="object"?null:(t=nw&&t[nw]||t["@@iterator"],typeof t=="function"?t:null)}var it=Object.assign,Sm;function yc(t){if(Sm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Sm=e&&e[1]||""}return`
`+Sm+t}var Em=!1;function _m(t,e){if(!t||Em)return"";Em=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Em=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?yc(t):""}function VM(t){switch(t.tag){case 5:return yc(t.type);case 16:return yc("Lazy");case 13:return yc("Suspense");case 19:return yc("SuspenseList");case 0:case 2:case 15:return t=_m(t.type,!1),t;case 11:return t=_m(t.type.render,!1),t;case 1:return t=_m(t.type,!0),t;default:return""}}function sy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Aa:return"Fragment";case Na:return"Portal";case ty:return"Profiler";case E0:return"StrictMode";case ny:return"Suspense";case ry:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case s_:return(t.displayName||"Context")+".Consumer";case r_:return(t._context.displayName||"Context")+".Provider";case _0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C0:return e=t.displayName||null,e!==null?e:sy(t.type)||"Memo";case Gs:e=t._payload,t=t._init;try{return sy(t(e))}catch{}}return null}function HM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sy(e);case 8:return e===E0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Mi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function o_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function WM(t){var e=o_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fd(t){t._valueTracker||(t._valueTracker=WM(t))}function a_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=o_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Pf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function iy(t,e){var n=e.checked;return it({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function rw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Mi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function l_(t,e){e=e.checked,e!=null&&S0(t,"checked",e,!1)}function oy(t,e){l_(t,e);var n=Mi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ay(t,e.type,n):e.hasOwnProperty("defaultValue")&&ay(t,e.type,Mi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ay(t,e,n){(e!=="number"||Pf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var vc=Array.isArray;function Fa(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Mi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ly(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return it({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function iw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(vc(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Mi(n)}}function c_(t,e){var n=Mi(e.value),r=Mi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ow(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function u_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?u_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hd,d_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hd=hd||document.createElement("div"),hd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ac={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qM=["Webkit","ms","Moz","O"];Object.keys(Ac).forEach(function(t){qM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ac[e]=Ac[t]})});function f_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ac.hasOwnProperty(t)&&Ac[t]?(""+e).trim():e+"px"}function h_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=f_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var KM=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uy(t,e){if(e){if(KM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function dy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fy=null;function T0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hy=null,Ua=null,Va=null;function aw(t){if(t=Wu(t)){if(typeof hy!="function")throw Error(z(280));var e=t.stateNode;e&&(e=wp(e),hy(t.stateNode,t.type,e))}}function p_(t){Ua?Va?Va.push(t):Va=[t]:Ua=t}function m_(){if(Ua){var t=Ua,e=Va;if(Va=Ua=null,aw(t),e)for(t=0;t<e.length;t++)aw(e[t])}}function g_(t,e){return t(e)}function y_(){}var Cm=!1;function v_(t,e,n){if(Cm)return t(e,n);Cm=!0;try{return g_(t,e,n)}finally{Cm=!1,(Ua!==null||Va!==null)&&(y_(),m_())}}function eu(t,e){var n=t.stateNode;if(n===null)return null;var r=wp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var py=!1;if(Cs)try{var Xl={};Object.defineProperty(Xl,"passive",{get:function(){py=!0}}),window.addEventListener("test",Xl,Xl),window.removeEventListener("test",Xl,Xl)}catch{py=!1}function GM(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Oc=!1,Mf=null,If=!1,my=null,JM={onError:function(t){Oc=!0,Mf=t}};function YM(t,e,n,r,s,i,o,a,l){Oc=!1,Mf=null,GM.apply(JM,arguments)}function QM(t,e,n,r,s,i,o,a,l){if(YM.apply(this,arguments),Oc){if(Oc){var c=Mf;Oc=!1,Mf=null}else throw Error(z(198));If||(If=!0,my=c)}}function Xo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function x_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function lw(t){if(Xo(t)!==t)throw Error(z(188))}function ZM(t){var e=t.alternate;if(!e){if(e=Xo(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return lw(s),t;if(i===r)return lw(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function b_(t){return t=ZM(t),t!==null?w_(t):null}function w_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=w_(t);if(e!==null)return e;t=t.sibling}return null}var k_=$n.unstable_scheduleCallback,cw=$n.unstable_cancelCallback,XM=$n.unstable_shouldYield,eI=$n.unstable_requestPaint,ft=$n.unstable_now,tI=$n.unstable_getCurrentPriorityLevel,N0=$n.unstable_ImmediatePriority,S_=$n.unstable_UserBlockingPriority,Df=$n.unstable_NormalPriority,nI=$n.unstable_LowPriority,E_=$n.unstable_IdlePriority,yp=null,Jr=null;function rI(t){if(Jr&&typeof Jr.onCommitFiberRoot=="function")try{Jr.onCommitFiberRoot(yp,t,void 0,(t.current.flags&128)===128)}catch{}}var Nr=Math.clz32?Math.clz32:oI,sI=Math.log,iI=Math.LN2;function oI(t){return t>>>=0,t===0?32:31-(sI(t)/iI|0)|0}var pd=64,md=4194304;function xc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Lf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=xc(a):(i&=o,i!==0&&(r=xc(i)))}else o=n&~s,o!==0?r=xc(o):i!==0&&(r=xc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Nr(e),s=1<<n,r|=t[n],e&=~s;return r}function aI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Nr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=aI(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function gy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function __(){var t=pd;return pd<<=1,!(pd&4194240)&&(pd=64),t}function Tm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Nr(e),t[e]=n}function cI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Nr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function A0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Nr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ue=0;function C_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var T_,O0,N_,A_,O_,yy=!1,gd=[],vi=null,xi=null,bi=null,tu=new Map,nu=new Map,ei=[],uI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uw(t,e){switch(t){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":xi=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":tu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":nu.delete(e.pointerId)}}function ec(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Wu(e),e!==null&&O0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function dI(t,e,n,r,s){switch(e){case"focusin":return vi=ec(vi,t,e,n,r,s),!0;case"dragenter":return xi=ec(xi,t,e,n,r,s),!0;case"mouseover":return bi=ec(bi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return tu.set(i,ec(tu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,nu.set(i,ec(nu.get(i)||null,t,e,n,r,s)),!0}return!1}function R_(t){var e=mo(t.target);if(e!==null){var n=Xo(e);if(n!==null){if(e=n.tag,e===13){if(e=x_(n),e!==null){t.blockedOn=e,O_(t.priority,function(){N_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function uf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=vy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);fy=r,n.target.dispatchEvent(r),fy=null}else return e=Wu(n),e!==null&&O0(e),t.blockedOn=n,!1;e.shift()}return!0}function dw(t,e,n){uf(t)&&n.delete(e)}function fI(){yy=!1,vi!==null&&uf(vi)&&(vi=null),xi!==null&&uf(xi)&&(xi=null),bi!==null&&uf(bi)&&(bi=null),tu.forEach(dw),nu.forEach(dw)}function tc(t,e){t.blockedOn===e&&(t.blockedOn=null,yy||(yy=!0,$n.unstable_scheduleCallback($n.unstable_NormalPriority,fI)))}function ru(t){function e(s){return tc(s,t)}if(0<gd.length){tc(gd[0],t);for(var n=1;n<gd.length;n++){var r=gd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(vi!==null&&tc(vi,t),xi!==null&&tc(xi,t),bi!==null&&tc(bi,t),tu.forEach(e),nu.forEach(e),n=0;n<ei.length;n++)r=ei[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ei.length&&(n=ei[0],n.blockedOn===null);)R_(n),n.blockedOn===null&&ei.shift()}var Ha=Ps.ReactCurrentBatchConfig,$f=!0;function hI(t,e,n,r){var s=Ue,i=Ha.transition;Ha.transition=null;try{Ue=1,R0(t,e,n,r)}finally{Ue=s,Ha.transition=i}}function pI(t,e,n,r){var s=Ue,i=Ha.transition;Ha.transition=null;try{Ue=4,R0(t,e,n,r)}finally{Ue=s,Ha.transition=i}}function R0(t,e,n,r){if($f){var s=vy(t,e,n,r);if(s===null)Lm(t,e,r,zf,n),uw(t,r);else if(dI(s,t,e,n,r))r.stopPropagation();else if(uw(t,r),e&4&&-1<uI.indexOf(t)){for(;s!==null;){var i=Wu(s);if(i!==null&&T_(i),i=vy(t,e,n,r),i===null&&Lm(t,e,r,zf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Lm(t,e,r,null,n)}}var zf=null;function vy(t,e,n,r){if(zf=null,t=T0(r),t=mo(t),t!==null)if(e=Xo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=x_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zf=t,null}function j_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tI()){case N0:return 1;case S_:return 4;case Df:case nI:return 16;case E_:return 536870912;default:return 16}default:return 16}}var ui=null,j0=null,df=null;function P_(){if(df)return df;var t,e=j0,n=e.length,r,s="value"in ui?ui.value:ui.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return df=s.slice(t,1<r?1-r:void 0)}function ff(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yd(){return!0}function fw(){return!1}function Fn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?yd:fw,this.isPropagationStopped=fw,this}return it(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yd)},persist:function(){},isPersistent:yd}),e}var Ml={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},P0=Fn(Ml),Hu=it({},Ml,{view:0,detail:0}),mI=Fn(Hu),Nm,Am,nc,vp=it({},Hu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:M0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nc&&(nc&&t.type==="mousemove"?(Nm=t.screenX-nc.screenX,Am=t.screenY-nc.screenY):Am=Nm=0,nc=t),Nm)},movementY:function(t){return"movementY"in t?t.movementY:Am}}),hw=Fn(vp),gI=it({},vp,{dataTransfer:0}),yI=Fn(gI),vI=it({},Hu,{relatedTarget:0}),Om=Fn(vI),xI=it({},Ml,{animationName:0,elapsedTime:0,pseudoElement:0}),bI=Fn(xI),wI=it({},Ml,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kI=Fn(wI),SI=it({},Ml,{data:0}),pw=Fn(SI),EI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_I={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=CI[t])?!!e[t]:!1}function M0(){return TI}var NI=it({},Hu,{key:function(t){if(t.key){var e=EI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ff(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_I[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:M0,charCode:function(t){return t.type==="keypress"?ff(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ff(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),AI=Fn(NI),OI=it({},vp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mw=Fn(OI),RI=it({},Hu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:M0}),jI=Fn(RI),PI=it({},Ml,{propertyName:0,elapsedTime:0,pseudoElement:0}),MI=Fn(PI),II=it({},vp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),DI=Fn(II),LI=[9,13,27,32],I0=Cs&&"CompositionEvent"in window,Rc=null;Cs&&"documentMode"in document&&(Rc=document.documentMode);var $I=Cs&&"TextEvent"in window&&!Rc,M_=Cs&&(!I0||Rc&&8<Rc&&11>=Rc),gw=" ",yw=!1;function I_(t,e){switch(t){case"keyup":return LI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function D_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oa=!1;function zI(t,e){switch(t){case"compositionend":return D_(e);case"keypress":return e.which!==32?null:(yw=!0,gw);case"textInput":return t=e.data,t===gw&&yw?null:t;default:return null}}function BI(t,e){if(Oa)return t==="compositionend"||!I0&&I_(t,e)?(t=P_(),df=j0=ui=null,Oa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return M_&&e.locale!=="ko"?null:e.data;default:return null}}var FI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!FI[t.type]:e==="textarea"}function L_(t,e,n,r){p_(r),e=Bf(e,"onChange"),0<e.length&&(n=new P0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var jc=null,su=null;function UI(t){G_(t,0)}function xp(t){var e=Pa(t);if(a_(e))return t}function VI(t,e){if(t==="change")return e}var $_=!1;if(Cs){var Rm;if(Cs){var jm="oninput"in document;if(!jm){var xw=document.createElement("div");xw.setAttribute("oninput","return;"),jm=typeof xw.oninput=="function"}Rm=jm}else Rm=!1;$_=Rm&&(!document.documentMode||9<document.documentMode)}function bw(){jc&&(jc.detachEvent("onpropertychange",z_),su=jc=null)}function z_(t){if(t.propertyName==="value"&&xp(su)){var e=[];L_(e,su,t,T0(t)),v_(UI,e)}}function HI(t,e,n){t==="focusin"?(bw(),jc=e,su=n,jc.attachEvent("onpropertychange",z_)):t==="focusout"&&bw()}function WI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xp(su)}function qI(t,e){if(t==="click")return xp(e)}function KI(t,e){if(t==="input"||t==="change")return xp(e)}function GI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Or=typeof Object.is=="function"?Object.is:GI;function iu(t,e){if(Or(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ey.call(e,s)||!Or(t[s],e[s]))return!1}return!0}function ww(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kw(t,e){var n=ww(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ww(n)}}function B_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?B_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function F_(){for(var t=window,e=Pf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Pf(t.document)}return e}function D0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function JI(t){var e=F_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&B_(n.ownerDocument.documentElement,n)){if(r!==null&&D0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=kw(n,i);var o=kw(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var YI=Cs&&"documentMode"in document&&11>=document.documentMode,Ra=null,xy=null,Pc=null,by=!1;function Sw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;by||Ra==null||Ra!==Pf(r)||(r=Ra,"selectionStart"in r&&D0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pc&&iu(Pc,r)||(Pc=r,r=Bf(xy,"onSelect"),0<r.length&&(e=new P0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ra)))}function vd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ja={animationend:vd("Animation","AnimationEnd"),animationiteration:vd("Animation","AnimationIteration"),animationstart:vd("Animation","AnimationStart"),transitionend:vd("Transition","TransitionEnd")},Pm={},U_={};Cs&&(U_=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function bp(t){if(Pm[t])return Pm[t];if(!ja[t])return t;var e=ja[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in U_)return Pm[t]=e[n];return t}var V_=bp("animationend"),H_=bp("animationiteration"),W_=bp("animationstart"),q_=bp("transitionend"),K_=new Map,Ew="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ui(t,e){K_.set(t,e),Zo(e,[t])}for(var Mm=0;Mm<Ew.length;Mm++){var Im=Ew[Mm],QI=Im.toLowerCase(),ZI=Im[0].toUpperCase()+Im.slice(1);Ui(QI,"on"+ZI)}Ui(V_,"onAnimationEnd");Ui(H_,"onAnimationIteration");Ui(W_,"onAnimationStart");Ui("dblclick","onDoubleClick");Ui("focusin","onFocus");Ui("focusout","onBlur");Ui(q_,"onTransitionEnd");ll("onMouseEnter",["mouseout","mouseover"]);ll("onMouseLeave",["mouseout","mouseover"]);ll("onPointerEnter",["pointerout","pointerover"]);ll("onPointerLeave",["pointerout","pointerover"]);Zo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XI=new Set("cancel close invalid load scroll toggle".split(" ").concat(bc));function _w(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,QM(r,e,void 0,t),t.currentTarget=null}function G_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;_w(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;_w(s,a,c),i=l}}}if(If)throw t=my,If=!1,my=null,t}function Je(t,e){var n=e[_y];n===void 0&&(n=e[_y]=new Set);var r=t+"__bubble";n.has(r)||(J_(e,t,2,!1),n.add(r))}function Dm(t,e,n){var r=0;e&&(r|=4),J_(n,t,r,e)}var xd="_reactListening"+Math.random().toString(36).slice(2);function ou(t){if(!t[xd]){t[xd]=!0,n_.forEach(function(n){n!=="selectionchange"&&(XI.has(n)||Dm(n,!1,t),Dm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xd]||(e[xd]=!0,Dm("selectionchange",!1,e))}}function J_(t,e,n,r){switch(j_(e)){case 1:var s=hI;break;case 4:s=pI;break;default:s=R0}n=s.bind(null,e,n,t),s=void 0,!py||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Lm(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=mo(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}v_(function(){var c=i,u=T0(n),d=[];e:{var f=K_.get(t);if(f!==void 0){var p=P0,g=t;switch(t){case"keypress":if(ff(n)===0)break e;case"keydown":case"keyup":p=AI;break;case"focusin":g="focus",p=Om;break;case"focusout":g="blur",p=Om;break;case"beforeblur":case"afterblur":p=Om;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=hw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=yI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=jI;break;case V_:case H_:case W_:p=bI;break;case q_:p=MI;break;case"scroll":p=mI;break;case"wheel":p=DI;break;case"copy":case"cut":case"paste":p=kI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=mw}var m=(e&4)!==0,y=!m&&t==="scroll",v=m?f!==null?f+"Capture":null:f;m=[];for(var x=c,w;x!==null;){w=x;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,v!==null&&(k=eu(x,v),k!=null&&m.push(au(x,k,w)))),y)break;x=x.return}0<m.length&&(f=new p(f,g,null,n,u),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==fy&&(g=n.relatedTarget||n.fromElement)&&(mo(g)||g[Ts]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?mo(g):null,g!==null&&(y=Xo(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=hw,k="onMouseLeave",v="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(m=mw,k="onPointerLeave",v="onPointerEnter",x="pointer"),y=p==null?f:Pa(p),w=g==null?f:Pa(g),f=new m(k,x+"leave",p,n,u),f.target=y,f.relatedTarget=w,k=null,mo(u)===c&&(m=new m(v,x+"enter",g,n,u),m.target=w,m.relatedTarget=y,k=m),y=k,p&&g)t:{for(m=p,v=g,x=0,w=m;w;w=ua(w))x++;for(w=0,k=v;k;k=ua(k))w++;for(;0<x-w;)m=ua(m),x--;for(;0<w-x;)v=ua(v),w--;for(;x--;){if(m===v||v!==null&&m===v.alternate)break t;m=ua(m),v=ua(v)}m=null}else m=null;p!==null&&Cw(d,f,p,m,!1),g!==null&&y!==null&&Cw(d,y,g,m,!0)}}e:{if(f=c?Pa(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=VI;else if(vw(f))if($_)S=KI;else{S=WI;var _=HI}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=qI);if(S&&(S=S(t,c))){L_(d,S,n,u);break e}_&&_(t,f,c),t==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&ay(f,"number",f.value)}switch(_=c?Pa(c):window,t){case"focusin":(vw(_)||_.contentEditable==="true")&&(Ra=_,xy=c,Pc=null);break;case"focusout":Pc=xy=Ra=null;break;case"mousedown":by=!0;break;case"contextmenu":case"mouseup":case"dragend":by=!1,Sw(d,n,u);break;case"selectionchange":if(YI)break;case"keydown":case"keyup":Sw(d,n,u)}var E;if(I0)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Oa?I_(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(M_&&n.locale!=="ko"&&(Oa||C!=="onCompositionStart"?C==="onCompositionEnd"&&Oa&&(E=P_()):(ui=u,j0="value"in ui?ui.value:ui.textContent,Oa=!0)),_=Bf(c,C),0<_.length&&(C=new pw(C,t,null,n,u),d.push({event:C,listeners:_}),E?C.data=E:(E=D_(n),E!==null&&(C.data=E)))),(E=$I?zI(t,n):BI(t,n))&&(c=Bf(c,"onBeforeInput"),0<c.length&&(u=new pw("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=E))}G_(d,e)})}function au(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Bf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=eu(t,n),i!=null&&r.unshift(au(t,i,s)),i=eu(t,e),i!=null&&r.push(au(t,i,s))),t=t.return}return r}function ua(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Cw(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=eu(n,i),l!=null&&o.unshift(au(n,l,a))):s||(l=eu(n,i),l!=null&&o.push(au(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var e2=/\r\n?/g,t2=/\u0000|\uFFFD/g;function Tw(t){return(typeof t=="string"?t:""+t).replace(e2,`
`).replace(t2,"")}function bd(t,e,n){if(e=Tw(e),Tw(t)!==e&&n)throw Error(z(425))}function Ff(){}var wy=null,ky=null;function Sy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ey=typeof setTimeout=="function"?setTimeout:void 0,n2=typeof clearTimeout=="function"?clearTimeout:void 0,Nw=typeof Promise=="function"?Promise:void 0,r2=typeof queueMicrotask=="function"?queueMicrotask:typeof Nw<"u"?function(t){return Nw.resolve(null).then(t).catch(s2)}:Ey;function s2(t){setTimeout(function(){throw t})}function $m(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ru(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ru(e)}function wi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Aw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Il=Math.random().toString(36).slice(2),Kr="__reactFiber$"+Il,lu="__reactProps$"+Il,Ts="__reactContainer$"+Il,_y="__reactEvents$"+Il,i2="__reactListeners$"+Il,o2="__reactHandles$"+Il;function mo(t){var e=t[Kr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ts]||n[Kr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Aw(t);t!==null;){if(n=t[Kr])return n;t=Aw(t)}return e}t=n,n=t.parentNode}return null}function Wu(t){return t=t[Kr]||t[Ts],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Pa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function wp(t){return t[lu]||null}var Cy=[],Ma=-1;function Vi(t){return{current:t}}function Qe(t){0>Ma||(t.current=Cy[Ma],Cy[Ma]=null,Ma--)}function qe(t,e){Ma++,Cy[Ma]=t.current,t.current=e}var Ii={},Yt=Vi(Ii),kn=Vi(!1),Do=Ii;function cl(t,e){var n=t.type.contextTypes;if(!n)return Ii;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Sn(t){return t=t.childContextTypes,t!=null}function Uf(){Qe(kn),Qe(Yt)}function Ow(t,e,n){if(Yt.current!==Ii)throw Error(z(168));qe(Yt,e),qe(kn,n)}function Y_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,HM(t)||"Unknown",s));return it({},n,r)}function Vf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ii,Do=Yt.current,qe(Yt,t),qe(kn,kn.current),!0}function Rw(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=Y_(t,e,Do),r.__reactInternalMemoizedMergedChildContext=t,Qe(kn),Qe(Yt),qe(Yt,t)):Qe(kn),qe(kn,n)}var vs=null,kp=!1,zm=!1;function Q_(t){vs===null?vs=[t]:vs.push(t)}function a2(t){kp=!0,Q_(t)}function Hi(){if(!zm&&vs!==null){zm=!0;var t=0,e=Ue;try{var n=vs;for(Ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}vs=null,kp=!1}catch(s){throw vs!==null&&(vs=vs.slice(t+1)),k_(N0,Hi),s}finally{Ue=e,zm=!1}}return null}var Ia=[],Da=0,Hf=null,Wf=0,Yn=[],Qn=0,Lo=null,ws=1,ks="";function ao(t,e){Ia[Da++]=Wf,Ia[Da++]=Hf,Hf=t,Wf=e}function Z_(t,e,n){Yn[Qn++]=ws,Yn[Qn++]=ks,Yn[Qn++]=Lo,Lo=t;var r=ws;t=ks;var s=32-Nr(r)-1;r&=~(1<<s),n+=1;var i=32-Nr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ws=1<<32-Nr(e)+s|n<<s|r,ks=i+t}else ws=1<<i|n<<s|r,ks=t}function L0(t){t.return!==null&&(ao(t,1),Z_(t,1,0))}function $0(t){for(;t===Hf;)Hf=Ia[--Da],Ia[Da]=null,Wf=Ia[--Da],Ia[Da]=null;for(;t===Lo;)Lo=Yn[--Qn],Yn[Qn]=null,ks=Yn[--Qn],Yn[Qn]=null,ws=Yn[--Qn],Yn[Qn]=null}var Dn=null,In=null,Xe=!1,_r=null;function X_(t,e){var n=er(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function jw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Dn=t,In=wi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Dn=t,In=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Lo!==null?{id:ws,overflow:ks}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=er(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Dn=t,In=null,!0):!1;default:return!1}}function Ty(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ny(t){if(Xe){var e=In;if(e){var n=e;if(!jw(t,e)){if(Ty(t))throw Error(z(418));e=wi(n.nextSibling);var r=Dn;e&&jw(t,e)?X_(r,n):(t.flags=t.flags&-4097|2,Xe=!1,Dn=t)}}else{if(Ty(t))throw Error(z(418));t.flags=t.flags&-4097|2,Xe=!1,Dn=t}}}function Pw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Dn=t}function wd(t){if(t!==Dn)return!1;if(!Xe)return Pw(t),Xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Sy(t.type,t.memoizedProps)),e&&(e=In)){if(Ty(t))throw eC(),Error(z(418));for(;e;)X_(t,e),e=wi(e.nextSibling)}if(Pw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){In=wi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}In=null}}else In=Dn?wi(t.stateNode.nextSibling):null;return!0}function eC(){for(var t=In;t;)t=wi(t.nextSibling)}function ul(){In=Dn=null,Xe=!1}function z0(t){_r===null?_r=[t]:_r.push(t)}var l2=Ps.ReactCurrentBatchConfig;function rc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function kd(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Mw(t){var e=t._init;return e(t._payload)}function tC(t){function e(v,x){if(t){var w=v.deletions;w===null?(v.deletions=[x],v.flags|=16):w.push(x)}}function n(v,x){if(!t)return null;for(;x!==null;)e(v,x),x=x.sibling;return null}function r(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function s(v,x){return v=_i(v,x),v.index=0,v.sibling=null,v}function i(v,x,w){return v.index=w,t?(w=v.alternate,w!==null?(w=w.index,w<x?(v.flags|=2,x):w):(v.flags|=2,x)):(v.flags|=1048576,x)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,x,w,k){return x===null||x.tag!==6?(x=qm(w,v.mode,k),x.return=v,x):(x=s(x,w),x.return=v,x)}function l(v,x,w,k){var S=w.type;return S===Aa?u(v,x,w.props.children,k,w.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Gs&&Mw(S)===x.type)?(k=s(x,w.props),k.ref=rc(v,x,w),k.return=v,k):(k=xf(w.type,w.key,w.props,null,v.mode,k),k.ref=rc(v,x,w),k.return=v,k)}function c(v,x,w,k){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=Km(w,v.mode,k),x.return=v,x):(x=s(x,w.children||[]),x.return=v,x)}function u(v,x,w,k,S){return x===null||x.tag!==7?(x=Oo(w,v.mode,k,S),x.return=v,x):(x=s(x,w),x.return=v,x)}function d(v,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=qm(""+x,v.mode,w),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case dd:return w=xf(x.type,x.key,x.props,null,v.mode,w),w.ref=rc(v,null,x),w.return=v,w;case Na:return x=Km(x,v.mode,w),x.return=v,x;case Gs:var k=x._init;return d(v,k(x._payload),w)}if(vc(x)||Zl(x))return x=Oo(x,v.mode,w,null),x.return=v,x;kd(v,x)}return null}function f(v,x,w,k){var S=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:a(v,x,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case dd:return w.key===S?l(v,x,w,k):null;case Na:return w.key===S?c(v,x,w,k):null;case Gs:return S=w._init,f(v,x,S(w._payload),k)}if(vc(w)||Zl(w))return S!==null?null:u(v,x,w,k,null);kd(v,w)}return null}function p(v,x,w,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return v=v.get(w)||null,a(x,v,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case dd:return v=v.get(k.key===null?w:k.key)||null,l(x,v,k,S);case Na:return v=v.get(k.key===null?w:k.key)||null,c(x,v,k,S);case Gs:var _=k._init;return p(v,x,w,_(k._payload),S)}if(vc(k)||Zl(k))return v=v.get(w)||null,u(x,v,k,S,null);kd(x,k)}return null}function g(v,x,w,k){for(var S=null,_=null,E=x,C=x=0,N=null;E!==null&&C<w.length;C++){E.index>C?(N=E,E=null):N=E.sibling;var R=f(v,E,w[C],k);if(R===null){E===null&&(E=N);break}t&&E&&R.alternate===null&&e(v,E),x=i(R,x,C),_===null?S=R:_.sibling=R,_=R,E=N}if(C===w.length)return n(v,E),Xe&&ao(v,C),S;if(E===null){for(;C<w.length;C++)E=d(v,w[C],k),E!==null&&(x=i(E,x,C),_===null?S=E:_.sibling=E,_=E);return Xe&&ao(v,C),S}for(E=r(v,E);C<w.length;C++)N=p(E,v,C,w[C],k),N!==null&&(t&&N.alternate!==null&&E.delete(N.key===null?C:N.key),x=i(N,x,C),_===null?S=N:_.sibling=N,_=N);return t&&E.forEach(function(L){return e(v,L)}),Xe&&ao(v,C),S}function m(v,x,w,k){var S=Zl(w);if(typeof S!="function")throw Error(z(150));if(w=S.call(w),w==null)throw Error(z(151));for(var _=S=null,E=x,C=x=0,N=null,R=w.next();E!==null&&!R.done;C++,R=w.next()){E.index>C?(N=E,E=null):N=E.sibling;var L=f(v,E,R.value,k);if(L===null){E===null&&(E=N);break}t&&E&&L.alternate===null&&e(v,E),x=i(L,x,C),_===null?S=L:_.sibling=L,_=L,E=N}if(R.done)return n(v,E),Xe&&ao(v,C),S;if(E===null){for(;!R.done;C++,R=w.next())R=d(v,R.value,k),R!==null&&(x=i(R,x,C),_===null?S=R:_.sibling=R,_=R);return Xe&&ao(v,C),S}for(E=r(v,E);!R.done;C++,R=w.next())R=p(E,v,C,R.value,k),R!==null&&(t&&R.alternate!==null&&E.delete(R.key===null?C:R.key),x=i(R,x,C),_===null?S=R:_.sibling=R,_=R);return t&&E.forEach(function(I){return e(v,I)}),Xe&&ao(v,C),S}function y(v,x,w,k){if(typeof w=="object"&&w!==null&&w.type===Aa&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case dd:e:{for(var S=w.key,_=x;_!==null;){if(_.key===S){if(S=w.type,S===Aa){if(_.tag===7){n(v,_.sibling),x=s(_,w.props.children),x.return=v,v=x;break e}}else if(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Gs&&Mw(S)===_.type){n(v,_.sibling),x=s(_,w.props),x.ref=rc(v,_,w),x.return=v,v=x;break e}n(v,_);break}else e(v,_);_=_.sibling}w.type===Aa?(x=Oo(w.props.children,v.mode,k,w.key),x.return=v,v=x):(k=xf(w.type,w.key,w.props,null,v.mode,k),k.ref=rc(v,x,w),k.return=v,v=k)}return o(v);case Na:e:{for(_=w.key;x!==null;){if(x.key===_)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(v,x.sibling),x=s(x,w.children||[]),x.return=v,v=x;break e}else{n(v,x);break}else e(v,x);x=x.sibling}x=Km(w,v.mode,k),x.return=v,v=x}return o(v);case Gs:return _=w._init,y(v,x,_(w._payload),k)}if(vc(w))return g(v,x,w,k);if(Zl(w))return m(v,x,w,k);kd(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(v,x.sibling),x=s(x,w),x.return=v,v=x):(n(v,x),x=qm(w,v.mode,k),x.return=v,v=x),o(v)):n(v,x)}return y}var dl=tC(!0),nC=tC(!1),qf=Vi(null),Kf=null,La=null,B0=null;function F0(){B0=La=Kf=null}function U0(t){var e=qf.current;Qe(qf),t._currentValue=e}function Ay(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Wa(t,e){Kf=t,B0=La=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wn=!0),t.firstContext=null)}function ir(t){var e=t._currentValue;if(B0!==t)if(t={context:t,memoizedValue:e,next:null},La===null){if(Kf===null)throw Error(z(308));La=t,Kf.dependencies={lanes:0,firstContext:t}}else La=La.next=t;return e}var go=null;function V0(t){go===null?go=[t]:go.push(t)}function rC(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,V0(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ns(t,r)}function Ns(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Js=!1;function H0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Es(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ki(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ns(t,n)}return s=r.interleaved,s===null?(e.next=e,V0(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ns(t,n)}function hf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,A0(t,n)}}function Iw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gf(t,e,n,r){var s=t.updateQueue;Js=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,m=a;switch(f=e,p=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(p,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,f=typeof g=="function"?g.call(p,d,f):g,f==null)break e;d=it({},d,f);break e;case 2:Js=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);zo|=o,t.lanes=o,t.memoizedState=d}}function Dw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var qu={},Yr=Vi(qu),cu=Vi(qu),uu=Vi(qu);function yo(t){if(t===qu)throw Error(z(174));return t}function W0(t,e){switch(qe(uu,e),qe(cu,t),qe(Yr,qu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:cy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=cy(e,t)}Qe(Yr),qe(Yr,e)}function fl(){Qe(Yr),Qe(cu),Qe(uu)}function iC(t){yo(uu.current);var e=yo(Yr.current),n=cy(e,t.type);e!==n&&(qe(cu,t),qe(Yr,n))}function q0(t){cu.current===t&&(Qe(Yr),Qe(cu))}var nt=Vi(0);function Jf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Bm=[];function K0(){for(var t=0;t<Bm.length;t++)Bm[t]._workInProgressVersionPrimary=null;Bm.length=0}var pf=Ps.ReactCurrentDispatcher,Fm=Ps.ReactCurrentBatchConfig,$o=0,st=null,St=null,Ct=null,Yf=!1,Mc=!1,du=0,c2=0;function Wt(){throw Error(z(321))}function G0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Or(t[n],e[n]))return!1;return!0}function J0(t,e,n,r,s,i){if($o=i,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pf.current=t===null||t.memoizedState===null?h2:p2,t=n(r,s),Mc){i=0;do{if(Mc=!1,du=0,25<=i)throw Error(z(301));i+=1,Ct=St=null,e.updateQueue=null,pf.current=m2,t=n(r,s)}while(Mc)}if(pf.current=Qf,e=St!==null&&St.next!==null,$o=0,Ct=St=st=null,Yf=!1,e)throw Error(z(300));return t}function Y0(){var t=du!==0;return du=0,t}function Br(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?st.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function or(){if(St===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=St.next;var e=Ct===null?st.memoizedState:Ct.next;if(e!==null)Ct=e,St=t;else{if(t===null)throw Error(z(310));St=t,t={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Ct===null?st.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function fu(t,e){return typeof e=="function"?e(t):e}function Um(t){var e=or(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=St,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if(($o&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,st.lanes|=u,zo|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Or(r,e.memoizedState)||(wn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,st.lanes|=i,zo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Vm(t){var e=or(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Or(i,e.memoizedState)||(wn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function oC(){}function aC(t,e){var n=st,r=or(),s=e(),i=!Or(r.memoizedState,s);if(i&&(r.memoizedState=s,wn=!0),r=r.queue,Q0(uC.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ct!==null&&Ct.memoizedState.tag&1){if(n.flags|=2048,hu(9,cC.bind(null,n,r,s,e),void 0,null),At===null)throw Error(z(349));$o&30||lC(n,e,s)}return s}function lC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function cC(t,e,n,r){e.value=n,e.getSnapshot=r,dC(e)&&fC(t)}function uC(t,e,n){return n(function(){dC(e)&&fC(t)})}function dC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Or(t,n)}catch{return!0}}function fC(t){var e=Ns(t,1);e!==null&&Ar(e,t,1,-1)}function Lw(t){var e=Br();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fu,lastRenderedState:t},e.queue=t,t=t.dispatch=f2.bind(null,st,t),[e.memoizedState,t]}function hu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function hC(){return or().memoizedState}function mf(t,e,n,r){var s=Br();st.flags|=t,s.memoizedState=hu(1|e,n,void 0,r===void 0?null:r)}function Sp(t,e,n,r){var s=or();r=r===void 0?null:r;var i=void 0;if(St!==null){var o=St.memoizedState;if(i=o.destroy,r!==null&&G0(r,o.deps)){s.memoizedState=hu(e,n,i,r);return}}st.flags|=t,s.memoizedState=hu(1|e,n,i,r)}function $w(t,e){return mf(8390656,8,t,e)}function Q0(t,e){return Sp(2048,8,t,e)}function pC(t,e){return Sp(4,2,t,e)}function mC(t,e){return Sp(4,4,t,e)}function gC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function yC(t,e,n){return n=n!=null?n.concat([t]):null,Sp(4,4,gC.bind(null,e,t),n)}function Z0(){}function vC(t,e){var n=or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&G0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function xC(t,e){var n=or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&G0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function bC(t,e,n){return $o&21?(Or(n,e)||(n=__(),st.lanes|=n,zo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wn=!0),t.memoizedState=n)}function u2(t,e){var n=Ue;Ue=n!==0&&4>n?n:4,t(!0);var r=Fm.transition;Fm.transition={};try{t(!1),e()}finally{Ue=n,Fm.transition=r}}function wC(){return or().memoizedState}function d2(t,e,n){var r=Ei(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kC(t))SC(e,n);else if(n=rC(t,e,n,r),n!==null){var s=on();Ar(n,t,r,s),EC(n,e,r)}}function f2(t,e,n){var r=Ei(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kC(t))SC(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Or(a,o)){var l=e.interleaved;l===null?(s.next=s,V0(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=rC(t,e,s,r),n!==null&&(s=on(),Ar(n,t,r,s),EC(n,e,r))}}function kC(t){var e=t.alternate;return t===st||e!==null&&e===st}function SC(t,e){Mc=Yf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function EC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,A0(t,n)}}var Qf={readContext:ir,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},h2={readContext:ir,useCallback:function(t,e){return Br().memoizedState=[t,e===void 0?null:e],t},useContext:ir,useEffect:$w,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,mf(4194308,4,gC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return mf(4194308,4,t,e)},useInsertionEffect:function(t,e){return mf(4,2,t,e)},useMemo:function(t,e){var n=Br();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Br();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=d2.bind(null,st,t),[r.memoizedState,t]},useRef:function(t){var e=Br();return t={current:t},e.memoizedState=t},useState:Lw,useDebugValue:Z0,useDeferredValue:function(t){return Br().memoizedState=t},useTransition:function(){var t=Lw(!1),e=t[0];return t=u2.bind(null,t[1]),Br().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=st,s=Br();if(Xe){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),At===null)throw Error(z(349));$o&30||lC(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,$w(uC.bind(null,r,i,t),[t]),r.flags|=2048,hu(9,cC.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Br(),e=At.identifierPrefix;if(Xe){var n=ks,r=ws;n=(r&~(1<<32-Nr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=du++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=c2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},p2={readContext:ir,useCallback:vC,useContext:ir,useEffect:Q0,useImperativeHandle:yC,useInsertionEffect:pC,useLayoutEffect:mC,useMemo:xC,useReducer:Um,useRef:hC,useState:function(){return Um(fu)},useDebugValue:Z0,useDeferredValue:function(t){var e=or();return bC(e,St.memoizedState,t)},useTransition:function(){var t=Um(fu)[0],e=or().memoizedState;return[t,e]},useMutableSource:oC,useSyncExternalStore:aC,useId:wC,unstable_isNewReconciler:!1},m2={readContext:ir,useCallback:vC,useContext:ir,useEffect:Q0,useImperativeHandle:yC,useInsertionEffect:pC,useLayoutEffect:mC,useMemo:xC,useReducer:Vm,useRef:hC,useState:function(){return Vm(fu)},useDebugValue:Z0,useDeferredValue:function(t){var e=or();return St===null?e.memoizedState=t:bC(e,St.memoizedState,t)},useTransition:function(){var t=Vm(fu)[0],e=or().memoizedState;return[t,e]},useMutableSource:oC,useSyncExternalStore:aC,useId:wC,unstable_isNewReconciler:!1};function vr(t,e){if(t&&t.defaultProps){e=it({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Oy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:it({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ep={isMounted:function(t){return(t=t._reactInternals)?Xo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=on(),s=Ei(t),i=Es(r,s);i.payload=e,n!=null&&(i.callback=n),e=ki(t,i,s),e!==null&&(Ar(e,t,s,r),hf(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=on(),s=Ei(t),i=Es(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ki(t,i,s),e!==null&&(Ar(e,t,s,r),hf(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=on(),r=Ei(t),s=Es(n,r);s.tag=2,e!=null&&(s.callback=e),e=ki(t,s,r),e!==null&&(Ar(e,t,r,n),hf(e,t,r))}};function zw(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!iu(n,r)||!iu(s,i):!0}function _C(t,e,n){var r=!1,s=Ii,i=e.contextType;return typeof i=="object"&&i!==null?i=ir(i):(s=Sn(e)?Do:Yt.current,r=e.contextTypes,i=(r=r!=null)?cl(t,s):Ii),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ep,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Bw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ep.enqueueReplaceState(e,e.state,null)}function Ry(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},H0(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ir(i):(i=Sn(e)?Do:Yt.current,s.context=cl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Oy(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ep.enqueueReplaceState(s,s.state,null),Gf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function hl(t,e){try{var n="",r=e;do n+=VM(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Hm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function jy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var g2=typeof WeakMap=="function"?WeakMap:Map;function CC(t,e,n){n=Es(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Xf||(Xf=!0,Uy=r),jy(t,e)},n}function TC(t,e,n){n=Es(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){jy(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){jy(t,e),typeof r!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Fw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new g2;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=O2.bind(null,t,e,n),e.then(t,t))}function Uw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Vw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Es(-1,1),e.tag=2,ki(n,e,1))),n.lanes|=1),t)}var y2=Ps.ReactCurrentOwner,wn=!1;function nn(t,e,n,r){e.child=t===null?nC(e,null,n,r):dl(e,t.child,n,r)}function Hw(t,e,n,r,s){n=n.render;var i=e.ref;return Wa(e,s),r=J0(t,e,n,r,i,s),n=Y0(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,As(t,e,s)):(Xe&&n&&L0(e),e.flags|=1,nn(t,e,r,s),e.child)}function Ww(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!ox(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,NC(t,e,i,r,s)):(t=xf(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:iu,n(o,r)&&t.ref===e.ref)return As(t,e,s)}return e.flags|=1,t=_i(i,r),t.ref=e.ref,t.return=e,e.child=t}function NC(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(iu(i,r)&&t.ref===e.ref)if(wn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(wn=!0);else return e.lanes=t.lanes,As(t,e,s)}return Py(t,e,n,r,s)}function AC(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(za,On),On|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qe(za,On),On|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,qe(za,On),On|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,qe(za,On),On|=r;return nn(t,e,s,n),e.child}function OC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Py(t,e,n,r,s){var i=Sn(n)?Do:Yt.current;return i=cl(e,i),Wa(e,s),n=J0(t,e,n,r,i,s),r=Y0(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,As(t,e,s)):(Xe&&r&&L0(e),e.flags|=1,nn(t,e,n,s),e.child)}function qw(t,e,n,r,s){if(Sn(n)){var i=!0;Vf(e)}else i=!1;if(Wa(e,s),e.stateNode===null)gf(t,e),_C(e,n,r),Ry(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=ir(c):(c=Sn(n)?Do:Yt.current,c=cl(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Bw(e,o,r,c),Js=!1;var f=e.memoizedState;o.state=f,Gf(e,r,o,s),l=e.memoizedState,a!==r||f!==l||kn.current||Js?(typeof u=="function"&&(Oy(e,n,u,r),l=e.memoizedState),(a=Js||zw(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,sC(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:vr(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ir(l):(l=Sn(n)?Do:Yt.current,l=cl(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Bw(e,o,r,l),Js=!1,f=e.memoizedState,o.state=f,Gf(e,r,o,s);var g=e.memoizedState;a!==d||f!==g||kn.current||Js?(typeof p=="function"&&(Oy(e,n,p,r),g=e.memoizedState),(c=Js||zw(e,n,c,r,f,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return My(t,e,n,r,i,s)}function My(t,e,n,r,s,i){OC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Rw(e,n,!1),As(t,e,i);r=e.stateNode,y2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=dl(e,t.child,null,i),e.child=dl(e,null,a,i)):nn(t,e,a,i),e.memoizedState=r.state,s&&Rw(e,n,!0),e.child}function RC(t){var e=t.stateNode;e.pendingContext?Ow(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ow(t,e.context,!1),W0(t,e.containerInfo)}function Kw(t,e,n,r,s){return ul(),z0(s),e.flags|=256,nn(t,e,n,r),e.child}var Iy={dehydrated:null,treeContext:null,retryLane:0};function Dy(t){return{baseLanes:t,cachePool:null,transitions:null}}function jC(t,e,n){var r=e.pendingProps,s=nt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),qe(nt,s&1),t===null)return Ny(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Tp(o,r,0,null),t=Oo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Dy(n),e.memoizedState=Iy,t):X0(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return v2(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=_i(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=_i(a,i):(i=Oo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Dy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Iy,r}return i=t.child,t=i.sibling,r=_i(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function X0(t,e){return e=Tp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Sd(t,e,n,r){return r!==null&&z0(r),dl(e,t.child,null,n),t=X0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function v2(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Hm(Error(z(422))),Sd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Tp({mode:"visible",children:r.children},s,0,null),i=Oo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&dl(e,t.child,null,o),e.child.memoizedState=Dy(o),e.memoizedState=Iy,i);if(!(e.mode&1))return Sd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(z(419)),r=Hm(i,r,void 0),Sd(t,e,o,r)}if(a=(o&t.childLanes)!==0,wn||a){if(r=At,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ns(t,s),Ar(r,t,s,-1))}return ix(),r=Hm(Error(z(421))),Sd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=R2.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,In=wi(s.nextSibling),Dn=e,Xe=!0,_r=null,t!==null&&(Yn[Qn++]=ws,Yn[Qn++]=ks,Yn[Qn++]=Lo,ws=t.id,ks=t.overflow,Lo=e),e=X0(e,r.children),e.flags|=4096,e)}function Gw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ay(t.return,e,n)}function Wm(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function PC(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(nn(t,e,r.children,n),r=nt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gw(t,n,e);else if(t.tag===19)Gw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qe(nt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Jf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Wm(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Jf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Wm(e,!0,n,null,i);break;case"together":Wm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function As(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),zo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=_i(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=_i(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function x2(t,e,n){switch(e.tag){case 3:RC(e),ul();break;case 5:iC(e);break;case 1:Sn(e.type)&&Vf(e);break;case 4:W0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;qe(qf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qe(nt,nt.current&1),e.flags|=128,null):n&e.child.childLanes?jC(t,e,n):(qe(nt,nt.current&1),t=As(t,e,n),t!==null?t.sibling:null);qe(nt,nt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return PC(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),qe(nt,nt.current),r)break;return null;case 22:case 23:return e.lanes=0,AC(t,e,n)}return As(t,e,n)}var MC,Ly,IC,DC;MC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ly=function(){};IC=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,yo(Yr.current);var i=null;switch(n){case"input":s=iy(t,s),r=iy(t,r),i=[];break;case"select":s=it({},s,{value:void 0}),r=it({},r,{value:void 0}),i=[];break;case"textarea":s=ly(t,s),r=ly(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ff)}uy(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Zc.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Zc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Je("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};DC=function(t,e,n,r){n!==r&&(e.flags|=4)};function sc(t,e){if(!Xe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function b2(t,e,n){var r=e.pendingProps;switch($0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(e),null;case 1:return Sn(e.type)&&Uf(),qt(e),null;case 3:return r=e.stateNode,fl(),Qe(kn),Qe(Yt),K0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(wd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_r!==null&&(Wy(_r),_r=null))),Ly(t,e),qt(e),null;case 5:q0(e);var s=yo(uu.current);if(n=e.type,t!==null&&e.stateNode!=null)IC(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return qt(e),null}if(t=yo(Yr.current),wd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Kr]=e,r[lu]=i,t=(e.mode&1)!==0,n){case"dialog":Je("cancel",r),Je("close",r);break;case"iframe":case"object":case"embed":Je("load",r);break;case"video":case"audio":for(s=0;s<bc.length;s++)Je(bc[s],r);break;case"source":Je("error",r);break;case"img":case"image":case"link":Je("error",r),Je("load",r);break;case"details":Je("toggle",r);break;case"input":rw(r,i),Je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Je("invalid",r);break;case"textarea":iw(r,i),Je("invalid",r)}uy(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&bd(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&bd(r.textContent,a,t),s=["children",""+a]):Zc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Je("scroll",r)}switch(n){case"input":fd(r),sw(r,i,!0);break;case"textarea":fd(r),ow(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ff)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=u_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Kr]=e,t[lu]=r,MC(t,e,!1,!1),e.stateNode=t;e:{switch(o=dy(n,r),n){case"dialog":Je("cancel",t),Je("close",t),s=r;break;case"iframe":case"object":case"embed":Je("load",t),s=r;break;case"video":case"audio":for(s=0;s<bc.length;s++)Je(bc[s],t);s=r;break;case"source":Je("error",t),s=r;break;case"img":case"image":case"link":Je("error",t),Je("load",t),s=r;break;case"details":Je("toggle",t),s=r;break;case"input":rw(t,r),s=iy(t,r),Je("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=it({},r,{value:void 0}),Je("invalid",t);break;case"textarea":iw(t,r),s=ly(t,r),Je("invalid",t);break;default:s=r}uy(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?h_(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&d_(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Xc(t,l):typeof l=="number"&&Xc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Zc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Je("scroll",t):l!=null&&S0(t,i,l,o))}switch(n){case"input":fd(t),sw(t,r,!1);break;case"textarea":fd(t),ow(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Mi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Fa(t,!!r.multiple,i,!1):r.defaultValue!=null&&Fa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ff)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qt(e),null;case 6:if(t&&e.stateNode!=null)DC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=yo(uu.current),yo(Yr.current),wd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Kr]=e,(i=r.nodeValue!==n)&&(t=Dn,t!==null))switch(t.tag){case 3:bd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bd(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kr]=e,e.stateNode=r}return qt(e),null;case 13:if(Qe(nt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xe&&In!==null&&e.mode&1&&!(e.flags&128))eC(),ul(),e.flags|=98560,i=!1;else if(i=wd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[Kr]=e}else ul(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qt(e),i=!1}else _r!==null&&(Wy(_r),_r=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||nt.current&1?Et===0&&(Et=3):ix())),e.updateQueue!==null&&(e.flags|=4),qt(e),null);case 4:return fl(),Ly(t,e),t===null&&ou(e.stateNode.containerInfo),qt(e),null;case 10:return U0(e.type._context),qt(e),null;case 17:return Sn(e.type)&&Uf(),qt(e),null;case 19:if(Qe(nt),i=e.memoizedState,i===null)return qt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)sc(i,!1);else{if(Et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Jf(t),o!==null){for(e.flags|=128,sc(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qe(nt,nt.current&1|2),e.child}t=t.sibling}i.tail!==null&&ft()>pl&&(e.flags|=128,r=!0,sc(i,!1),e.lanes=4194304)}else{if(!r)if(t=Jf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),sc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Xe)return qt(e),null}else 2*ft()-i.renderingStartTime>pl&&n!==1073741824&&(e.flags|=128,r=!0,sc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ft(),e.sibling=null,n=nt.current,qe(nt,r?n&1|2:n&1),e):(qt(e),null);case 22:case 23:return sx(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?On&1073741824&&(qt(e),e.subtreeFlags&6&&(e.flags|=8192)):qt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function w2(t,e){switch($0(e),e.tag){case 1:return Sn(e.type)&&Uf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fl(),Qe(kn),Qe(Yt),K0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return q0(e),null;case 13:if(Qe(nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));ul()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qe(nt),null;case 4:return fl(),null;case 10:return U0(e.type._context),null;case 22:case 23:return sx(),null;case 24:return null;default:return null}}var Ed=!1,Jt=!1,k2=typeof WeakSet=="function"?WeakSet:Set,Q=null;function $a(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ut(t,e,r)}else n.current=null}function $y(t,e,n){try{n()}catch(r){ut(t,e,r)}}var Jw=!1;function S2(t,e){if(wy=$f,t=F_(),D0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ky={focusedElem:t,selectionRange:n},$f=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,y=g.memoizedState,v=e.stateNode,x=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:vr(e.type,m),y);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(k){ut(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return g=Jw,Jw=!1,g}function Ic(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&$y(e,n,i)}s=s.next}while(s!==r)}}function _p(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function zy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function LC(t){var e=t.alternate;e!==null&&(t.alternate=null,LC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Kr],delete e[lu],delete e[_y],delete e[i2],delete e[o2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $C(t){return t.tag===5||t.tag===3||t.tag===4}function Yw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$C(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function By(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ff));else if(r!==4&&(t=t.child,t!==null))for(By(t,e,n),t=t.sibling;t!==null;)By(t,e,n),t=t.sibling}function Fy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Fy(t,e,n),t=t.sibling;t!==null;)Fy(t,e,n),t=t.sibling}var It=null,Sr=!1;function $s(t,e,n){for(n=n.child;n!==null;)zC(t,e,n),n=n.sibling}function zC(t,e,n){if(Jr&&typeof Jr.onCommitFiberUnmount=="function")try{Jr.onCommitFiberUnmount(yp,n)}catch{}switch(n.tag){case 5:Jt||$a(n,e);case 6:var r=It,s=Sr;It=null,$s(t,e,n),It=r,Sr=s,It!==null&&(Sr?(t=It,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):It.removeChild(n.stateNode));break;case 18:It!==null&&(Sr?(t=It,n=n.stateNode,t.nodeType===8?$m(t.parentNode,n):t.nodeType===1&&$m(t,n),ru(t)):$m(It,n.stateNode));break;case 4:r=It,s=Sr,It=n.stateNode.containerInfo,Sr=!0,$s(t,e,n),It=r,Sr=s;break;case 0:case 11:case 14:case 15:if(!Jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&$y(n,e,o),s=s.next}while(s!==r)}$s(t,e,n);break;case 1:if(!Jt&&($a(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ut(n,e,a)}$s(t,e,n);break;case 21:$s(t,e,n);break;case 22:n.mode&1?(Jt=(r=Jt)||n.memoizedState!==null,$s(t,e,n),Jt=r):$s(t,e,n);break;default:$s(t,e,n)}}function Qw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new k2),e.forEach(function(r){var s=j2.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function hr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:It=a.stateNode,Sr=!1;break e;case 3:It=a.stateNode.containerInfo,Sr=!0;break e;case 4:It=a.stateNode.containerInfo,Sr=!0;break e}a=a.return}if(It===null)throw Error(z(160));zC(i,o,s),It=null,Sr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ut(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)BC(e,t),e=e.sibling}function BC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(hr(e,t),$r(t),r&4){try{Ic(3,t,t.return),_p(3,t)}catch(m){ut(t,t.return,m)}try{Ic(5,t,t.return)}catch(m){ut(t,t.return,m)}}break;case 1:hr(e,t),$r(t),r&512&&n!==null&&$a(n,n.return);break;case 5:if(hr(e,t),$r(t),r&512&&n!==null&&$a(n,n.return),t.flags&32){var s=t.stateNode;try{Xc(s,"")}catch(m){ut(t,t.return,m)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&l_(s,i),dy(a,o);var c=dy(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?h_(s,d):u==="dangerouslySetInnerHTML"?d_(s,d):u==="children"?Xc(s,d):S0(s,u,d,c)}switch(a){case"input":oy(s,i);break;case"textarea":c_(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Fa(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Fa(s,!!i.multiple,i.defaultValue,!0):Fa(s,!!i.multiple,i.multiple?[]:"",!1))}s[lu]=i}catch(m){ut(t,t.return,m)}}break;case 6:if(hr(e,t),$r(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(m){ut(t,t.return,m)}}break;case 3:if(hr(e,t),$r(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ru(e.containerInfo)}catch(m){ut(t,t.return,m)}break;case 4:hr(e,t),$r(t);break;case 13:hr(e,t),$r(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(nx=ft())),r&4&&Qw(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Jt=(c=Jt)||u,hr(e,t),Jt=c):hr(e,t),$r(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Q=t,u=t.child;u!==null;){for(d=Q=u;Q!==null;){switch(f=Q,p=f.child,f.tag){case 0:case 11:case 14:case 15:Ic(4,f,f.return);break;case 1:$a(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){ut(r,n,m)}}break;case 5:$a(f,f.return);break;case 22:if(f.memoizedState!==null){Xw(d);continue}}p!==null?(p.return=f,Q=p):Xw(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=f_("display",o))}catch(m){ut(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){ut(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:hr(e,t),$r(t),r&4&&Qw(t);break;case 21:break;default:hr(e,t),$r(t)}}function $r(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($C(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Xc(s,""),r.flags&=-33);var i=Yw(t);Fy(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Yw(t);By(t,a,o);break;default:throw Error(z(161))}}catch(l){ut(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function E2(t,e,n){Q=t,FC(t)}function FC(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var s=Q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ed;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Jt;a=Ed;var c=Jt;if(Ed=o,(Jt=l)&&!c)for(Q=s;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?e1(s):l!==null?(l.return=o,Q=l):e1(s);for(;i!==null;)Q=i,FC(i),i=i.sibling;Q=s,Ed=a,Jt=c}Zw(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Q=i):Zw(t)}}function Zw(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jt||_p(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Jt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:vr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Dw(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Dw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&ru(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Jt||e.flags&512&&zy(e)}catch(f){ut(e,e.return,f)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Xw(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function e1(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_p(4,e)}catch(l){ut(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ut(e,s,l)}}var i=e.return;try{zy(e)}catch(l){ut(e,i,l)}break;case 5:var o=e.return;try{zy(e)}catch(l){ut(e,o,l)}}}catch(l){ut(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var _2=Math.ceil,Zf=Ps.ReactCurrentDispatcher,ex=Ps.ReactCurrentOwner,tr=Ps.ReactCurrentBatchConfig,Ie=0,At=null,yt=null,Bt=0,On=0,za=Vi(0),Et=0,pu=null,zo=0,Cp=0,tx=0,Dc=null,vn=null,nx=0,pl=1/0,ms=null,Xf=!1,Uy=null,Si=null,_d=!1,di=null,eh=0,Lc=0,Vy=null,yf=-1,vf=0;function on(){return Ie&6?ft():yf!==-1?yf:yf=ft()}function Ei(t){return t.mode&1?Ie&2&&Bt!==0?Bt&-Bt:l2.transition!==null?(vf===0&&(vf=__()),vf):(t=Ue,t!==0||(t=window.event,t=t===void 0?16:j_(t.type)),t):1}function Ar(t,e,n,r){if(50<Lc)throw Lc=0,Vy=null,Error(z(185));Vu(t,n,r),(!(Ie&2)||t!==At)&&(t===At&&(!(Ie&2)&&(Cp|=n),Et===4&&ti(t,Bt)),En(t,r),n===1&&Ie===0&&!(e.mode&1)&&(pl=ft()+500,kp&&Hi()))}function En(t,e){var n=t.callbackNode;lI(t,e);var r=Lf(t,t===At?Bt:0);if(r===0)n!==null&&cw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&cw(n),e===1)t.tag===0?a2(t1.bind(null,t)):Q_(t1.bind(null,t)),r2(function(){!(Ie&6)&&Hi()}),n=null;else{switch(C_(r)){case 1:n=N0;break;case 4:n=S_;break;case 16:n=Df;break;case 536870912:n=E_;break;default:n=Df}n=JC(n,UC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function UC(t,e){if(yf=-1,vf=0,Ie&6)throw Error(z(327));var n=t.callbackNode;if(qa()&&t.callbackNode!==n)return null;var r=Lf(t,t===At?Bt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=th(t,r);else{e=r;var s=Ie;Ie|=2;var i=HC();(At!==t||Bt!==e)&&(ms=null,pl=ft()+500,Ao(t,e));do try{N2();break}catch(a){VC(t,a)}while(!0);F0(),Zf.current=i,Ie=s,yt!==null?e=0:(At=null,Bt=0,e=Et)}if(e!==0){if(e===2&&(s=gy(t),s!==0&&(r=s,e=Hy(t,s))),e===1)throw n=pu,Ao(t,0),ti(t,r),En(t,ft()),n;if(e===6)ti(t,r);else{if(s=t.current.alternate,!(r&30)&&!C2(s)&&(e=th(t,r),e===2&&(i=gy(t),i!==0&&(r=i,e=Hy(t,i))),e===1))throw n=pu,Ao(t,0),ti(t,r),En(t,ft()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:lo(t,vn,ms);break;case 3:if(ti(t,r),(r&130023424)===r&&(e=nx+500-ft(),10<e)){if(Lf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){on(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ey(lo.bind(null,t,vn,ms),e);break}lo(t,vn,ms);break;case 4:if(ti(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Nr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_2(r/1960))-r,10<r){t.timeoutHandle=Ey(lo.bind(null,t,vn,ms),r);break}lo(t,vn,ms);break;case 5:lo(t,vn,ms);break;default:throw Error(z(329))}}}return En(t,ft()),t.callbackNode===n?UC.bind(null,t):null}function Hy(t,e){var n=Dc;return t.current.memoizedState.isDehydrated&&(Ao(t,e).flags|=256),t=th(t,e),t!==2&&(e=vn,vn=n,e!==null&&Wy(e)),t}function Wy(t){vn===null?vn=t:vn.push.apply(vn,t)}function C2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Or(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ti(t,e){for(e&=~tx,e&=~Cp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Nr(e),r=1<<n;t[n]=-1,e&=~r}}function t1(t){if(Ie&6)throw Error(z(327));qa();var e=Lf(t,0);if(!(e&1))return En(t,ft()),null;var n=th(t,e);if(t.tag!==0&&n===2){var r=gy(t);r!==0&&(e=r,n=Hy(t,r))}if(n===1)throw n=pu,Ao(t,0),ti(t,e),En(t,ft()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,lo(t,vn,ms),En(t,ft()),null}function rx(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(pl=ft()+500,kp&&Hi())}}function Bo(t){di!==null&&di.tag===0&&!(Ie&6)&&qa();var e=Ie;Ie|=1;var n=tr.transition,r=Ue;try{if(tr.transition=null,Ue=1,t)return t()}finally{Ue=r,tr.transition=n,Ie=e,!(Ie&6)&&Hi()}}function sx(){On=za.current,Qe(za)}function Ao(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,n2(n)),yt!==null)for(n=yt.return;n!==null;){var r=n;switch($0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Uf();break;case 3:fl(),Qe(kn),Qe(Yt),K0();break;case 5:q0(r);break;case 4:fl();break;case 13:Qe(nt);break;case 19:Qe(nt);break;case 10:U0(r.type._context);break;case 22:case 23:sx()}n=n.return}if(At=t,yt=t=_i(t.current,null),Bt=On=e,Et=0,pu=null,tx=Cp=zo=0,vn=Dc=null,go!==null){for(e=0;e<go.length;e++)if(n=go[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}go=null}return t}function VC(t,e){do{var n=yt;try{if(F0(),pf.current=Qf,Yf){for(var r=st.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Yf=!1}if($o=0,Ct=St=st=null,Mc=!1,du=0,ex.current=null,n===null||n.return===null){Et=1,pu=e,yt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Bt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Uw(o);if(p!==null){p.flags&=-257,Vw(p,o,a,i,e),p.mode&1&&Fw(i,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){Fw(i,c,e),ix();break e}l=Error(z(426))}}else if(Xe&&a.mode&1){var y=Uw(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Vw(y,o,a,i,e),z0(hl(l,a));break e}}i=l=hl(l,a),Et!==4&&(Et=2),Dc===null?Dc=[i]:Dc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=CC(i,l,e);Iw(i,v);break e;case 1:a=l;var x=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Si===null||!Si.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=TC(i,a,e);Iw(i,k);break e}}i=i.return}while(i!==null)}qC(n)}catch(S){e=S,yt===n&&n!==null&&(yt=n=n.return);continue}break}while(!0)}function HC(){var t=Zf.current;return Zf.current=Qf,t===null?Qf:t}function ix(){(Et===0||Et===3||Et===2)&&(Et=4),At===null||!(zo&268435455)&&!(Cp&268435455)||ti(At,Bt)}function th(t,e){var n=Ie;Ie|=2;var r=HC();(At!==t||Bt!==e)&&(ms=null,Ao(t,e));do try{T2();break}catch(s){VC(t,s)}while(!0);if(F0(),Ie=n,Zf.current=r,yt!==null)throw Error(z(261));return At=null,Bt=0,Et}function T2(){for(;yt!==null;)WC(yt)}function N2(){for(;yt!==null&&!XM();)WC(yt)}function WC(t){var e=GC(t.alternate,t,On);t.memoizedProps=t.pendingProps,e===null?qC(t):yt=e,ex.current=null}function qC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=w2(n,e),n!==null){n.flags&=32767,yt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Et=6,yt=null;return}}else if(n=b2(n,e,On),n!==null){yt=n;return}if(e=e.sibling,e!==null){yt=e;return}yt=e=t}while(e!==null);Et===0&&(Et=5)}function lo(t,e,n){var r=Ue,s=tr.transition;try{tr.transition=null,Ue=1,A2(t,e,n,r)}finally{tr.transition=s,Ue=r}return null}function A2(t,e,n,r){do qa();while(di!==null);if(Ie&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(cI(t,i),t===At&&(yt=At=null,Bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_d||(_d=!0,JC(Df,function(){return qa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=tr.transition,tr.transition=null;var o=Ue;Ue=1;var a=Ie;Ie|=4,ex.current=null,S2(t,n),BC(n,t),JI(ky),$f=!!wy,ky=wy=null,t.current=n,E2(n),eI(),Ie=a,Ue=o,tr.transition=i}else t.current=n;if(_d&&(_d=!1,di=t,eh=s),i=t.pendingLanes,i===0&&(Si=null),rI(n.stateNode),En(t,ft()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Xf)throw Xf=!1,t=Uy,Uy=null,t;return eh&1&&t.tag!==0&&qa(),i=t.pendingLanes,i&1?t===Vy?Lc++:(Lc=0,Vy=t):Lc=0,Hi(),null}function qa(){if(di!==null){var t=C_(eh),e=tr.transition,n=Ue;try{if(tr.transition=null,Ue=16>t?16:t,di===null)var r=!1;else{if(t=di,di=null,eh=0,Ie&6)throw Error(z(331));var s=Ie;for(Ie|=4,Q=t.current;Q!==null;){var i=Q,o=i.child;if(Q.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Q=c;Q!==null;){var u=Q;switch(u.tag){case 0:case 11:case 15:Ic(8,u,i)}var d=u.child;if(d!==null)d.return=u,Q=d;else for(;Q!==null;){u=Q;var f=u.sibling,p=u.return;if(LC(u),u===c){Q=null;break}if(f!==null){f.return=p,Q=f;break}Q=p}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}Q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Q=o;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ic(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Q=v;break e}Q=i.return}}var x=t.current;for(Q=x;Q!==null;){o=Q;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Q=w;else e:for(o=x;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_p(9,a)}}catch(S){ut(a,a.return,S)}if(a===o){Q=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,Q=k;break e}Q=a.return}}if(Ie=s,Hi(),Jr&&typeof Jr.onPostCommitFiberRoot=="function")try{Jr.onPostCommitFiberRoot(yp,t)}catch{}r=!0}return r}finally{Ue=n,tr.transition=e}}return!1}function n1(t,e,n){e=hl(n,e),e=CC(t,e,1),t=ki(t,e,1),e=on(),t!==null&&(Vu(t,1,e),En(t,e))}function ut(t,e,n){if(t.tag===3)n1(t,t,n);else for(;e!==null;){if(e.tag===3){n1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Si===null||!Si.has(r))){t=hl(n,t),t=TC(e,t,1),e=ki(e,t,1),t=on(),e!==null&&(Vu(e,1,t),En(e,t));break}}e=e.return}}function O2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=on(),t.pingedLanes|=t.suspendedLanes&n,At===t&&(Bt&n)===n&&(Et===4||Et===3&&(Bt&130023424)===Bt&&500>ft()-nx?Ao(t,0):tx|=n),En(t,e)}function KC(t,e){e===0&&(t.mode&1?(e=md,md<<=1,!(md&130023424)&&(md=4194304)):e=1);var n=on();t=Ns(t,e),t!==null&&(Vu(t,e,n),En(t,n))}function R2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),KC(t,n)}function j2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),KC(t,n)}var GC;GC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||kn.current)wn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return wn=!1,x2(t,e,n);wn=!!(t.flags&131072)}else wn=!1,Xe&&e.flags&1048576&&Z_(e,Wf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;gf(t,e),t=e.pendingProps;var s=cl(e,Yt.current);Wa(e,n),s=J0(null,e,r,t,s,n);var i=Y0();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Sn(r)?(i=!0,Vf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,H0(e),s.updater=Ep,e.stateNode=s,s._reactInternals=e,Ry(e,r,t,n),e=My(null,e,r,!0,i,n)):(e.tag=0,Xe&&i&&L0(e),nn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(gf(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=M2(r),t=vr(r,t),s){case 0:e=Py(null,e,r,t,n);break e;case 1:e=qw(null,e,r,t,n);break e;case 11:e=Hw(null,e,r,t,n);break e;case 14:e=Ww(null,e,r,vr(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vr(r,s),Py(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vr(r,s),qw(t,e,r,s,n);case 3:e:{if(RC(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,sC(t,e),Gf(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=hl(Error(z(423)),e),e=Kw(t,e,r,n,s);break e}else if(r!==s){s=hl(Error(z(424)),e),e=Kw(t,e,r,n,s);break e}else for(In=wi(e.stateNode.containerInfo.firstChild),Dn=e,Xe=!0,_r=null,n=nC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ul(),r===s){e=As(t,e,n);break e}nn(t,e,r,n)}e=e.child}return e;case 5:return iC(e),t===null&&Ny(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Sy(r,s)?o=null:i!==null&&Sy(r,i)&&(e.flags|=32),OC(t,e),nn(t,e,o,n),e.child;case 6:return t===null&&Ny(e),null;case 13:return jC(t,e,n);case 4:return W0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=dl(e,null,r,n):nn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vr(r,s),Hw(t,e,r,s,n);case 7:return nn(t,e,e.pendingProps,n),e.child;case 8:return nn(t,e,e.pendingProps.children,n),e.child;case 12:return nn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,qe(qf,r._currentValue),r._currentValue=o,i!==null)if(Or(i.value,o)){if(i.children===s.children&&!kn.current){e=As(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Es(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Ay(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ay(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}nn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Wa(e,n),s=ir(s),r=r(s),e.flags|=1,nn(t,e,r,n),e.child;case 14:return r=e.type,s=vr(r,e.pendingProps),s=vr(r.type,s),Ww(t,e,r,s,n);case 15:return NC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vr(r,s),gf(t,e),e.tag=1,Sn(r)?(t=!0,Vf(e)):t=!1,Wa(e,n),_C(e,r,s),Ry(e,r,s,n),My(null,e,r,!0,t,n);case 19:return PC(t,e,n);case 22:return AC(t,e,n)}throw Error(z(156,e.tag))};function JC(t,e){return k_(t,e)}function P2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(t,e,n,r){return new P2(t,e,n,r)}function ox(t){return t=t.prototype,!(!t||!t.isReactComponent)}function M2(t){if(typeof t=="function")return ox(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_0)return 11;if(t===C0)return 14}return 2}function _i(t,e){var n=t.alternate;return n===null?(n=er(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function xf(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")ox(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Aa:return Oo(n.children,s,i,e);case E0:o=8,s|=8;break;case ty:return t=er(12,n,e,s|2),t.elementType=ty,t.lanes=i,t;case ny:return t=er(13,n,e,s),t.elementType=ny,t.lanes=i,t;case ry:return t=er(19,n,e,s),t.elementType=ry,t.lanes=i,t;case i_:return Tp(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case r_:o=10;break e;case s_:o=9;break e;case _0:o=11;break e;case C0:o=14;break e;case Gs:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=er(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Oo(t,e,n,r){return t=er(7,t,r,e),t.lanes=n,t}function Tp(t,e,n,r){return t=er(22,t,r,e),t.elementType=i_,t.lanes=n,t.stateNode={isHidden:!1},t}function qm(t,e,n){return t=er(6,t,null,e),t.lanes=n,t}function Km(t,e,n){return e=er(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function I2(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tm(0),this.expirationTimes=Tm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ax(t,e,n,r,s,i,o,a,l){return t=new I2(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=er(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},H0(i),t}function D2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Na,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function YC(t){if(!t)return Ii;t=t._reactInternals;e:{if(Xo(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Sn(n))return Y_(t,n,e)}return e}function QC(t,e,n,r,s,i,o,a,l){return t=ax(n,r,!0,t,s,i,o,a,l),t.context=YC(null),n=t.current,r=on(),s=Ei(n),i=Es(r,s),i.callback=e??null,ki(n,i,s),t.current.lanes=s,Vu(t,s,r),En(t,r),t}function Np(t,e,n,r){var s=e.current,i=on(),o=Ei(s);return n=YC(n),e.context===null?e.context=n:e.pendingContext=n,e=Es(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ki(s,e,o),t!==null&&(Ar(t,s,o,i),hf(t,s,o)),o}function nh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function r1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function lx(t,e){r1(t,e),(t=t.alternate)&&r1(t,e)}function L2(){return null}var ZC=typeof reportError=="function"?reportError:function(t){console.error(t)};function cx(t){this._internalRoot=t}Ap.prototype.render=cx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Np(t,e,null,null)};Ap.prototype.unmount=cx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Bo(function(){Np(null,t,null,null)}),e[Ts]=null}};function Ap(t){this._internalRoot=t}Ap.prototype.unstable_scheduleHydration=function(t){if(t){var e=A_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ei.length&&e!==0&&e<ei[n].priority;n++);ei.splice(n,0,t),n===0&&R_(t)}};function ux(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Op(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function s1(){}function $2(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=nh(o);i.call(c)}}var o=QC(e,r,t,0,null,!1,!1,"",s1);return t._reactRootContainer=o,t[Ts]=o.current,ou(t.nodeType===8?t.parentNode:t),Bo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=nh(l);a.call(c)}}var l=ax(t,0,!1,null,null,!1,!1,"",s1);return t._reactRootContainer=l,t[Ts]=l.current,ou(t.nodeType===8?t.parentNode:t),Bo(function(){Np(e,l,n,r)}),l}function Rp(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=nh(o);a.call(l)}}Np(e,o,t,s)}else o=$2(n,e,t,s,r);return nh(o)}T_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=xc(e.pendingLanes);n!==0&&(A0(e,n|1),En(e,ft()),!(Ie&6)&&(pl=ft()+500,Hi()))}break;case 13:Bo(function(){var r=Ns(t,1);if(r!==null){var s=on();Ar(r,t,1,s)}}),lx(t,1)}};O0=function(t){if(t.tag===13){var e=Ns(t,134217728);if(e!==null){var n=on();Ar(e,t,134217728,n)}lx(t,134217728)}};N_=function(t){if(t.tag===13){var e=Ei(t),n=Ns(t,e);if(n!==null){var r=on();Ar(n,t,e,r)}lx(t,e)}};A_=function(){return Ue};O_=function(t,e){var n=Ue;try{return Ue=t,e()}finally{Ue=n}};hy=function(t,e,n){switch(e){case"input":if(oy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=wp(r);if(!s)throw Error(z(90));a_(r),oy(r,s)}}}break;case"textarea":c_(t,n);break;case"select":e=n.value,e!=null&&Fa(t,!!n.multiple,e,!1)}};g_=rx;y_=Bo;var z2={usingClientEntryPoint:!1,Events:[Wu,Pa,wp,p_,m_,rx]},ic={findFiberByHostInstance:mo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},B2={bundleType:ic.bundleType,version:ic.version,rendererPackageName:ic.rendererPackageName,rendererConfig:ic.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ps.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=b_(t),t===null?null:t.stateNode},findFiberByHostInstance:ic.findFiberByHostInstance||L2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cd.isDisabled&&Cd.supportsFiber)try{yp=Cd.inject(B2),Jr=Cd}catch{}}Bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z2;Bn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ux(e))throw Error(z(200));return D2(t,e,null,n)};Bn.createRoot=function(t,e){if(!ux(t))throw Error(z(299));var n=!1,r="",s=ZC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ax(t,1,!1,null,null,n,!1,r,s),t[Ts]=e.current,ou(t.nodeType===8?t.parentNode:t),new cx(e)};Bn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=b_(e),t=t===null?null:t.stateNode,t};Bn.flushSync=function(t){return Bo(t)};Bn.hydrate=function(t,e,n){if(!Op(e))throw Error(z(200));return Rp(null,t,e,!0,n)};Bn.hydrateRoot=function(t,e,n){if(!ux(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=ZC;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=QC(e,null,t,1,n??null,s,!1,i,o),t[Ts]=e.current,ou(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Ap(e)};Bn.render=function(t,e,n){if(!Op(e))throw Error(z(200));return Rp(null,t,e,!1,n)};Bn.unmountComponentAtNode=function(t){if(!Op(t))throw Error(z(40));return t._reactRootContainer?(Bo(function(){Rp(null,null,t,!1,function(){t._reactRootContainer=null,t[Ts]=null})}),!0):!1};Bn.unstable_batchedUpdates=rx;Bn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Op(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Rp(t,e,n,!1,r)};Bn.version="18.3.1-next-f1338f8080-20240426";function XC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XC)}catch(t){console.error(t)}}XC(),XE.exports=Bn;var ea=XE.exports;const dx=BE(ea);var eT,i1=ea;eT=i1.createRoot,i1.hydrateRoot;const F2=1,U2=1e6;let Gm=0;function V2(){return Gm=(Gm+1)%Number.MAX_SAFE_INTEGER,Gm.toString()}const Jm=new Map,o1=t=>{if(Jm.has(t))return;const e=setTimeout(()=>{Jm.delete(t),$c({type:"REMOVE_TOAST",toastId:t})},U2);Jm.set(t,e)},H2=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,F2)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?o1(n):t.toasts.forEach(r=>{o1(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},bf=[];let wf={toasts:[]};function $c(t){wf=H2(wf,t),bf.forEach(e=>{e(wf)})}function W2({...t}){const e=V2(),n=s=>$c({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>$c({type:"DISMISS_TOAST",toastId:e});return $c({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Pr(){const[t,e]=b.useState(wf);return b.useEffect(()=>(bf.push(e),()=>{const n=bf.indexOf(e);n>-1&&bf.splice(n,1)}),[t]),{...t,toast:W2,dismiss:n=>$c({type:"DISMISS_TOAST",toastId:n})}}function ue(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function a1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function tT(...t){return e=>{let n=!1;const r=t.map(s=>{const i=a1(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():a1(t[s],null)}}}}function Ve(...t){return b.useCallback(tT(...t),t)}function q2(t,e){const n=b.createContext(e),r=i=>{const{children:o,...a}=i,l=b.useMemo(()=>a,Object.values(a));return h.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=b.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Ms(t,e=[]){let n=[];function r(i,o){const a=b.createContext(o),l=n.length;n=[...n,o];const c=d=>{var v;const{scope:f,children:p,...g}=d,m=((v=f==null?void 0:f[t])==null?void 0:v[l])||a,y=b.useMemo(()=>g,Object.values(g));return h.jsx(m.Provider,{value:y,children:p})};c.displayName=i+"Provider";function u(d,f){var m;const p=((m=f==null?void 0:f[t])==null?void 0:m[l])||a,g=b.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return b.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,K2(s,...e)]}function K2(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function ml(t){const e=J2(t),n=b.forwardRef((r,s)=>{const{children:i,...o}=r,a=b.Children.toArray(i),l=a.find(Q2);if(l){const c=l.props.children,u=a.map(d=>d===l?b.Children.count(c)>1?b.Children.only(null):b.isValidElement(c)?c.props.children:null:d);return h.jsx(e,{...o,ref:s,children:b.isValidElement(c)?b.cloneElement(c,void 0,u):null})}return h.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var G2=ml("Slot");function J2(t){const e=b.forwardRef((n,r)=>{const{children:s,...i}=n;if(b.isValidElement(s)){const o=X2(s),a=Z2(i,s.props);return s.type!==b.Fragment&&(a.ref=r?tT(r,o):o),b.cloneElement(s,a)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var nT=Symbol("radix.slottable");function Y2(t){const e=({children:n})=>h.jsx(h.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=nT,e}function Q2(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===nT}function Z2(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function X2(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function fx(t){const e=t+"CollectionProvider",[n,r]=Ms(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:y,children:v}=m,x=B.useRef(null),w=B.useRef(new Map).current;return h.jsx(s,{scope:y,itemMap:w,collectionRef:x,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=ml(a),c=B.forwardRef((m,y)=>{const{scope:v,children:x}=m,w=i(a,v),k=Ve(y,w.collectionRef);return h.jsx(l,{ref:k,children:x})});c.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",f=ml(u),p=B.forwardRef((m,y)=>{const{scope:v,children:x,...w}=m,k=B.useRef(null),S=Ve(y,k),_=i(u,v);return B.useEffect(()=>(_.itemMap.set(k,{ref:k,...w}),()=>void _.itemMap.delete(k))),h.jsx(f,{[d]:"",ref:S,children:x})});p.displayName=u;function g(m){const y=i(t+"CollectionConsumer",m);return B.useCallback(()=>{const x=y.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((_,E)=>w.indexOf(_.ref.current)-w.indexOf(E.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},g,r]}var eD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],we=eD.reduce((t,e)=>{const n=ml(`Primitive.${e}`),r=b.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function rT(t,e){t&&ea.flushSync(()=>t.dispatchEvent(e))}function ar(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function tD(t,e=globalThis==null?void 0:globalThis.document){const n=ar(t);b.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var nD="DismissableLayer",qy="dismissableLayer.update",rD="dismissableLayer.pointerDownOutside",sD="dismissableLayer.focusOutside",l1,sT=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ku=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=b.useContext(sT),[u,d]=b.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=b.useState({}),g=Ve(e,E=>d(E)),m=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(y),x=u?m.indexOf(u):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,k=x>=v,S=oD(E=>{const C=E.target,N=[...c.branches].some(R=>R.contains(C));!k||N||(s==null||s(E),o==null||o(E),E.defaultPrevented||a==null||a())},f),_=aD(E=>{const C=E.target;[...c.branches].some(R=>R.contains(C))||(i==null||i(E),o==null||o(E),E.defaultPrevented||a==null||a())},f);return tD(E=>{x===c.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&a&&(E.preventDefault(),a()))},f),b.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(l1=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),c1(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=l1)}},[u,f,n,c]),b.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),c1())},[u,c]),b.useEffect(()=>{const E=()=>p({});return document.addEventListener(qy,E),()=>document.removeEventListener(qy,E)},[]),h.jsx(we.div,{...l,ref:g,style:{pointerEvents:w?k?"auto":"none":void 0,...t.style},onFocusCapture:ue(t.onFocusCapture,_.onFocusCapture),onBlurCapture:ue(t.onBlurCapture,_.onBlurCapture),onPointerDownCapture:ue(t.onPointerDownCapture,S.onPointerDownCapture)})});Ku.displayName=nD;var iD="DismissableLayerBranch",iT=b.forwardRef((t,e)=>{const n=b.useContext(sT),r=b.useRef(null),s=Ve(e,r);return b.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),h.jsx(we.div,{...t,ref:s})});iT.displayName=iD;function oD(t,e=globalThis==null?void 0:globalThis.document){const n=ar(t),r=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){oT(rD,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function aD(t,e=globalThis==null?void 0:globalThis.document){const n=ar(t),r=b.useRef(!1);return b.useEffect(()=>{const s=i=>{i.target&&!r.current&&oT(sD,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function c1(){const t=new CustomEvent(qy);document.dispatchEvent(t)}function oT(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?rT(s,i):s.dispatchEvent(i)}var lD=Ku,cD=iT,Ut=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},uD="Portal",jp=b.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=b.useState(!1);Ut(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?dx.createPortal(h.jsx(we.div,{...r,ref:e}),o):null});jp.displayName=uD;function dD(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var ta=t=>{const{present:e,children:n}=t,r=fD(e),s=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),i=Ve(r.ref,hD(s));return typeof n=="function"||r.isPresent?b.cloneElement(s,{ref:i}):null};ta.displayName="Presence";function fD(t){const[e,n]=b.useState(),r=b.useRef(null),s=b.useRef(t),i=b.useRef("none"),o=t?"mounted":"unmounted",[a,l]=dD(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const c=Td(r.current);i.current=a==="mounted"?c:"none"},[a]),Ut(()=>{const c=r.current,u=s.current;if(u!==t){const f=i.current,p=Td(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Ut(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=p=>{const m=Td(r.current).includes(p.animationName);if(p.target===e&&m&&(l("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},f=p=>{p.target===e&&(i.current=Td(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:b.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Td(t){return(t==null?void 0:t.animationName)||"none"}function hD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var pD=b0[" useInsertionEffect ".trim().toString()]||Ut;function Fo({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=mD({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const u=b.useRef(t!==void 0);b.useEffect(()=>{const d=u.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=b.useCallback(u=>{var d;if(a){const f=gD(u)?u(t):u;f!==t&&((d=o.current)==null||d.call(o,f))}else i(u)},[a,t,i,o]);return[l,c]}function mD({defaultProp:t,onChange:e}){const[n,r]=b.useState(t),s=b.useRef(n),i=b.useRef(e);return pD(()=>{i.current=e},[e]),b.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function gD(t){return typeof t=="function"}var aT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),yD="VisuallyHidden",Pp=b.forwardRef((t,e)=>h.jsx(we.span,{...t,ref:e,style:{...aT,...t.style}}));Pp.displayName=yD;var vD=Pp,hx="ToastProvider",[px,xD,bD]=fx("Toast"),[lT,pJ]=Ms("Toast",[bD]),[wD,Mp]=lT(hx),cT=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=b.useState(null),[c,u]=b.useState(0),d=b.useRef(!1),f=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${hx}\`. Expected non-empty \`string\`.`),h.jsx(px.Provider,{scope:e,children:h.jsx(wD,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:b.useCallback(()=>u(p=>p+1),[]),onToastRemove:b.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:o})})};cT.displayName=hx;var uT="ToastViewport",kD=["F8"],Ky="toast.viewportPause",Gy="toast.viewportResume",dT=b.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=kD,label:s="Notifications ({hotkey})",...i}=t,o=Mp(uT,n),a=xD(n),l=b.useRef(null),c=b.useRef(null),u=b.useRef(null),d=b.useRef(null),f=Ve(e,d,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;b.useEffect(()=>{const y=v=>{var w;r.length!==0&&r.every(k=>v[k]||v.code===k)&&((w=d.current)==null||w.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),b.useEffect(()=>{const y=l.current,v=d.current;if(g&&y&&v){const x=()=>{if(!o.isClosePausedRef.current){const _=new CustomEvent(Ky);v.dispatchEvent(_),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const _=new CustomEvent(Gy);v.dispatchEvent(_),o.isClosePausedRef.current=!1}},k=_=>{!y.contains(_.relatedTarget)&&w()},S=()=>{y.contains(document.activeElement)||w()};return y.addEventListener("focusin",x),y.addEventListener("focusout",k),y.addEventListener("pointermove",x),y.addEventListener("pointerleave",S),window.addEventListener("blur",x),window.addEventListener("focus",w),()=>{y.removeEventListener("focusin",x),y.removeEventListener("focusout",k),y.removeEventListener("pointermove",x),y.removeEventListener("pointerleave",S),window.removeEventListener("blur",x),window.removeEventListener("focus",w)}}},[g,o.isClosePausedRef]);const m=b.useCallback(({tabbingDirection:y})=>{const x=a().map(w=>{const k=w.ref.current,S=[k,...ID(k)];return y==="forwards"?S:S.reverse()});return(y==="forwards"?x.reverse():x).flat()},[a]);return b.useEffect(()=>{const y=d.current;if(y){const v=x=>{var S,_,E;const w=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!w){const C=document.activeElement,N=x.shiftKey;if(x.target===y&&N){(S=c.current)==null||S.focus();return}const I=m({tabbingDirection:N?"backwards":"forwards"}),Z=I.findIndex(M=>M===C);Ym(I.slice(Z+1))?x.preventDefault():N?(_=c.current)==null||_.focus():(E=u.current)==null||E.focus()}};return y.addEventListener("keydown",v),()=>y.removeEventListener("keydown",v)}},[a,m]),h.jsxs(cD,{ref:l,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&h.jsx(Jy,{ref:c,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"forwards"});Ym(y)}}),h.jsx(px.Slot,{scope:n,children:h.jsx(we.ol,{tabIndex:-1,...i,ref:f})}),g&&h.jsx(Jy,{ref:u,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"backwards"});Ym(y)}})]})});dT.displayName=uT;var fT="ToastFocusProxy",Jy=b.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Mp(fT,n);return h.jsx(Pp,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Jy.displayName=fT;var Gu="Toast",SD="toast.swipeStart",ED="toast.swipeMove",_D="toast.swipeCancel",CD="toast.swipeEnd",hT=b.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=Fo({prop:r,defaultProp:s??!0,onChange:i,caller:Gu});return h.jsx(ta,{present:n||a,children:h.jsx(AD,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:ar(t.onPause),onResume:ar(t.onResume),onSwipeStart:ue(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ue(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:ue(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ue(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});hT.displayName=Gu;var[TD,ND]=lT(Gu,{onClose(){}}),AD=b.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:p,...g}=t,m=Mp(Gu,n),[y,v]=b.useState(null),x=Ve(e,M=>v(M)),w=b.useRef(null),k=b.useRef(null),S=s||m.duration,_=b.useRef(0),E=b.useRef(S),C=b.useRef(0),{onToastAdd:N,onToastRemove:R}=m,L=ar(()=>{var J;(y==null?void 0:y.contains(document.activeElement))&&((J=m.viewport)==null||J.focus()),o()}),I=b.useCallback(M=>{!M||M===1/0||(window.clearTimeout(C.current),_.current=new Date().getTime(),C.current=window.setTimeout(L,M))},[L]);b.useEffect(()=>{const M=m.viewport;if(M){const J=()=>{I(E.current),c==null||c()},W=()=>{const X=new Date().getTime()-_.current;E.current=E.current-X,window.clearTimeout(C.current),l==null||l()};return M.addEventListener(Ky,W),M.addEventListener(Gy,J),()=>{M.removeEventListener(Ky,W),M.removeEventListener(Gy,J)}}},[m.viewport,S,l,c,I]),b.useEffect(()=>{i&&!m.isClosePausedRef.current&&I(S)},[i,S,m.isClosePausedRef,I]),b.useEffect(()=>(N(),()=>R()),[N,R]);const Z=b.useMemo(()=>y?bT(y):null,[y]);return m.viewport?h.jsxs(h.Fragment,{children:[Z&&h.jsx(OD,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:Z}),h.jsx(TD,{scope:n,onClose:L,children:ea.createPortal(h.jsx(px.ItemSlot,{scope:n,children:h.jsx(lD,{asChild:!0,onEscapeKeyDown:ue(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||L(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:h.jsx(we.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ue(t.onKeyDown,M=>{M.key==="Escape"&&(a==null||a(M.nativeEvent),M.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:ue(t.onPointerDown,M=>{M.button===0&&(w.current={x:M.clientX,y:M.clientY})}),onPointerMove:ue(t.onPointerMove,M=>{if(!w.current)return;const J=M.clientX-w.current.x,W=M.clientY-w.current.y,X=!!k.current,O=["left","right"].includes(m.swipeDirection),j=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,H=O?j(0,J):0,A=O?0:j(0,W),F=M.pointerType==="touch"?10:2,Y={x:H,y:A},de={originalEvent:M,delta:Y};X?(k.current=Y,Nd(ED,d,de,{discrete:!1})):u1(Y,m.swipeDirection,F)?(k.current=Y,Nd(SD,u,de,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(J)>F||Math.abs(W)>F)&&(w.current=null)}),onPointerUp:ue(t.onPointerUp,M=>{const J=k.current,W=M.target;if(W.hasPointerCapture(M.pointerId)&&W.releasePointerCapture(M.pointerId),k.current=null,w.current=null,J){const X=M.currentTarget,O={originalEvent:M,delta:J};u1(J,m.swipeDirection,m.swipeThreshold)?Nd(CD,p,O,{discrete:!0}):Nd(_D,f,O,{discrete:!0}),X.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),OD=t=>{const{__scopeToast:e,children:n,...r}=t,s=Mp(Gu,e),[i,o]=b.useState(!1),[a,l]=b.useState(!1);return PD(()=>o(!0)),b.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:h.jsx(jp,{asChild:!0,children:h.jsx(Pp,{...r,children:i&&h.jsxs(h.Fragment,{children:[s.label," ",n]})})})},RD="ToastTitle",pT=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(we.div,{...r,ref:e})});pT.displayName=RD;var jD="ToastDescription",mT=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(we.div,{...r,ref:e})});mT.displayName=jD;var gT="ToastAction",yT=b.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?h.jsx(xT,{altText:n,asChild:!0,children:h.jsx(mx,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${gT}\`. Expected non-empty \`string\`.`),null)});yT.displayName=gT;var vT="ToastClose",mx=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=ND(vT,n);return h.jsx(xT,{asChild:!0,children:h.jsx(we.button,{type:"button",...r,ref:e,onClick:ue(t.onClick,s.onClose)})})});mx.displayName=vT;var xT=b.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return h.jsx(we.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function bT(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),MD(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...bT(r))}}),e}function Nd(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?rT(s,i):s.dispatchEvent(i)}var u1=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function PD(t=()=>{}){const e=ar(t);Ut(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function MD(t){return t.nodeType===t.ELEMENT_NODE}function ID(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Ym(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var DD=cT,wT=dT,kT=hT,ST=pT,ET=mT,_T=yT,CT=mx;function TT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=TT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function NT(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=TT(t))&&(r&&(r+=" "),r+=e);return r}const d1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,f1=NT,Ip=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return f1(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],d=i==null?void 0:i[c];if(u===null)return null;const f=d1(u)||d1(d);return s[c][f]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,f]=u;return f===void 0||(c[d]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:f,...p}=u;return Object.entries(p).every(g=>{let[m,y]=g;return Array.isArray(y)?y.includes({...i,...a}[m]):{...i,...a}[m]===y})?[...c,d,f]:c},[]);return f1(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $D={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>b.createElement("svg",{ref:l,...$D,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:AT("lucide",s),...a},[...o.map(([c,u])=>b.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(t,e)=>{const n=b.forwardRef(({className:r,...s},i)=>b.createElement(zD,{ref:i,iconNode:e,className:AT(`lucide-${LD(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=ge("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=ge("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=ge("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=ge("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=ge("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=ge("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=ge("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=ge("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=ge("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=ge("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=ge("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=ge("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=ge("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=ge("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=ge("Heading3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=ge("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=ge("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=ge("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=ge("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=ge("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=ge("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=ge("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=ge("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=ge("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=ge("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=ge("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=ge("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=ge("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=ge("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=ge("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=ge("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=ge("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=ge("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=ge("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=ge("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=ge("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),yx="-",hL=t=>{const e=mL(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(yx);return a[0]===""&&a.length!==1&&a.shift(),jT(a,e)||pL(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},jT=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?jT(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(yx);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},b1=/^\[(.+)\]$/,pL=t=>{if(b1.test(t)){const e=b1.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},mL=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return yL(Object.entries(t.classGroups),n).forEach(([i,o])=>{Yy(o,r,i,e)}),r},Yy=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:w1(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(gL(s)){Yy(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Yy(o,w1(e,i),n,r)})})},w1=(t,e)=>{let n=t;return e.split(yx).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},gL=t=>t.isThemeGetter,yL=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,vL=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},PT="!",xL=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let y=0;y<a.length;y++){let v=a[y];if(c===0){if(v===s&&(r||a.slice(y,y+i)===e)){l.push(a.slice(u,y)),u=y+i;continue}if(v==="/"){d=y;continue}}v==="["?c++:v==="]"&&c--}const f=l.length===0?a:a.substring(u),p=f.startsWith(PT),g=p?f.substring(1):f,m=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return n?a=>n({className:a,parseClassName:o}):o},bL=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},wL=t=>({cache:vL(t.cacheSize),parseClassName:xL(t),...hL(t)}),kL=/\s+/,SL=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(kL);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:p}=n(c);let g=!!p,m=r(g?f.substring(0,p):f);if(!m){if(!g){a=c+(a.length>0?" "+a:a);continue}if(m=r(f),!m){a=c+(a.length>0?" "+a:a);continue}g=!1}const y=bL(u).join(":"),v=d?y+PT:y,x=v+m;if(i.includes(x))continue;i.push(x);const w=s(m,g);for(let k=0;k<w.length;++k){const S=w[k];i.push(v+S)}a=c+(a.length>0?" "+a:a)}return a};function EL(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=MT(e))&&(r&&(r+=" "),r+=n);return r}const MT=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=MT(t[r]))&&(n&&(n+=" "),n+=e);return n};function _L(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return n=wL(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=SL(l,n);return s(l,u),u}return function(){return i(EL.apply(null,arguments))}}const Ge=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},IT=/^\[(?:([a-z-]+):)?(.+)\]$/i,CL=/^\d+\/\d+$/,TL=new Set(["px","full","screen"]),NL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,AL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,OL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,RL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,as=t=>Ka(t)||TL.has(t)||CL.test(t),zs=t=>Dl(t,"length",BL),Ka=t=>!!t&&!Number.isNaN(Number(t)),Qm=t=>Dl(t,"number",Ka),ac=t=>!!t&&Number.isInteger(Number(t)),PL=t=>t.endsWith("%")&&Ka(t.slice(0,-1)),ke=t=>IT.test(t),Bs=t=>NL.test(t),ML=new Set(["length","size","percentage"]),IL=t=>Dl(t,ML,DT),DL=t=>Dl(t,"position",DT),LL=new Set(["image","url"]),$L=t=>Dl(t,LL,UL),zL=t=>Dl(t,"",FL),lc=()=>!0,Dl=(t,e,n)=>{const r=IT.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},BL=t=>AL.test(t)&&!OL.test(t),DT=()=>!1,FL=t=>RL.test(t),UL=t=>jL.test(t),VL=()=>{const t=Ge("colors"),e=Ge("spacing"),n=Ge("blur"),r=Ge("brightness"),s=Ge("borderColor"),i=Ge("borderRadius"),o=Ge("borderSpacing"),a=Ge("borderWidth"),l=Ge("contrast"),c=Ge("grayscale"),u=Ge("hueRotate"),d=Ge("invert"),f=Ge("gap"),p=Ge("gradientColorStops"),g=Ge("gradientColorStopPositions"),m=Ge("inset"),y=Ge("margin"),v=Ge("opacity"),x=Ge("padding"),w=Ge("saturate"),k=Ge("scale"),S=Ge("sepia"),_=Ge("skew"),E=Ge("space"),C=Ge("translate"),N=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",ke,e],I=()=>[ke,e],Z=()=>["",as,zs],M=()=>["auto",Ka,ke],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",ke],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>[Ka,ke];return{cacheSize:500,separator:":",theme:{colors:[lc],spacing:[as,zs],blur:["none","",Bs,ke],brightness:A(),borderColor:[t],borderRadius:["none","","full",Bs,ke],borderSpacing:I(),borderWidth:Z(),contrast:A(),grayscale:j(),hueRotate:A(),invert:j(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[PL,zs],inset:L(),margin:L(),opacity:A(),padding:I(),saturate:A(),scale:A(),sepia:j(),skew:A(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",ke]}],container:["container"],columns:[{columns:[Bs]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),ke]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ac,ke]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ke]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",ac,ke]}],"grid-cols":[{"grid-cols":[lc]}],"col-start-end":[{col:["auto",{span:["full",ac,ke]},ke]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[lc]}],"row-start-end":[{row:["auto",{span:[ac,ke]},ke]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ke]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ke]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ke,e]}],"min-w":[{"min-w":[ke,e,"min","max","fit"]}],"max-w":[{"max-w":[ke,e,"none","full","min","max","fit","prose",{screen:[Bs]},Bs]}],h:[{h:[ke,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ke,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ke,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ke,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Bs,zs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Qm]}],"font-family":[{font:[lc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ke]}],"line-clamp":[{"line-clamp":["none",Ka,Qm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",as,ke]}],"list-image":[{"list-image":["none",ke]}],"list-style-type":[{list:["none","disc","decimal",ke]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",as,zs]}],"underline-offset":[{"underline-offset":["auto",as,ke]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),DL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",IL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$L]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:W()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[as,ke]}],"outline-w":[{outline:[as,zs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[as,zs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Bs,zL]}],"shadow-color":[{shadow:[lc]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Bs,ke]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ke]}],duration:[{duration:A()}],ease:[{ease:["linear","in","out","in-out",ke]}],delay:[{delay:A()}],animate:[{animate:["none","spin","ping","pulse","bounce",ke]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[ac,ke]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ke]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[as,zs,Qm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},HL=_L(VL);function Te(...t){return HL(NT(t))}const WL=DD,LT=b.forwardRef(({className:t,...e},n)=>h.jsx(wT,{ref:n,className:Te("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));LT.displayName=wT.displayName;const qL=Ip("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),$T=b.forwardRef(({className:t,variant:e,...n},r)=>h.jsx(kT,{ref:r,className:Te(qL({variant:e}),t),...n}));$T.displayName=kT.displayName;const KL=b.forwardRef(({className:t,...e},n)=>h.jsx(_T,{ref:n,className:Te("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));KL.displayName=_T.displayName;const zT=b.forwardRef(({className:t,...e},n)=>h.jsx(CT,{ref:n,className:Te("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:h.jsx(Yu,{className:"h-4 w-4"})}));zT.displayName=CT.displayName;const BT=b.forwardRef(({className:t,...e},n)=>h.jsx(ST,{ref:n,className:Te("text-sm font-semibold",t),...e}));BT.displayName=ST.displayName;const FT=b.forwardRef(({className:t,...e},n)=>h.jsx(ET,{ref:n,className:Te("text-sm opacity-90",t),...e}));FT.displayName=ET.displayName;function GL(){const{toasts:t}=Pr();return h.jsxs(WL,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return h.jsxs($T,{...i,children:[h.jsxs("div",{className:"grid gap-1",children:[n&&h.jsx(BT,{children:n}),r&&h.jsx(FT,{children:r})]}),s,h.jsx(zT,{})]},e)}),h.jsx(LT,{})]})}var sh=["light","dark"],vx="(prefers-color-scheme: dark)",JL=typeof window>"u",xx=b.createContext(void 0),YL={setTheme:t=>{},themes:[]},UT=()=>{var t;return(t=b.useContext(xx))!=null?t:YL},QL=t=>b.useContext(xx)?t.children:b.createElement(XL,{...t}),ZL=["light","dark"],XL=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:i=ZL,defaultTheme:o=n?"system":"light",attribute:a="data-theme",value:l,children:c,nonce:u})=>{let[d,f]=b.useState(()=>k1(s,o)),[p,g]=b.useState(()=>k1(s)),m=l?Object.values(l):i,y=b.useCallback(k=>{let S=k;if(!S)return;k==="system"&&n&&(S=S1());let _=l?l[S]:S,E=e?t$():null,C=document.documentElement;if(a==="class"?(C.classList.remove(...m),_&&C.classList.add(_)):_?C.setAttribute(a,_):C.removeAttribute(a),r){let N=sh.includes(o)?o:null,R=sh.includes(S)?S:N;C.style.colorScheme=R}E==null||E()},[]),v=b.useCallback(k=>{let S=typeof k=="function"?k(k):k;f(S);try{localStorage.setItem(s,S)}catch{}},[t]),x=b.useCallback(k=>{let S=S1(k);g(S),d==="system"&&n&&!t&&y("system")},[d,t]);b.useEffect(()=>{let k=window.matchMedia(vx);return k.addListener(x),x(k),()=>k.removeListener(x)},[x]),b.useEffect(()=>{let k=S=>{if(S.key!==s)return;let _=S.newValue||o;v(_)};return window.addEventListener("storage",k),()=>window.removeEventListener("storage",k)},[v]),b.useEffect(()=>{y(t??d)},[t,d]);let w=b.useMemo(()=>({theme:d,setTheme:v,forcedTheme:t,resolvedTheme:d==="system"?p:d,themes:n?[...i,"system"]:i,systemTheme:n?p:void 0}),[d,v,t,p,n,i]);return b.createElement(xx.Provider,{value:w},b.createElement(e$,{forcedTheme:t,disableTransitionOnChange:e,enableSystem:n,enableColorScheme:r,storageKey:s,themes:i,defaultTheme:o,attribute:a,value:l,children:c,attrs:m,nonce:u}),c)},e$=b.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,d=s?sh.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(g,m=!1,y=!0)=>{let v=o?o[g]:g,x=m?g+"|| ''":`'${v}'`,w="";return s&&y&&!m&&sh.includes(g)&&(w+=`d.style.colorScheme = '${g}';`),n==="class"?m||v?w+=`c.add(${x})`:w+="null":v&&(w+=`d[s](n,${x})`),w},p=t?`!function(){${u}${f(t)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${vx}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${c?"":"else{"+f(i,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${d}}catch(t){}}();`;return b.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})}),k1=(t,e)=>{if(JL)return;let n;try{n=localStorage.getItem(t)||void 0}catch{}return n||e},t$=()=>{let t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},S1=t=>(t||(t=window.matchMedia(vx)),t.matches?"dark":"light"),n$=t=>{switch(t){case"success":return i$;case"info":return a$;case"warning":return o$;case"error":return l$;default:return null}},r$=Array(12).fill(0),s$=({visible:t,className:e})=>B.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},B.createElement("div",{className:"sonner-spinner"},r$.map((n,r)=>B.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),i$=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),o$=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),a$=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),l$=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),c$=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},B.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),B.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),u$=()=>{let[t,e]=B.useState(document.hidden);return B.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Qy=1,d$=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Qy++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,o=r.then(async l=>{if(i=["resolve",l],B.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if(h$(l)&&!l.ok){s=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:c,description:u})}else if(e.success!==void 0){s=!1;let c=typeof e.success=="function"?await e.success(l):e.success,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:c,description:u})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){s=!1;let c=typeof e.error=="function"?await e.error(l):e.error,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:c,description:u})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,c)=>o.then(()=>i[0]==="reject"?c(i[1]):l(i[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Qy++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},yn=new d$,f$=(t,e)=>{let n=(e==null?void 0:e.id)||Qy++;return yn.addToast({title:t,...e,id:n}),n},h$=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",p$=f$,m$=()=>yn.toasts,g$=()=>yn.getActiveToasts();Object.assign(p$,{success:yn.success,info:yn.info,warning:yn.warning,error:yn.error,custom:yn.custom,message:yn.message,promise:yn.promise,dismiss:yn.dismiss,loading:yn.loading},{getHistory:m$,getToasts:g$});function y$(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}y$(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ad(t){return t.label!==void 0}var v$=3,x$="32px",b$="16px",E1=4e3,w$=356,k$=14,S$=20,E$=200;function pr(...t){return t.filter(Boolean).join(" ")}function _$(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var C$=t=>{var e,n,r,s,i,o,a,l,c,u,d;let{invert:f,toast:p,unstyled:g,interacting:m,setHeights:y,visibleToasts:v,heights:x,index:w,toasts:k,expanded:S,removeToast:_,defaultRichColors:E,closeButton:C,style:N,cancelButtonStyle:R,actionButtonStyle:L,className:I="",descriptionClassName:Z="",duration:M,position:J,gap:W,loadingIcon:X,expandByDefault:O,classNames:j,icons:H,closeButtonAriaLabel:A="Close toast",pauseWhenPageIsHidden:F}=t,[Y,de]=B.useState(null),[ce,Le]=B.useState(null),[q,Oe]=B.useState(!1),[Ke,je]=B.useState(!1),[Ne,Pe]=B.useState(!1),[et,jt]=B.useState(!1),[Xt,Un]=B.useState(!1),[ur,Vn]=B.useState(0),[dr,Xi]=B.useState(0),Ds=B.useRef(p.duration||M||E1),Hl=B.useRef(null),rs=B.useRef(null),Wl=w===0,eo=w+1<=v,wt=p.type,Pt=p.dismissible!==!1,ql=p.className||"",ad=p.descriptionClassName||"",to=B.useMemo(()=>x.findIndex(he=>he.toastId===p.id)||0,[x,p.id]),Kl=B.useMemo(()=>{var he;return(he=p.closeButton)!=null?he:C},[p.closeButton,C]),Gl=B.useMemo(()=>p.duration||M||E1,[p.duration,M]),Ls=B.useRef(0),fr=B.useRef(0),Hn=B.useRef(0),Tn=B.useRef(null),[Jl,Yl]=J.split("-"),ld=B.useMemo(()=>x.reduce((he,fe,Be)=>Be>=to?he:he+fe.height,0),[x,to]),no=u$(),la=p.invert||f,Ql=wt==="loading";fr.current=B.useMemo(()=>to*W+ld,[to,ld]),B.useEffect(()=>{Ds.current=Gl},[Gl]),B.useEffect(()=>{Oe(!0)},[]),B.useEffect(()=>{let he=rs.current;if(he){let fe=he.getBoundingClientRect().height;return Xi(fe),y(Be=>[{toastId:p.id,height:fe,position:p.position},...Be]),()=>y(Be=>Be.filter(Nn=>Nn.toastId!==p.id))}},[y,p.id]),B.useLayoutEffect(()=>{if(!q)return;let he=rs.current,fe=he.style.height;he.style.height="auto";let Be=he.getBoundingClientRect().height;he.style.height=fe,Xi(Be),y(Nn=>Nn.find(pn=>pn.toastId===p.id)?Nn.map(pn=>pn.toastId===p.id?{...pn,height:Be}:pn):[{toastId:p.id,height:Be,position:p.position},...Nn])},[q,p.title,p.description,y,p.id]);let hn=B.useCallback(()=>{je(!0),Vn(fr.current),y(he=>he.filter(fe=>fe.toastId!==p.id)),setTimeout(()=>{_(p)},E$)},[p,_,y,fr]);B.useEffect(()=>{if(p.promise&&wt==="loading"||p.duration===1/0||p.type==="loading")return;let he;return S||m||F&&no?(()=>{if(Hn.current<Ls.current){let fe=new Date().getTime()-Ls.current;Ds.current=Ds.current-fe}Hn.current=new Date().getTime()})():Ds.current!==1/0&&(Ls.current=new Date().getTime(),he=setTimeout(()=>{var fe;(fe=p.onAutoClose)==null||fe.call(p,p),hn()},Ds.current)),()=>clearTimeout(he)},[S,m,p,wt,F,no,hn]),B.useEffect(()=>{p.delete&&hn()},[hn,p.delete]);function vm(){var he,fe,Be;return H!=null&&H.loading?B.createElement("div",{className:pr(j==null?void 0:j.loader,(he=p==null?void 0:p.classNames)==null?void 0:he.loader,"sonner-loader"),"data-visible":wt==="loading"},H.loading):X?B.createElement("div",{className:pr(j==null?void 0:j.loader,(fe=p==null?void 0:p.classNames)==null?void 0:fe.loader,"sonner-loader"),"data-visible":wt==="loading"},X):B.createElement(s$,{className:pr(j==null?void 0:j.loader,(Be=p==null?void 0:p.classNames)==null?void 0:Be.loader),visible:wt==="loading"})}return B.createElement("li",{tabIndex:0,ref:rs,className:pr(I,ql,j==null?void 0:j.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,j==null?void 0:j.default,j==null?void 0:j[wt],(n=p==null?void 0:p.classNames)==null?void 0:n[wt]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:E,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":q,"data-promise":!!p.promise,"data-swiped":Xt,"data-removed":Ke,"data-visible":eo,"data-y-position":Jl,"data-x-position":Yl,"data-index":w,"data-front":Wl,"data-swiping":Ne,"data-dismissible":Pt,"data-type":wt,"data-invert":la,"data-swipe-out":et,"data-swipe-direction":ce,"data-expanded":!!(S||O&&q),style:{"--index":w,"--toasts-before":w,"--z-index":k.length-w,"--offset":`${Ke?ur:fr.current}px`,"--initial-height":O?"auto":`${dr}px`,...N,...p.style},onDragEnd:()=>{Pe(!1),de(null),Tn.current=null},onPointerDown:he=>{Ql||!Pt||(Hl.current=new Date,Vn(fr.current),he.target.setPointerCapture(he.pointerId),he.target.tagName!=="BUTTON"&&(Pe(!0),Tn.current={x:he.clientX,y:he.clientY}))},onPointerUp:()=>{var he,fe,Be,Nn;if(et||!Pt)return;Tn.current=null;let pn=Number(((he=rs.current)==null?void 0:he.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Wn=Number(((fe=rs.current)==null?void 0:fe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ir=new Date().getTime()-((Be=Hl.current)==null?void 0:Be.getTime()),mn=Y==="x"?pn:Wn,Dr=Math.abs(mn)/Ir;if(Math.abs(mn)>=S$||Dr>.11){Vn(fr.current),(Nn=p.onDismiss)==null||Nn.call(p,p),Le(Y==="x"?pn>0?"right":"left":Wn>0?"down":"up"),hn(),jt(!0),Un(!1);return}Pe(!1),de(null)},onPointerMove:he=>{var fe,Be,Nn,pn;if(!Tn.current||!Pt||((fe=window.getSelection())==null?void 0:fe.toString().length)>0)return;let Wn=he.clientY-Tn.current.y,Ir=he.clientX-Tn.current.x,mn=(Be=t.swipeDirections)!=null?Be:_$(J);!Y&&(Math.abs(Ir)>1||Math.abs(Wn)>1)&&de(Math.abs(Ir)>Math.abs(Wn)?"x":"y");let Dr={x:0,y:0};Y==="y"?(mn.includes("top")||mn.includes("bottom"))&&(mn.includes("top")&&Wn<0||mn.includes("bottom")&&Wn>0)&&(Dr.y=Wn):Y==="x"&&(mn.includes("left")||mn.includes("right"))&&(mn.includes("left")&&Ir<0||mn.includes("right")&&Ir>0)&&(Dr.x=Ir),(Math.abs(Dr.x)>0||Math.abs(Dr.y)>0)&&Un(!0),(Nn=rs.current)==null||Nn.style.setProperty("--swipe-amount-x",`${Dr.x}px`),(pn=rs.current)==null||pn.style.setProperty("--swipe-amount-y",`${Dr.y}px`)}},Kl&&!p.jsx?B.createElement("button",{"aria-label":A,"data-disabled":Ql,"data-close-button":!0,onClick:Ql||!Pt?()=>{}:()=>{var he;hn(),(he=p.onDismiss)==null||he.call(p,p)},className:pr(j==null?void 0:j.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=H==null?void 0:H.close)!=null?i:c$):null,p.jsx||b.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:B.createElement(B.Fragment,null,wt||p.icon||p.promise?B.createElement("div",{"data-icon":"",className:pr(j==null?void 0:j.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||vm():null,p.type!=="loading"?p.icon||(H==null?void 0:H[wt])||n$(wt):null):null,B.createElement("div",{"data-content":"",className:pr(j==null?void 0:j.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},B.createElement("div",{"data-title":"",className:pr(j==null?void 0:j.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?B.createElement("div",{"data-description":"",className:pr(Z,ad,j==null?void 0:j.description,(c=p==null?void 0:p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),b.isValidElement(p.cancel)?p.cancel:p.cancel&&Ad(p.cancel)?B.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||R,onClick:he=>{var fe,Be;Ad(p.cancel)&&Pt&&((Be=(fe=p.cancel).onClick)==null||Be.call(fe,he),hn())},className:pr(j==null?void 0:j.cancelButton,(u=p==null?void 0:p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,b.isValidElement(p.action)?p.action:p.action&&Ad(p.action)?B.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||L,onClick:he=>{var fe,Be;Ad(p.action)&&((Be=(fe=p.action).onClick)==null||Be.call(fe,he),!he.defaultPrevented&&hn())},className:pr(j==null?void 0:j.actionButton,(d=p==null?void 0:p.classNames)==null?void 0:d.actionButton)},p.action.label):null))};function _1(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function T$(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?b$:x$;function l(c){["top","right","bottom","left"].forEach(u=>{n[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var N$=b.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:d,duration:f,style:p,visibleToasts:g=v$,toastOptions:m,dir:y=_1(),gap:v=k$,loadingIcon:x,icons:w,containerAriaLabel:k="Notifications",pauseWhenPageIsHidden:S}=t,[_,E]=B.useState([]),C=B.useMemo(()=>Array.from(new Set([r].concat(_.filter(F=>F.position).map(F=>F.position)))),[_,r]),[N,R]=B.useState([]),[L,I]=B.useState(!1),[Z,M]=B.useState(!1),[J,W]=B.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X=B.useRef(null),O=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=B.useRef(null),H=B.useRef(!1),A=B.useCallback(F=>{E(Y=>{var de;return(de=Y.find(ce=>ce.id===F.id))!=null&&de.delete||yn.dismiss(F.id),Y.filter(({id:ce})=>ce!==F.id)})},[]);return B.useEffect(()=>yn.subscribe(F=>{if(F.dismiss){E(Y=>Y.map(de=>de.id===F.id?{...de,delete:!0}:de));return}setTimeout(()=>{dx.flushSync(()=>{E(Y=>{let de=Y.findIndex(ce=>ce.id===F.id);return de!==-1?[...Y.slice(0,de),{...Y[de],...F},...Y.slice(de+1)]:[F,...Y]})})})}),[]),B.useEffect(()=>{if(u!=="system"){W(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window>"u")return;let F=window.matchMedia("(prefers-color-scheme: dark)");try{F.addEventListener("change",({matches:Y})=>{W(Y?"dark":"light")})}catch{F.addListener(({matches:de})=>{try{W(de?"dark":"light")}catch(ce){console.error(ce)}})}},[u]),B.useEffect(()=>{_.length<=1&&I(!1)},[_]),B.useEffect(()=>{let F=Y=>{var de,ce;s.every(Le=>Y[Le]||Y.code===Le)&&(I(!0),(de=X.current)==null||de.focus()),Y.code==="Escape"&&(document.activeElement===X.current||(ce=X.current)!=null&&ce.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[s]),B.useEffect(()=>{if(X.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,H.current=!1)}},[X.current]),B.createElement("section",{ref:e,"aria-label":`${k} ${O}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((F,Y)=>{var de;let[ce,Le]=F.split("-");return _.length?B.createElement("ol",{key:F,dir:y==="auto"?_1():y,tabIndex:-1,ref:X,className:a,"data-sonner-toaster":!0,"data-theme":J,"data-y-position":ce,"data-lifted":L&&_.length>1&&!i,"data-x-position":Le,style:{"--front-toast-height":`${((de=N[0])==null?void 0:de.height)||0}px`,"--width":`${w$}px`,"--gap":`${v}px`,...p,...T$(l,c)},onBlur:q=>{H.current&&!q.currentTarget.contains(q.relatedTarget)&&(H.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||H.current||(H.current=!0,j.current=q.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{Z||I(!1)},onDragEnd:()=>I(!1),onPointerDown:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},_.filter(q=>!q.position&&Y===0||q.position===F).map((q,Oe)=>{var Ke,je;return B.createElement(C$,{key:q.id,icons:w,index:Oe,toast:q,defaultRichColors:d,duration:(Ke=m==null?void 0:m.duration)!=null?Ke:f,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:n,visibleToasts:g,closeButton:(je=m==null?void 0:m.closeButton)!=null?je:o,interacting:Z,position:F,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:A,toasts:_.filter(Ne=>Ne.position==q.position),heights:N.filter(Ne=>Ne.position==q.position),setHeights:R,expandByDefault:i,gap:v,loadingIcon:x,expanded:L,pauseWhenPageIsHidden:S,swipeDirections:t.swipeDirections})})):null}))});const A$=({...t})=>{const{theme:e="system"}=UT();return h.jsx(N$,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var O$=b0[" useId ".trim().toString()]||(()=>{}),R$=0;function Ci(t){const[e,n]=b.useState(O$());return Ut(()=>{t||n(r=>r??String(R$++))},[t]),t||(e?`radix-${e}`:"")}const j$=["top","right","bottom","left"],Di=Math.min,Rn=Math.max,ih=Math.round,Od=Math.floor,Qr=t=>({x:t,y:t}),P$={left:"right",right:"left",bottom:"top",top:"bottom"},M$={start:"end",end:"start"};function Zy(t,e,n){return Rn(t,Di(e,n))}function Os(t,e){return typeof t=="function"?t(e):t}function Rs(t){return t.split("-")[0]}function Ll(t){return t.split("-")[1]}function bx(t){return t==="x"?"y":"x"}function wx(t){return t==="y"?"height":"width"}const I$=new Set(["top","bottom"]);function Gr(t){return I$.has(Rs(t))?"y":"x"}function kx(t){return bx(Gr(t))}function D$(t,e,n){n===void 0&&(n=!1);const r=Ll(t),s=kx(t),i=wx(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=oh(o)),[o,oh(o)]}function L$(t){const e=oh(t);return[Xy(t),e,Xy(e)]}function Xy(t){return t.replace(/start|end/g,e=>M$[e])}const C1=["left","right"],T1=["right","left"],$$=["top","bottom"],z$=["bottom","top"];function B$(t,e,n){switch(t){case"top":case"bottom":return n?e?T1:C1:e?C1:T1;case"left":case"right":return e?$$:z$;default:return[]}}function F$(t,e,n,r){const s=Ll(t);let i=B$(Rs(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Xy)))),i}function oh(t){return t.replace(/left|right|bottom|top/g,e=>P$[e])}function U$(t){return{top:0,right:0,bottom:0,left:0,...t}}function VT(t){return typeof t!="number"?U$(t):{top:t,right:t,bottom:t,left:t}}function ah(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function N1(t,e,n){let{reference:r,floating:s}=t;const i=Gr(e),o=kx(e),a=wx(o),l=Rs(e),c=i==="y",u=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-s.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-s.width,y:d};break;default:p={x:r.x,y:r.y}}switch(Ll(e)){case"start":p[o]-=f*(n&&c?-1:1);break;case"end":p[o]+=f*(n&&c?-1:1);break}return p}const V$=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:d}=N1(c,r,l),f=r,p={},g=0;for(let m=0;m<a.length;m++){const{name:y,fn:v}=a[m],{x,y:w,data:k,reset:S}=await v({x:u,y:d,initialPlacement:r,placement:f,strategy:s,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});u=x??u,d=w??d,p={...p,[y]:{...p[y],...k}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(c=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):S.rects),{x:u,y:d}=N1(c,f,l)),m=-1)}return{x:u,y:d,placement:f,strategy:s,middlewareData:p}};async function gu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=Os(e,t),g=VT(p),y=a[f?d==="floating"?"reference":"floating":d],v=ah(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),x=d==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),k=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},S=ah(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:w,strategy:l}):x);return{top:(v.top-S.top+g.top)/k.y,bottom:(S.bottom-v.bottom+g.bottom)/k.y,left:(v.left-S.left+g.left)/k.x,right:(S.right-v.right+g.right)/k.x}}const H$=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Os(t,e)||{};if(c==null)return{};const d=VT(u),f={x:n,y:r},p=kx(s),g=wx(p),m=await o.getDimensions(c),y=p==="y",v=y?"top":"left",x=y?"bottom":"right",w=y?"clientHeight":"clientWidth",k=i.reference[g]+i.reference[p]-f[p]-i.floating[g],S=f[p]-i.reference[p],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let E=_?_[w]:0;(!E||!await(o.isElement==null?void 0:o.isElement(_)))&&(E=a.floating[w]||i.floating[g]);const C=k/2-S/2,N=E/2-m[g]/2-1,R=Di(d[v],N),L=Di(d[x],N),I=R,Z=E-m[g]-L,M=E/2-m[g]/2+C,J=Zy(I,M,Z),W=!l.arrow&&Ll(s)!=null&&M!==J&&i.reference[g]/2-(M<I?R:L)-m[g]/2<0,X=W?M<I?M-I:M-Z:0;return{[p]:f[p]+X,data:{[p]:J,centerOffset:M-J-X,...W&&{alignmentOffset:X}},reset:W}}}),W$=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...y}=Os(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=Rs(s),x=Gr(a),w=Rs(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=f||(w||!m?[oh(a)]:L$(a)),_=g!=="none";!f&&_&&S.push(...F$(a,m,g,k));const E=[a,...S],C=await gu(e,y),N=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&N.push(C[v]),d){const M=D$(s,o,k);N.push(C[M[0]],C[M[1]])}if(R=[...R,{placement:s,overflows:N}],!N.every(M=>M<=0)){var L,I;const M=(((L=i.flip)==null?void 0:L.index)||0)+1,J=E[M];if(J&&(!(d==="alignment"?x!==Gr(J):!1)||R.every(O=>O.overflows[0]>0&&Gr(O.placement)===x)))return{data:{index:M,overflows:R},reset:{placement:J}};let W=(I=R.filter(X=>X.overflows[0]<=0).sort((X,O)=>X.overflows[1]-O.overflows[1])[0])==null?void 0:I.placement;if(!W)switch(p){case"bestFit":{var Z;const X=(Z=R.filter(O=>{if(_){const j=Gr(O.placement);return j===x||j==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(j=>j>0).reduce((j,H)=>j+H,0)]).sort((O,j)=>O[1]-j[1])[0])==null?void 0:Z[0];X&&(W=X);break}case"initialPlacement":W=a;break}if(s!==W)return{reset:{placement:W}}}return{}}}};function A1(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function O1(t){return j$.some(e=>t[e]>=0)}const q$=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Os(t,e);switch(r){case"referenceHidden":{const i=await gu(e,{...s,elementContext:"reference"}),o=A1(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:O1(o)}}}case"escaped":{const i=await gu(e,{...s,altBoundary:!0}),o=A1(i,n.floating);return{data:{escapedOffsets:o,escaped:O1(o)}}}default:return{}}}}},HT=new Set(["left","top"]);async function K$(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Rs(n),a=Ll(n),l=Gr(n)==="y",c=HT.has(o)?-1:1,u=i&&l?-1:1,d=Os(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof g=="number"&&(p=a==="end"?g*-1:g),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}const G$=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await K$(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},J$=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:v,y:x}=y;return{x:v,y:x}}},...l}=Os(t,e),c={x:n,y:r},u=await gu(e,l),d=Gr(Rs(s)),f=bx(d);let p=c[f],g=c[d];if(i){const y=f==="y"?"top":"left",v=f==="y"?"bottom":"right",x=p+u[y],w=p-u[v];p=Zy(x,p,w)}if(o){const y=d==="y"?"top":"left",v=d==="y"?"bottom":"right",x=g+u[y],w=g-u[v];g=Zy(x,g,w)}const m=a.fn({...e,[f]:p,[d]:g});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[f]:i,[d]:o}}}}}},Y$=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Os(t,e),u={x:n,y:r},d=Gr(s),f=bx(d);let p=u[f],g=u[d];const m=Os(a,e),y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const w=f==="y"?"height":"width",k=i.reference[f]-i.floating[w]+y.mainAxis,S=i.reference[f]+i.reference[w]-y.mainAxis;p<k?p=k:p>S&&(p=S)}if(c){var v,x;const w=f==="y"?"width":"height",k=HT.has(Rs(s)),S=i.reference[d]-i.floating[w]+(k&&((v=o.offset)==null?void 0:v[d])||0)+(k?0:y.crossAxis),_=i.reference[d]+i.reference[w]+(k?0:((x=o.offset)==null?void 0:x[d])||0)-(k?y.crossAxis:0);g<S?g=S:g>_&&(g=_)}return{[f]:p,[d]:g}}}},Q$=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Os(t,e),u=await gu(e,c),d=Rs(s),f=Ll(s),p=Gr(s)==="y",{width:g,height:m}=i.floating;let y,v;d==="top"||d==="bottom"?(y=d,v=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=d,y=f==="end"?"top":"bottom");const x=m-u.top-u.bottom,w=g-u.left-u.right,k=Di(m-u[y],x),S=Di(g-u[v],w),_=!e.middlewareData.shift;let E=k,C=S;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(E=x),_&&!f){const R=Rn(u.left,0),L=Rn(u.right,0),I=Rn(u.top,0),Z=Rn(u.bottom,0);p?C=g-2*(R!==0||L!==0?R+L:Rn(u.left,u.right)):E=m-2*(I!==0||Z!==0?I+Z:Rn(u.top,u.bottom))}await l({...e,availableWidth:C,availableHeight:E});const N=await o.getDimensions(a.floating);return g!==N.width||m!==N.height?{reset:{rects:!0}}:{}}}};function Lp(){return typeof window<"u"}function $l(t){return WT(t)?(t.nodeName||"").toLowerCase():"#document"}function Ln(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ns(t){var e;return(e=(WT(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function WT(t){return Lp()?t instanceof Node||t instanceof Ln(t).Node:!1}function Rr(t){return Lp()?t instanceof Element||t instanceof Ln(t).Element:!1}function Xr(t){return Lp()?t instanceof HTMLElement||t instanceof Ln(t).HTMLElement:!1}function R1(t){return!Lp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ln(t).ShadowRoot}const Z$=new Set(["inline","contents"]);function Qu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=jr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Z$.has(s)}const X$=new Set(["table","td","th"]);function e4(t){return X$.has($l(t))}const t4=[":popover-open",":modal"];function $p(t){return t4.some(e=>{try{return t.matches(e)}catch{return!1}})}const n4=["transform","translate","scale","rotate","perspective"],r4=["transform","translate","scale","rotate","perspective","filter"],s4=["paint","layout","strict","content"];function Sx(t){const e=Ex(),n=Rr(t)?jr(t):t;return n4.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||r4.some(r=>(n.willChange||"").includes(r))||s4.some(r=>(n.contain||"").includes(r))}function i4(t){let e=Li(t);for(;Xr(e)&&!gl(e);){if(Sx(e))return e;if($p(e))return null;e=Li(e)}return null}function Ex(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const o4=new Set(["html","body","#document"]);function gl(t){return o4.has($l(t))}function jr(t){return Ln(t).getComputedStyle(t)}function zp(t){return Rr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Li(t){if($l(t)==="html")return t;const e=t.assignedSlot||t.parentNode||R1(t)&&t.host||ns(t);return R1(e)?e.host:e}function qT(t){const e=Li(t);return gl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Xr(e)&&Qu(e)?e:qT(e)}function yu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=qT(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Ln(s);if(i){const a=ev(o);return e.concat(o,o.visualViewport||[],Qu(s)?s:[],a&&n?yu(a):[])}return e.concat(s,yu(s,[],n))}function ev(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function KT(t){const e=jr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Xr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=ih(n)!==i||ih(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function _x(t){return Rr(t)?t:t.contextElement}function Ga(t){const e=_x(t);if(!Xr(e))return Qr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=KT(e);let o=(i?ih(n.width):n.width)/r,a=(i?ih(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const a4=Qr(0);function GT(t){const e=Ln(t);return!Ex()||!e.visualViewport?a4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function l4(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ln(t)?!1:e}function Uo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=_x(t);let o=Qr(1);e&&(r?Rr(r)&&(o=Ga(r)):o=Ga(t));const a=l4(i,n,r)?GT(i):Qr(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,d=s.height/o.y;if(i){const f=Ln(i),p=r&&Rr(r)?Ln(r):r;let g=f,m=ev(g);for(;m&&r&&p!==g;){const y=Ga(m),v=m.getBoundingClientRect(),x=jr(m),w=v.left+(m.clientLeft+parseFloat(x.paddingLeft))*y.x,k=v.top+(m.clientTop+parseFloat(x.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,d*=y.y,l+=w,c+=k,g=Ln(m),m=ev(g)}}return ah({width:u,height:d,x:l,y:c})}function Cx(t,e){const n=zp(t).scrollLeft;return e?e.left+n:Uo(ns(t)).left+n}function JT(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Cx(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function c4(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=ns(r),a=e?$p(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Qr(1);const u=Qr(0),d=Xr(r);if((d||!d&&!i)&&(($l(r)!=="body"||Qu(o))&&(l=zp(r)),Xr(r))){const p=Uo(r);c=Ga(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const f=o&&!d&&!i?JT(o,l,!0):Qr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}}function u4(t){return Array.from(t.getClientRects())}function d4(t){const e=ns(t),n=zp(t),r=t.ownerDocument.body,s=Rn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Rn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Cx(t);const a=-n.scrollTop;return jr(r).direction==="rtl"&&(o+=Rn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function f4(t,e){const n=Ln(t),r=ns(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=Ex();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const h4=new Set(["absolute","fixed"]);function p4(t,e){const n=Uo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Xr(t)?Ga(t):Qr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function j1(t,e,n){let r;if(e==="viewport")r=f4(t,n);else if(e==="document")r=d4(ns(t));else if(Rr(e))r=p4(e,n);else{const s=GT(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return ah(r)}function YT(t,e){const n=Li(t);return n===e||!Rr(n)||gl(n)?!1:jr(n).position==="fixed"||YT(n,e)}function m4(t,e){const n=e.get(t);if(n)return n;let r=yu(t,[],!1).filter(a=>Rr(a)&&$l(a)!=="body"),s=null;const i=jr(t).position==="fixed";let o=i?Li(t):t;for(;Rr(o)&&!gl(o);){const a=jr(o),l=Sx(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&h4.has(s.position)||Qu(o)&&!l&&YT(t,o))?r=r.filter(u=>u!==o):s=a,o=Li(o)}return e.set(t,r),r}function g4(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?$p(e)?[]:m4(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=j1(e,u,s);return c.top=Rn(d.top,c.top),c.right=Di(d.right,c.right),c.bottom=Di(d.bottom,c.bottom),c.left=Rn(d.left,c.left),c},j1(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function y4(t){const{width:e,height:n}=KT(t);return{width:e,height:n}}function v4(t,e,n){const r=Xr(e),s=ns(e),i=n==="fixed",o=Uo(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Qr(0);function c(){l.x=Cx(s)}if(r||!r&&!i)if(($l(e)!=="body"||Qu(s))&&(a=zp(e)),r){const p=Uo(e,!0,i,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else s&&c();i&&!r&&s&&c();const u=s&&!r&&!i?JT(s,a):Qr(0),d=o.left+a.scrollLeft-l.x-u.x,f=o.top+a.scrollTop-l.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function Zm(t){return jr(t).position==="static"}function P1(t,e){if(!Xr(t)||jr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ns(t)===n&&(n=n.ownerDocument.body),n}function QT(t,e){const n=Ln(t);if($p(t))return n;if(!Xr(t)){let s=Li(t);for(;s&&!gl(s);){if(Rr(s)&&!Zm(s))return s;s=Li(s)}return n}let r=P1(t,e);for(;r&&e4(r)&&Zm(r);)r=P1(r,e);return r&&gl(r)&&Zm(r)&&!Sx(r)?n:r||i4(t)||n}const x4=async function(t){const e=this.getOffsetParent||QT,n=this.getDimensions,r=await n(t.floating);return{reference:v4(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function b4(t){return jr(t).direction==="rtl"}const w4={convertOffsetParentRelativeRectToViewportRelativeRect:c4,getDocumentElement:ns,getClippingRect:g4,getOffsetParent:QT,getElementRects:x4,getClientRects:u4,getDimensions:y4,getScale:Ga,isElement:Rr,isRTL:b4};function ZT(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function k4(t,e){let n=null,r;const s=ns(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:u,top:d,width:f,height:p}=c;if(a||e(),!f||!p)return;const g=Od(d),m=Od(s.clientWidth-(u+f)),y=Od(s.clientHeight-(d+p)),v=Od(u),w={rootMargin:-g+"px "+-m+"px "+-y+"px "+-v+"px",threshold:Rn(0,Di(1,l))||1};let k=!0;function S(_){const E=_[0].intersectionRatio;if(E!==l){if(!k)return o();E?o(!1,E):r=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!ZT(c,t.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(S,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,w)}n.observe(t)}return o(!0),i}function S4(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=_x(t),u=s||i?[...c?yu(c):[],...yu(e)]:[];u.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const d=c&&a?k4(c,n):null;let f=-1,p=null;o&&(p=new ResizeObserver(v=>{let[x]=v;x&&x.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let g,m=l?Uo(t):null;l&&y();function y(){const v=Uo(t);m&&!ZT(m,v)&&n(),m=v,g=requestAnimationFrame(y)}return n(),()=>{var v;u.forEach(x=>{s&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),d==null||d(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const E4=G$,_4=J$,C4=W$,T4=Q$,N4=q$,M1=H$,A4=Y$,O4=(t,e,n)=>{const r=new Map,s={platform:w4,...n},i={...s.platform,_c:r};return V$(t,e,{...s,platform:i})};var R4=typeof document<"u",j4=function(){},Ef=R4?b.useLayoutEffect:j4;function lh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!lh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!lh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function XT(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function I1(t,e){const n=XT(t);return Math.round(e*n)/n}function Xm(t){const e=b.useRef(t);return Ef(()=>{e.current=t}),e}function P4(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=b.useState(r);lh(f,r)||p(r);const[g,m]=b.useState(null),[y,v]=b.useState(null),x=b.useCallback(O=>{O!==_.current&&(_.current=O,m(O))},[]),w=b.useCallback(O=>{O!==E.current&&(E.current=O,v(O))},[]),k=i||g,S=o||y,_=b.useRef(null),E=b.useRef(null),C=b.useRef(u),N=l!=null,R=Xm(l),L=Xm(s),I=Xm(c),Z=b.useCallback(()=>{if(!_.current||!E.current)return;const O={placement:e,strategy:n,middleware:f};L.current&&(O.platform=L.current),O4(_.current,E.current,O).then(j=>{const H={...j,isPositioned:I.current!==!1};M.current&&!lh(C.current,H)&&(C.current=H,ea.flushSync(()=>{d(H)}))})},[f,e,n,L,I]);Ef(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,d(O=>({...O,isPositioned:!1})))},[c]);const M=b.useRef(!1);Ef(()=>(M.current=!0,()=>{M.current=!1}),[]),Ef(()=>{if(k&&(_.current=k),S&&(E.current=S),k&&S){if(R.current)return R.current(k,S,Z);Z()}},[k,S,Z,R,N]);const J=b.useMemo(()=>({reference:_,floating:E,setReference:x,setFloating:w}),[x,w]),W=b.useMemo(()=>({reference:k,floating:S}),[k,S]),X=b.useMemo(()=>{const O={position:n,left:0,top:0};if(!W.floating)return O;const j=I1(W.floating,u.x),H=I1(W.floating,u.y);return a?{...O,transform:"translate("+j+"px, "+H+"px)",...XT(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:H}},[n,a,W.floating,u.x,u.y]);return b.useMemo(()=>({...u,update:Z,refs:J,elements:W,floatingStyles:X}),[u,Z,J,W,X])}const M4=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?M1({element:r.current,padding:s}).fn(n):{}:r?M1({element:r,padding:s}).fn(n):{}}}},I4=(t,e)=>({...E4(t),options:[t,e]}),D4=(t,e)=>({..._4(t),options:[t,e]}),L4=(t,e)=>({...A4(t),options:[t,e]}),$4=(t,e)=>({...C4(t),options:[t,e]}),z4=(t,e)=>({...T4(t),options:[t,e]}),B4=(t,e)=>({...N4(t),options:[t,e]}),F4=(t,e)=>({...M4(t),options:[t,e]});var U4="Arrow",eN=b.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return h.jsx(we.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});eN.displayName=U4;var V4=eN;function tN(t){const[e,n]=b.useState(void 0);return Ut(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Tx="Popper",[nN,Bp]=Ms(Tx),[H4,rN]=nN(Tx),sN=t=>{const{__scopePopper:e,children:n}=t,[r,s]=b.useState(null);return h.jsx(H4,{scope:e,anchor:r,onAnchorChange:s,children:n})};sN.displayName=Tx;var iN="PopperAnchor",oN=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=rN(iN,n),o=b.useRef(null),a=Ve(e,o);return b.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:h.jsx(we.div,{...s,ref:a})});oN.displayName=iN;var Nx="PopperContent",[W4,q4]=nN(Nx),aN=b.forwardRef((t,e)=>{var q,Oe,Ke,je,Ne,Pe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=t,y=rN(Nx,n),[v,x]=b.useState(null),w=Ve(e,et=>x(et)),[k,S]=b.useState(null),_=tN(k),E=(_==null?void 0:_.width)??0,C=(_==null?void 0:_.height)??0,N=r+(i!=="center"?"-"+i:""),R=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},L=Array.isArray(c)?c:[c],I=L.length>0,Z={padding:R,boundary:L.filter(G4),altBoundary:I},{refs:M,floatingStyles:J,placement:W,isPositioned:X,middlewareData:O}=P4({strategy:"fixed",placement:N,whileElementsMounted:(...et)=>S4(...et,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[I4({mainAxis:s+C,alignmentAxis:o}),l&&D4({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?L4():void 0,...Z}),l&&$4({...Z}),z4({...Z,apply:({elements:et,rects:jt,availableWidth:Xt,availableHeight:Un})=>{const{width:ur,height:Vn}=jt.reference,dr=et.floating.style;dr.setProperty("--radix-popper-available-width",`${Xt}px`),dr.setProperty("--radix-popper-available-height",`${Un}px`),dr.setProperty("--radix-popper-anchor-width",`${ur}px`),dr.setProperty("--radix-popper-anchor-height",`${Vn}px`)}}),k&&F4({element:k,padding:a}),J4({arrowWidth:E,arrowHeight:C}),f&&B4({strategy:"referenceHidden",...Z})]}),[j,H]=uN(W),A=ar(g);Ut(()=>{X&&(A==null||A())},[X,A]);const F=(q=O.arrow)==null?void 0:q.x,Y=(Oe=O.arrow)==null?void 0:Oe.y,de=((Ke=O.arrow)==null?void 0:Ke.centerOffset)!==0,[ce,Le]=b.useState();return Ut(()=>{v&&Le(window.getComputedStyle(v).zIndex)},[v]),h.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:X?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[(je=O.transformOrigin)==null?void 0:je.x,(Ne=O.transformOrigin)==null?void 0:Ne.y].join(" "),...((Pe=O.hide)==null?void 0:Pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:h.jsx(W4,{scope:n,placedSide:j,onArrowChange:S,arrowX:F,arrowY:Y,shouldHideArrow:de,children:h.jsx(we.div,{"data-side":j,"data-align":H,...m,ref:w,style:{...m.style,animation:X?void 0:"none"}})})})});aN.displayName=Nx;var lN="PopperArrow",K4={top:"bottom",right:"left",bottom:"top",left:"right"},cN=b.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=q4(lN,r),o=K4[i.placedSide];return h.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:h.jsx(V4,{...s,ref:n,style:{...s.style,display:"block"}})})});cN.displayName=lN;function G4(t){return t!==null}var J4=t=>({name:"transformOrigin",options:t,fn(e){var y,v,x;const{placement:n,rects:r,middlewareData:s}=e,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=uN(n),d={start:"0%",center:"50%",end:"100%"}[u],f=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,p=(((x=s.arrow)==null?void 0:x.y)??0)+l/2;let g="",m="";return c==="bottom"?(g=o?d:`${f}px`,m=`${-l}px`):c==="top"?(g=o?d:`${f}px`,m=`${r.floating.height+l}px`):c==="right"?(g=`${-l}px`,m=o?d:`${p}px`):c==="left"&&(g=`${r.floating.width+l}px`,m=o?d:`${p}px`),{data:{x:g,y:m}}}});function uN(t){const[e,n="center"]=t.split("-");return[e,n]}var Y4=sN,dN=oN,fN=aN,hN=cN,[Fp,mJ]=Ms("Tooltip",[Bp]),Ax=Bp(),pN="TooltipProvider",Q4=700,D1="tooltip.open",[Z4,mN]=Fp(pN),gN=t=>{const{__scopeTooltip:e,delayDuration:n=Q4,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=b.useRef(!0),a=b.useRef(!1),l=b.useRef(0);return b.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),h.jsx(Z4,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:b.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};gN.displayName=pN;var yN="Tooltip",[gJ,Up]=Fp(yN),tv="TooltipTrigger",X4=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Up(tv,n),i=mN(tv,n),o=Ax(n),a=b.useRef(null),l=Ve(e,a,s.onTriggerChange),c=b.useRef(!1),u=b.useRef(!1),d=b.useCallback(()=>c.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),h.jsx(dN,{asChild:!0,...o,children:h.jsx(we.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ue(t.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:ue(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:ue(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:ue(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:ue(t.onBlur,s.onClose),onClick:ue(t.onClick,s.onClose)})})});X4.displayName=tv;var e3="TooltipPortal",[yJ,t3]=Fp(e3,{forceMount:void 0}),yl="TooltipContent",vN=b.forwardRef((t,e)=>{const n=t3(yl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Up(yl,t.__scopeTooltip);return h.jsx(ta,{present:r||o.open,children:o.disableHoverableContent?h.jsx(xN,{side:s,...i,ref:e}):h.jsx(n3,{side:s,...i,ref:e})})}),n3=b.forwardRef((t,e)=>{const n=Up(yl,t.__scopeTooltip),r=mN(yl,t.__scopeTooltip),s=b.useRef(null),i=Ve(e,s),[o,a]=b.useState(null),{trigger:l,onClose:c}=n,u=s.current,{onPointerInTransitChange:d}=r,f=b.useCallback(()=>{a(null),d(!1)},[d]),p=b.useCallback((g,m)=>{const y=g.currentTarget,v={x:g.clientX,y:g.clientY},x=a3(v,y.getBoundingClientRect()),w=l3(v,x),k=c3(m.getBoundingClientRect()),S=d3([...w,...k]);a(S),d(!0)},[d]);return b.useEffect(()=>()=>f(),[f]),b.useEffect(()=>{if(l&&u){const g=y=>p(y,u),m=y=>p(y,l);return l.addEventListener("pointerleave",g),u.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",m)}}},[l,u,p,f]),b.useEffect(()=>{if(o){const g=m=>{const y=m.target,v={x:m.clientX,y:m.clientY},x=(l==null?void 0:l.contains(y))||(u==null?void 0:u.contains(y)),w=!u3(v,o);x?f():w&&(f(),c())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,u,o,c,f]),h.jsx(xN,{...t,ref:i})}),[r3,s3]=Fp(yN,{isInside:!1}),i3=Y2("TooltipContent"),xN=b.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Up(yl,n),c=Ax(n),{onClose:u}=l;return b.useEffect(()=>(document.addEventListener(D1,u),()=>document.removeEventListener(D1,u)),[u]),b.useEffect(()=>{if(l.trigger){const d=f=>{const p=f.target;p!=null&&p.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),h.jsx(Ku,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:h.jsxs(fN,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[h.jsx(i3,{children:r}),h.jsx(r3,{scope:n,isInside:!0,children:h.jsx(vD,{id:l.contentId,role:"tooltip",children:s||r})})]})})});vN.displayName=yl;var bN="TooltipArrow",o3=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Ax(n);return s3(bN,n).isInside?null:h.jsx(hN,{...s,...r,ref:e})});o3.displayName=bN;function a3(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function l3(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function c3(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function u3(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,u=a.y,d=l.x,f=l.y;u>r!=f>r&&n<(d-c)*(r-u)/(f-u)+c&&(s=!s)}return s}function d3(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),f3(e)}function f3(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var h3=gN,wN=vN;const p3=h3,m3=b.forwardRef(({className:t,sideOffset:e=4,...n},r)=>h.jsx(wN,{ref:r,sideOffset:e,className:Te("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));m3.displayName=wN.displayName;var Vp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Hp=typeof window>"u"||"Deno"in globalThis;function xr(){}function g3(t,e){return typeof t=="function"?t(e):t}function y3(t){return typeof t=="number"&&t>=0&&t!==1/0}function v3(t,e){return Math.max(t+(e||0)-Date.now(),0)}function nv(t,e){return typeof t=="function"?t(e):t}function x3(t,e){return typeof t=="function"?t(e):t}function L1(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Ox(o,e.options))return!1}else if(!xu(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function $1(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(vu(e.options.mutationKey)!==vu(i))return!1}else if(!xu(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Ox(t,e){return((e==null?void 0:e.queryKeyHashFn)||vu)(t)}function vu(t){return JSON.stringify(t,(e,n)=>rv(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function xu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>xu(t[n],e[n])):!1}function kN(t,e){if(t===e)return t;const n=z1(t)&&z1(e);if(n||rv(t)&&rv(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},l=new Set(r);let c=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&l.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,c++):(a[d]=kN(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function z1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function rv(t){if(!B1(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!B1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function B1(t){return Object.prototype.toString.call(t)==="[object Object]"}function b3(t){return new Promise(e=>{setTimeout(e,t)})}function w3(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?kN(t,e):e}function k3(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function S3(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Rx=Symbol();function SN(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Rx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var So,ii,el,jE,E3=(jE=class extends Vp{constructor(){super();$e(this,So);$e(this,ii);$e(this,el);be(this,el,e=>{if(!Hp&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){P(this,ii)||this.setEventListener(P(this,el))}onUnsubscribe(){var e;this.hasListeners()||((e=P(this,ii))==null||e.call(this),be(this,ii,void 0))}setEventListener(e){var n;be(this,el,e),(n=P(this,ii))==null||n.call(this),be(this,ii,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){P(this,So)!==e&&(be(this,So,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof P(this,So)=="boolean"?P(this,So):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},So=new WeakMap,ii=new WeakMap,el=new WeakMap,jE),EN=new E3,tl,oi,nl,PE,_3=(PE=class extends Vp{constructor(){super();$e(this,tl,!0);$e(this,oi);$e(this,nl);be(this,nl,e=>{if(!Hp&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){P(this,oi)||this.setEventListener(P(this,nl))}onUnsubscribe(){var e;this.hasListeners()||((e=P(this,oi))==null||e.call(this),be(this,oi,void 0))}setEventListener(e){var n;be(this,nl,e),(n=P(this,oi))==null||n.call(this),be(this,oi,e(this.setOnline.bind(this)))}setOnline(e){P(this,tl)!==e&&(be(this,tl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return P(this,tl)}},tl=new WeakMap,oi=new WeakMap,nl=new WeakMap,PE),ch=new _3;function C3(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function T3(t){return Math.min(1e3*2**t,3e4)}function _N(t){return(t??"online")==="online"?ch.isOnline():!0}var CN=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function eg(t){return t instanceof CN}function TN(t){let e=!1,n=0,r=!1,s;const i=C3(),o=m=>{var y;r||(f(new CN(m)),(y=t.abort)==null||y.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>EN.isFocused()&&(t.networkMode==="always"||ch.isOnline())&&t.canRun(),u=()=>_N(t.networkMode)&&t.canRun(),d=m=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,m),s==null||s(),i.resolve(m))},f=m=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,m),s==null||s(),i.reject(m))},p=()=>new Promise(m=>{var y;s=v=>{(r||c())&&m(v)},(y=t.onPause)==null||y.call(t)}).then(()=>{var m;s=void 0,r||(m=t.onContinue)==null||m.call(t)}),g=()=>{if(r)return;let m;const y=n===0?t.initialPromise:void 0;try{m=y??t.fn()}catch(v){m=Promise.reject(v)}Promise.resolve(m).then(d).catch(v=>{var _;if(r)return;const x=t.retry??(Hp?0:3),w=t.retryDelay??T3,k=typeof w=="function"?w(n,v):w,S=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,v);if(e||!S){f(v);return}n++,(_=t.onFail)==null||_.call(t,n,v),b3(k).then(()=>c()?void 0:p()).then(()=>{e?f(v):g()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?g():p().then(g),i)}}var N3=t=>setTimeout(t,0);function A3(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=N3;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var rn=A3(),Eo,ME,NN=(ME=class{constructor(){$e(this,Eo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),y3(this.gcTime)&&be(this,Eo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Hp?1/0:5*60*1e3))}clearGcTimeout(){P(this,Eo)&&(clearTimeout(P(this,Eo)),be(this,Eo,void 0))}},Eo=new WeakMap,ME),rl,_o,Gn,Co,Kt,Bu,To,wr,ds,IE,O3=(IE=class extends NN{constructor(e){super();$e(this,wr);$e(this,rl);$e(this,_o);$e(this,Gn);$e(this,Co);$e(this,Kt);$e(this,Bu);$e(this,To);be(this,To,!1),be(this,Bu,e.defaultOptions),this.setOptions(e.options),this.observers=[],be(this,Co,e.client),be(this,Gn,P(this,Co).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,be(this,rl,j3(this.options)),this.state=e.state??P(this,rl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=P(this,Kt))==null?void 0:e.promise}setOptions(e){this.options={...P(this,Bu),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&P(this,Gn).remove(this)}setData(e,n){const r=w3(this.state.data,e,this.options);return Ht(this,wr,ds).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Ht(this,wr,ds).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=P(this,Kt))==null?void 0:r.promise;return(s=P(this,Kt))==null||s.cancel(e),n?n.then(xr).catch(xr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(P(this,rl))}isActive(){return this.observers.some(e=>x3(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Rx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>nv(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!v3(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=P(this,Kt))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=P(this,Kt))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),P(this,Gn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(P(this,Kt)&&(P(this,To)?P(this,Kt).cancel({revert:!0}):P(this,Kt).cancelRetry()),this.scheduleGc()),P(this,Gn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ht(this,wr,ds).call(this,{type:"invalidate"})}fetch(e,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(P(this,Kt))return P(this,Kt).continueRetry(),P(this,Kt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(be(this,To,!0),r.signal)})},i=()=>{const f=SN(this.options,n),g=(()=>{const m={client:P(this,Co),queryKey:this.queryKey,meta:this.meta};return s(m),m})();return be(this,To,!1),this.options.persister?this.options.persister(f,g,this):f(g)},a=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:P(this,Co),state:this.state,fetchFn:i};return s(f),f})();(c=this.options.behavior)==null||c.onFetch(a,this),be(this,_o,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Ht(this,wr,ds).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const l=f=>{var p,g,m,y;eg(f)&&f.silent||Ht(this,wr,ds).call(this,{type:"error",error:f}),eg(f)||((g=(p=P(this,Gn).config).onError)==null||g.call(p,f,this),(y=(m=P(this,Gn).config).onSettled)==null||y.call(m,this.state.data,f,this)),this.scheduleGc()};return be(this,Kt,TN({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var p,g,m,y;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(v){l(v);return}(g=(p=P(this,Gn).config).onSuccess)==null||g.call(p,f,this),(y=(m=P(this,Gn).config).onSettled)==null||y.call(m,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,p)=>{Ht(this,wr,ds).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{Ht(this,wr,ds).call(this,{type:"pause"})},onContinue:()=>{Ht(this,wr,ds).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),P(this,Kt).start()}},rl=new WeakMap,_o=new WeakMap,Gn=new WeakMap,Co=new WeakMap,Kt=new WeakMap,Bu=new WeakMap,To=new WeakMap,wr=new WeakSet,ds=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...R3(r.data,this.options),fetchMeta:e.meta??null};case"success":return be(this,_o,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return eg(s)&&s.revert&&P(this,_o)?{...P(this,_o),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),rn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),P(this,Gn).notify({query:this,type:"updated",action:e})})},IE);function R3(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:_N(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function j3(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Vr,DE,P3=(DE=class extends Vp{constructor(e={}){super();$e(this,Vr);this.config=e,be(this,Vr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Ox(s,n);let o=this.get(i);return o||(o=new O3({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){P(this,Vr).has(e.queryHash)||(P(this,Vr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=P(this,Vr).get(e.queryHash);n&&(e.destroy(),n===e&&P(this,Vr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){rn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return P(this,Vr).get(e)}getAll(){return[...P(this,Vr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>L1(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>L1(e,r)):n}notify(e){rn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){rn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){rn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Vr=new WeakMap,DE),Hr,tn,No,Wr,Hs,LE,M3=(LE=class extends NN{constructor(e){super();$e(this,Wr);$e(this,Hr);$e(this,tn);$e(this,No);this.mutationId=e.mutationId,be(this,tn,e.mutationCache),be(this,Hr,[]),this.state=e.state||I3(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){P(this,Hr).includes(e)||(P(this,Hr).push(e),this.clearGcTimeout(),P(this,tn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){be(this,Hr,P(this,Hr).filter(n=>n!==e)),this.scheduleGc(),P(this,tn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){P(this,Hr).length||(this.state.status==="pending"?this.scheduleGc():P(this,tn).remove(this))}continue(){var e;return((e=P(this,No))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,l,c,u,d,f,p,g,m,y,v,x,w,k,S,_,E,C;const n=()=>{Ht(this,Wr,Hs).call(this,{type:"continue"})};be(this,No,TN({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(N,R)=>{Ht(this,Wr,Hs).call(this,{type:"failed",failureCount:N,error:R})},onPause:()=>{Ht(this,Wr,Hs).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>P(this,tn).canRun(this)}));const r=this.state.status==="pending",s=!P(this,No).canStart();try{if(r)n();else{Ht(this,Wr,Hs).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=P(this,tn).config).onMutate)==null?void 0:o.call(i,e,this));const R=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));R!==this.state.context&&Ht(this,Wr,Hs).call(this,{type:"pending",context:R,variables:e,isPaused:s})}const N=await P(this,No).start();return await((u=(c=P(this,tn).config).onSuccess)==null?void 0:u.call(c,N,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,N,e,this.state.context)),await((g=(p=P(this,tn).config).onSettled)==null?void 0:g.call(p,N,null,this.state.variables,this.state.context,this)),await((y=(m=this.options).onSettled)==null?void 0:y.call(m,N,null,e,this.state.context)),Ht(this,Wr,Hs).call(this,{type:"success",data:N}),N}catch(N){try{throw await((x=(v=P(this,tn).config).onError)==null?void 0:x.call(v,N,e,this.state.context,this)),await((k=(w=this.options).onError)==null?void 0:k.call(w,N,e,this.state.context)),await((_=(S=P(this,tn).config).onSettled)==null?void 0:_.call(S,void 0,N,this.state.variables,this.state.context,this)),await((C=(E=this.options).onSettled)==null?void 0:C.call(E,void 0,N,e,this.state.context)),N}finally{Ht(this,Wr,Hs).call(this,{type:"error",error:N})}}finally{P(this,tn).runNext(this)}}},Hr=new WeakMap,tn=new WeakMap,No=new WeakMap,Wr=new WeakSet,Hs=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),rn.batch(()=>{P(this,Hr).forEach(r=>{r.onMutationUpdate(e)}),P(this,tn).notify({mutation:this,type:"updated",action:e})})},LE);function I3(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var bs,kr,Fu,$E,D3=($E=class extends Vp{constructor(e={}){super();$e(this,bs);$e(this,kr);$e(this,Fu);this.config=e,be(this,bs,new Set),be(this,kr,new Map),be(this,Fu,0)}build(e,n,r){const s=new M3({mutationCache:this,mutationId:++cd(this,Fu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){P(this,bs).add(e);const n=Rd(e);if(typeof n=="string"){const r=P(this,kr).get(n);r?r.push(e):P(this,kr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(P(this,bs).delete(e)){const n=Rd(e);if(typeof n=="string"){const r=P(this,kr).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&P(this,kr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Rd(e);if(typeof n=="string"){const r=P(this,kr).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Rd(e);if(typeof n=="string"){const s=(r=P(this,kr).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){rn.batch(()=>{P(this,bs).forEach(e=>{this.notify({type:"removed",mutation:e})}),P(this,bs).clear(),P(this,kr).clear()})}getAll(){return Array.from(P(this,bs))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>$1(n,r))}findAll(e={}){return this.getAll().filter(n=>$1(e,n))}notify(e){rn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return rn.batch(()=>Promise.all(e.map(n=>n.continue().catch(xr))))}},bs=new WeakMap,kr=new WeakMap,Fu=new WeakMap,$E);function Rd(t){var e;return(e=t.options.scope)==null?void 0:e.id}function F1(t){return{onFetch:(e,n)=>{var u,d,f,p,g;const r=e.options,s=(f=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let m=!1;const y=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},v=SN(e.options,e.fetchOptions),x=async(w,k,S)=>{if(m)return Promise.reject();if(k==null&&w.pages.length)return Promise.resolve(w);const E=(()=>{const L={client:e.client,queryKey:e.queryKey,pageParam:k,direction:S?"backward":"forward",meta:e.options.meta};return y(L),L})(),C=await v(E),{maxPages:N}=e.options,R=S?S3:k3;return{pages:R(w.pages,C,N),pageParams:R(w.pageParams,k,N)}};if(s&&i.length){const w=s==="backward",k=w?L3:U1,S={pages:i,pageParams:o},_=k(r,S);a=await x(S,_,w)}else{const w=t??i.length;do{const k=l===0?o[0]??r.initialPageParam:U1(r,a);if(l>0&&k==null)break;a=await x(a,k),l++}while(l<w)}return a};e.options.persister?e.fetchFn=()=>{var m,y;return(y=(m=e.options).persister)==null?void 0:y.call(m,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function U1(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function L3(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var lt,ai,li,sl,il,ci,ol,al,zE,$3=(zE=class{constructor(t={}){$e(this,lt);$e(this,ai);$e(this,li);$e(this,sl);$e(this,il);$e(this,ci);$e(this,ol);$e(this,al);be(this,lt,t.queryCache||new P3),be(this,ai,t.mutationCache||new D3),be(this,li,t.defaultOptions||{}),be(this,sl,new Map),be(this,il,new Map),be(this,ci,0)}mount(){cd(this,ci)._++,P(this,ci)===1&&(be(this,ol,EN.subscribe(async t=>{t&&(await this.resumePausedMutations(),P(this,lt).onFocus())})),be(this,al,ch.subscribe(async t=>{t&&(await this.resumePausedMutations(),P(this,lt).onOnline())})))}unmount(){var t,e;cd(this,ci)._--,P(this,ci)===0&&((t=P(this,ol))==null||t.call(this),be(this,ol,void 0),(e=P(this,al))==null||e.call(this),be(this,al,void 0))}isFetching(t){return P(this,lt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return P(this,ai).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=P(this,lt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=P(this,lt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(nv(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return P(this,lt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=P(this,lt).get(r.queryHash),i=s==null?void 0:s.state.data,o=g3(e,i);if(o!==void 0)return P(this,lt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return rn.batch(()=>P(this,lt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=P(this,lt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=P(this,lt);rn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=P(this,lt);return rn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=rn.batch(()=>P(this,lt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(xr).catch(xr)}invalidateQueries(t,e={}){return rn.batch(()=>(P(this,lt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=rn.batch(()=>P(this,lt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(xr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(xr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=P(this,lt).build(this,e);return n.isStaleByTime(nv(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(xr).catch(xr)}fetchInfiniteQuery(t){return t.behavior=F1(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(xr).catch(xr)}ensureInfiniteQueryData(t){return t.behavior=F1(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ch.isOnline()?P(this,ai).resumePausedMutations():Promise.resolve()}getQueryCache(){return P(this,lt)}getMutationCache(){return P(this,ai)}getDefaultOptions(){return P(this,li)}setDefaultOptions(t){be(this,li,t)}setQueryDefaults(t,e){P(this,sl).set(vu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...P(this,sl).values()],n={};return e.forEach(r=>{xu(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){P(this,il).set(vu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...P(this,il).values()],n={};return e.forEach(r=>{xu(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...P(this,li).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ox(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Rx&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...P(this,li).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){P(this,lt).clear(),P(this,ai).clear()}},lt=new WeakMap,ai=new WeakMap,li=new WeakMap,sl=new WeakMap,il=new WeakMap,ci=new WeakMap,ol=new WeakMap,al=new WeakMap,zE),z3=b.createContext(void 0),B3=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),h.jsx(z3.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bu(){return bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bu.apply(this,arguments)}var fi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(fi||(fi={}));const V1="popstate";function F3(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=na(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),sv("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:uh(i))}function r(s,i){jx(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return V3(e,n,r,t)}function xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jx(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function U3(){return Math.random().toString(36).substr(2,8)}function H1(t,e){return{usr:t.state,key:t.key,idx:e}}function sv(t,e,n,r){return n===void 0&&(n=null),bu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?na(e):e,{state:n,key:e&&e.key||r||U3()})}function uh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function na(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function V3(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=fi.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(bu({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=fi.Pop;let y=u(),v=y==null?null:y-c;c=y,l&&l({action:a,location:m.location,delta:v})}function f(y,v){a=fi.Push;let x=sv(m.location,y,v);n&&n(x,y),c=u()+1;let w=H1(x,c),k=m.createHref(x);try{o.pushState(w,"",k)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(k)}i&&l&&l({action:a,location:m.location,delta:1})}function p(y,v){a=fi.Replace;let x=sv(m.location,y,v);n&&n(x,y),c=u();let w=H1(x,c),k=m.createHref(x);o.replaceState(w,"",k),i&&l&&l({action:a,location:m.location,delta:0})}function g(y){let v=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof y=="string"?y:uh(y);return x=x.replace(/ $/,"%20"),xt(v,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,v)}let m={get action(){return a},get location(){return t(s,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(V1,d),l=y,()=>{s.removeEventListener(V1,d),l=null}},createHref(y){return e(s,y)},createURL:g,encodeLocation(y){let v=g(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(y){return o.go(y)}};return m}var W1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(W1||(W1={}));function H3(t,e,n){return n===void 0&&(n="/"),W3(t,e,n,!1)}function W3(t,e,n,r){let s=typeof e=="string"?na(e):e,i=Px(s.pathname||"/",n);if(i==null)return null;let o=AN(t);q3(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=rz(i);a=tz(o[l],c,r)}return a}function AN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(xt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ti([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(xt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),AN(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:X3(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of ON(i.path))s(i,o,l)}),e}function ON(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=ON(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function q3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ez(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const K3=/^:[\w-]+$/,G3=3,J3=2,Y3=1,Q3=10,Z3=-2,q1=t=>t==="*";function X3(t,e){let n=t.split("/"),r=n.length;return n.some(q1)&&(r+=Z3),e&&(r+=J3),n.filter(s=>!q1(s)).reduce((s,i)=>s+(K3.test(i)?G3:i===""?Y3:Q3),r)}function ez(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function tz(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=K1({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=K1({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Ti([i,d.pathname]),pathnameBase:az(Ti([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=Ti([i,d.pathnameBase]))}return o}function K1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=nz(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let m=a[d]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const g=a[d];return p&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function nz(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),jx(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function rz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jx(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Px(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function sz(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?na(t):t;return{pathname:n?n.startsWith("/")?n:iz(n,e):e,search:lz(r),hash:cz(s)}}function iz(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function tg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function oz(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function RN(t,e){let n=oz(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function jN(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=na(t):(s=bu({},t),xt(!s.pathname||!s.pathname.includes("?"),tg("?","pathname","search",s)),xt(!s.pathname||!s.pathname.includes("#"),tg("#","pathname","hash",s)),xt(!s.search||!s.search.includes("#"),tg("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=sz(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ti=t=>t.join("/").replace(/\/\/+/g,"/"),az=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function uz(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const PN=["post","put","patch","delete"];new Set(PN);const dz=["get",...PN];new Set(dz);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wu(){return wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wu.apply(this,arguments)}const Mx=b.createContext(null),fz=b.createContext(null),ra=b.createContext(null),Wp=b.createContext(null),Wi=b.createContext({outlet:null,matches:[],isDataRoute:!1}),MN=b.createContext(null);function hz(t,e){let{relative:n}=e===void 0?{}:e;Zu()||xt(!1);let{basename:r,navigator:s}=b.useContext(ra),{hash:i,pathname:o,search:a}=DN(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ti([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Zu(){return b.useContext(Wp)!=null}function Xu(){return Zu()||xt(!1),b.useContext(Wp).location}function IN(t){b.useContext(ra).static||b.useLayoutEffect(t)}function Ix(){let{isDataRoute:t}=b.useContext(Wi);return t?Tz():pz()}function pz(){Zu()||xt(!1);let t=b.useContext(Mx),{basename:e,future:n,navigator:r}=b.useContext(ra),{matches:s}=b.useContext(Wi),{pathname:i}=Xu(),o=JSON.stringify(RN(s,n.v7_relativeSplatPath)),a=b.useRef(!1);return IN(()=>{a.current=!0}),b.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=jN(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ti([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,i,t])}function mz(){let{matches:t}=b.useContext(Wi),e=t[t.length-1];return e?e.params:{}}function DN(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=b.useContext(ra),{matches:s}=b.useContext(Wi),{pathname:i}=Xu(),o=JSON.stringify(RN(s,r.v7_relativeSplatPath));return b.useMemo(()=>jN(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function gz(t,e){return yz(t,e)}function yz(t,e,n,r){Zu()||xt(!1);let{navigator:s}=b.useContext(ra),{matches:i}=b.useContext(Wi),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Xu(),u;if(e){var d;let y=typeof e=="string"?na(e):e;l==="/"||(d=y.pathname)!=null&&d.startsWith(l)||xt(!1),u=y}else u=c;let f=u.pathname||"/",p=f;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=H3(t,{pathname:p}),m=kz(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Ti([l,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Ti([l,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return e&&m?b.createElement(Wp.Provider,{value:{location:wu({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:fi.Pop}},m):m}function vz(){let t=Cz(),e=uz(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:s},n):null,null)}const xz=b.createElement(vz,null);class bz extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(Wi.Provider,{value:this.props.routeContext},b.createElement(MN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wz(t){let{routeContext:e,match:n,children:r}=t,s=b.useContext(Mx);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Wi.Provider,{value:e},r)}function kz(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||xt(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:p}=n,g=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let p,g=!1,m=null,y=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||xz,l&&(c<0&&f===0?(g=!0,y=null):c===f&&(g=!0,y=d.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,f+1)),x=()=>{let w;return p?w=m:g?w=y:d.route.Component?w=b.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,b.createElement(wz,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?b.createElement(bz,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}var LN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(LN||{}),dh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(dh||{});function Sz(t){let e=b.useContext(Mx);return e||xt(!1),e}function Ez(t){let e=b.useContext(fz);return e||xt(!1),e}function _z(t){let e=b.useContext(Wi);return e||xt(!1),e}function $N(t){let e=_z(),n=e.matches[e.matches.length-1];return n.route.id||xt(!1),n.route.id}function Cz(){var t;let e=b.useContext(MN),n=Ez(dh.UseRouteError),r=$N(dh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Tz(){let{router:t}=Sz(LN.UseNavigateStable),e=$N(dh.UseNavigateStable),n=b.useRef(!1);return IN(()=>{n.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,wu({fromRouteId:e},i)))},[t,e])}function Nz(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function co(t){xt(!1)}function Az(t){let{basename:e="/",children:n=null,location:r,navigationType:s=fi.Pop,navigator:i,static:o=!1,future:a}=t;Zu()&&xt(!1);let l=e.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:l,navigator:i,static:o,future:wu({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=na(r));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:g="default"}=r,m=b.useMemo(()=>{let y=Px(u,l);return y==null?null:{location:{pathname:y,search:d,hash:f,state:p,key:g},navigationType:s}},[l,u,d,f,p,g,s]);return m==null?null:b.createElement(ra.Provider,{value:c},b.createElement(Wp.Provider,{children:n,value:m}))}function Oz(t){let{children:e,location:n}=t;return gz(iv(e),n)}new Promise(()=>{});function iv(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,s)=>{if(!b.isValidElement(r))return;let i=[...e,s];if(r.type===b.Fragment){n.push.apply(n,iv(r.props.children,i));return}r.type!==co&&xt(!1),!r.props.index||!r.props.children||xt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=iv(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ov(){return ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ov.apply(this,arguments)}function Rz(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function jz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Pz(t,e){return t.button===0&&(!e||e==="_self")&&!jz(t)}const Mz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Iz="6";try{window.__reactRouterVersion=Iz}catch{}const Dz="startTransition",G1=b0[Dz];function Lz(t){let{basename:e,children:n,future:r,window:s}=t,i=b.useRef();i.current==null&&(i.current=F3({window:s,v5Compat:!0}));let o=i.current,[a,l]=b.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=b.useCallback(d=>{c&&G1?G1(()=>l(d)):l(d)},[l,c]);return b.useLayoutEffect(()=>o.listen(u),[o,u]),b.useEffect(()=>Nz(r),[r]),b.createElement(Az,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const $z=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hi=b.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,f=Rz(e,Mz),{basename:p}=b.useContext(ra),g,m=!1;if(typeof c=="string"&&zz.test(c)&&(g=c,$z))try{let w=new URL(window.location.href),k=c.startsWith("//")?new URL(w.protocol+c):new URL(c),S=Px(k.pathname,p);k.origin===w.origin&&S!=null?c=S+k.search+k.hash:m=!0}catch{}let y=hz(c,{relative:s}),v=Bz(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,viewTransition:d});function x(w){r&&r(w),w.defaultPrevented||v(w)}return b.createElement("a",ov({},f,{href:g||y,onClick:m||i?r:x,ref:n,target:l}))});var J1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(J1||(J1={}));var Y1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Y1||(Y1={}));function Bz(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Ix(),c=Xu(),u=DN(t,{relative:o});return b.useCallback(d=>{if(Pz(d,n)){d.preventDefault();let f=r!==void 0?r:uh(c)===uh(u);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}function Fz({children:t,...e}){return h.jsx(QL,{...e,children:t})}const Uz=Ip("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Me=b.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?G2:"button";return h.jsx(o,{className:Te(Uz({variant:e,size:n,className:t})),ref:i,...s})});Me.displayName="Button";var ng="focusScope.autoFocusOnMount",rg="focusScope.autoFocusOnUnmount",Q1={bubbles:!1,cancelable:!0},Vz="FocusScope",Dx=b.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=b.useState(null),c=ar(s),u=ar(i),d=b.useRef(null),f=Ve(e,m=>l(m)),p=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let m=function(w){if(p.paused||!a)return;const k=w.target;a.contains(k)?d.current=k:Ws(d.current,{select:!0})},y=function(w){if(p.paused||!a)return;const k=w.relatedTarget;k!==null&&(a.contains(k)||Ws(d.current,{select:!0}))},v=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&Ws(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const x=new MutationObserver(v);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),x.disconnect()}}},[r,a,p.paused]),b.useEffect(()=>{if(a){X1.add(p);const m=document.activeElement;if(!a.contains(m)){const v=new CustomEvent(ng,Q1);a.addEventListener(ng,c),a.dispatchEvent(v),v.defaultPrevented||(Hz(Jz(zN(a)),{select:!0}),document.activeElement===m&&Ws(a))}return()=>{a.removeEventListener(ng,c),setTimeout(()=>{const v=new CustomEvent(rg,Q1);a.addEventListener(rg,u),a.dispatchEvent(v),v.defaultPrevented||Ws(m??document.body,{select:!0}),a.removeEventListener(rg,u),X1.remove(p)},0)}}},[a,c,u,p]);const g=b.useCallback(m=>{if(!n&&!r||p.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(y&&v){const x=m.currentTarget,[w,k]=Wz(x);w&&k?!m.shiftKey&&v===k?(m.preventDefault(),n&&Ws(w,{select:!0})):m.shiftKey&&v===w&&(m.preventDefault(),n&&Ws(k,{select:!0})):v===x&&m.preventDefault()}},[n,r,p.paused]);return h.jsx(we.div,{tabIndex:-1,...o,ref:f,onKeyDown:g})});Dx.displayName=Vz;function Hz(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ws(r,{select:e}),document.activeElement!==n)return}function Wz(t){const e=zN(t),n=Z1(e,t),r=Z1(e.reverse(),t);return[n,r]}function zN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Z1(t,e){for(const n of t)if(!qz(n,{upTo:e}))return n}function qz(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Kz(t){return t instanceof HTMLInputElement&&"select"in t}function Ws(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Kz(t)&&e&&t.select()}}var X1=Gz();function Gz(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=ek(t,e),t.unshift(e)},remove(e){var n;t=ek(t,e),(n=t[0])==null||n.resume()}}}function ek(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Jz(t){return t.filter(e=>e.tagName!=="A")}var sg=0;function BN(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??tk()),document.body.insertAdjacentElement("beforeend",t[1]??tk()),sg++,()=>{sg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),sg--}},[])}function tk(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var av=function(t,e){return av=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},av(t,e)};function FN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");av(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Zn=function(){return Zn=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Zn.apply(this,arguments)};function qi(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function UN(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function VN(t,e){return function(n,r){e(n,r,t)}}function HN(t,e,n,r,s,i){function o(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?r.static?t:t.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),d,f=!1,p=n.length-1;p>=0;p--){var g={};for(var m in r)g[m]=m==="access"?{}:r[m];for(var m in r.access)g.access[m]=r.access[m];g.addInitializer=function(v){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(v||null))};var y=(0,n[p])(a==="accessor"?{get:u.get,set:u.set}:u[l],g);if(a==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(d=o(y.get))&&(u.get=d),(d=o(y.set))&&(u.set=d),(d=o(y.init))&&s.unshift(d)}else(d=o(y))&&(a==="field"?s.unshift(d):u[l]=d)}c&&Object.defineProperty(c,r.name,u),f=!0}function WN(t,e,n){for(var r=arguments.length>2,s=0;s<e.length;s++)n=r?e[s].call(t,n):e[s].call(t);return r?n:void 0}function qN(t){return typeof t=="symbol"?t:"".concat(t)}function KN(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function GN(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ne(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function JN(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,s=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],s=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var qp=Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function YN(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&qp(e,t,n)}function fh(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lx(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function QN(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Lx(arguments[e]));return t}function ZN(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function $x(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function vl(t){return this instanceof vl?(this.v=t,this):new vl(t)}function XN(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(p){return function(g){return Promise.resolve(g).then(p,d)}}function a(p,g){r[p]&&(s[p]=function(m){return new Promise(function(y,v){i.push([p,m,y,v])>1||l(p,m)})},g&&(s[p]=g(s[p])))}function l(p,g){try{c(r[p](g))}catch(m){f(i[0][3],m)}}function c(p){p.value instanceof vl?Promise.resolve(p.value.v).then(u,d):f(i[0][2],p)}function u(p){l("next",p)}function d(p){l("throw",p)}function f(p,g){p(g),i.shift(),i.length&&l(i[0][0],i[0][1])}}function eA(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:vl(t[s](o)),done:!1}:i?i(o):o}:i}}function tA(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof fh=="function"?fh(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},o)}}function nA(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Yz=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},lv=function(t){return lv=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},lv(t)};function rA(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=lv(t),r=0;r<n.length;r++)n[r]!=="default"&&qp(e,t,n[r]);return Yz(e,t),e}function sA(t){return t&&t.__esModule?t:{default:t}}function iA(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function oA(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n}function aA(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function lA(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var Qz=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function cA(t){function e(i){t.error=t.hasError?new Qz(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;function s(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(s);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function uA(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,s,i,o){return r?e?".jsx":".js":s&&(!i||!o)?n:s+i+"."+o.toLowerCase()+"js"}):t}const Zz={__extends:FN,__assign:Zn,__rest:qi,__decorate:UN,__param:VN,__esDecorate:HN,__runInitializers:WN,__propKey:qN,__setFunctionName:KN,__metadata:GN,__awaiter:ne,__generator:JN,__createBinding:qp,__exportStar:YN,__values:fh,__read:Lx,__spread:QN,__spreadArrays:ZN,__spreadArray:$x,__await:vl,__asyncGenerator:XN,__asyncDelegator:eA,__asyncValues:tA,__makeTemplateObject:nA,__importStar:rA,__importDefault:sA,__classPrivateFieldGet:iA,__classPrivateFieldSet:oA,__classPrivateFieldIn:aA,__addDisposableResource:lA,__disposeResources:cA,__rewriteRelativeImportExtension:uA},Xz=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:lA,get __assign(){return Zn},__asyncDelegator:eA,__asyncGenerator:XN,__asyncValues:tA,__await:vl,__awaiter:ne,__classPrivateFieldGet:iA,__classPrivateFieldIn:aA,__classPrivateFieldSet:oA,__createBinding:qp,__decorate:UN,__disposeResources:cA,__esDecorate:HN,__exportStar:YN,__extends:FN,__generator:JN,__importDefault:sA,__importStar:rA,__makeTemplateObject:nA,__metadata:GN,__param:VN,__propKey:qN,__read:Lx,__rest:qi,__rewriteRelativeImportExtension:uA,__runInitializers:WN,__setFunctionName:KN,__spread:QN,__spreadArray:$x,__spreadArrays:ZN,__values:fh,default:Zz},Symbol.toStringTag,{value:"Module"}));var _f="right-scroll-bar-position",Cf="width-before-scroll-bar",eB="with-scroll-bars-hidden",tB="--removed-body-scroll-bar-size";function ig(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function nB(t,e){var n=b.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var rB=typeof window<"u"?b.useLayoutEffect:b.useEffect,nk=new WeakMap;function sB(t,e){var n=nB(null,function(r){return t.forEach(function(s){return ig(s,r)})});return rB(function(){var r=nk.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||ig(a,null)}),i.forEach(function(a){s.has(a)||ig(a,o)})}nk.set(n,t)},[t]),n}function iB(t){return t}function oB(t,e){e===void 0&&(e=iB);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var u=o;o=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return s}function aB(t){t===void 0&&(t={});var e=oB(null);return e.options=Zn({async:!0,ssr:!1},t),e}var dA=function(t){var e=t.sideCar,n=qi(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,Zn({},n))};dA.isSideCarExport=!0;function lB(t,e){return t.useMedium(e),dA}var fA=aB(),og=function(){},Kp=b.forwardRef(function(t,e){var n=b.useRef(null),r=b.useState({onScrollCapture:og,onWheelCapture:og,onTouchMoveCapture:og}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,f=t.sideCar,p=t.noRelative,g=t.noIsolation,m=t.inert,y=t.allowPinchZoom,v=t.as,x=v===void 0?"div":v,w=t.gapMode,k=qi(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=f,_=sB([n,e]),E=Zn(Zn({},k),s);return b.createElement(b.Fragment,null,u&&b.createElement(S,{sideCar:fA,removeScrollBar:c,shards:d,noRelative:p,noIsolation:g,inert:m,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:w}),o?b.cloneElement(b.Children.only(a),Zn(Zn({},E),{ref:_})):b.createElement(x,Zn({},E,{className:l,ref:_}),a))});Kp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Kp.classNames={fullWidth:Cf,zeroRight:_f};var cB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function uB(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=cB();return e&&t.setAttribute("nonce",e),t}function dB(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function fB(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var hB=function(){var t=0,e=null;return{add:function(n){t==0&&(e=uB())&&(dB(e,n),fB(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},pB=function(){var t=hB();return function(e,n){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},hA=function(){var t=pB(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},mB={left:0,top:0,right:0,gap:0},ag=function(t){return parseInt(t||"",10)||0},gB=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[ag(n),ag(r),ag(s)]},yB=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return mB;var e=gB(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},vB=hA(),Ja="data-scroll-locked",xB=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(eB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ja,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(_f,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Cf,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(_f," .").concat(_f,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Cf," .").concat(Cf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ja,`] {
    `).concat(tB,": ").concat(a,`px;
  }
`)},rk=function(){var t=parseInt(document.body.getAttribute(Ja)||"0",10);return isFinite(t)?t:0},bB=function(){b.useEffect(function(){return document.body.setAttribute(Ja,(rk()+1).toString()),function(){var t=rk()-1;t<=0?document.body.removeAttribute(Ja):document.body.setAttribute(Ja,t.toString())}},[])},wB=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;bB();var i=b.useMemo(function(){return yB(s)},[s]);return b.createElement(vB,{styles:xB(i,!e,s,n?"":"!important")})},cv=!1;if(typeof window<"u")try{var jd=Object.defineProperty({},"passive",{get:function(){return cv=!0,!0}});window.addEventListener("test",jd,jd),window.removeEventListener("test",jd,jd)}catch{cv=!1}var da=cv?{passive:!1}:!1,kB=function(t){return t.tagName==="TEXTAREA"},pA=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!kB(t)&&n[e]==="visible")},SB=function(t){return pA(t,"overflowY")},EB=function(t){return pA(t,"overflowX")},sk=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=mA(t,r);if(s){var i=gA(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},_B=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},CB=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},mA=function(t,e){return t==="v"?SB(e):EB(e)},gA=function(t,e){return t==="v"?_B(e):CB(e)},TB=function(t,e){return t==="h"&&e==="rtl"?-1:1},NB=function(t,e,n,r,s){var i=TB(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,u=o>0,d=0,f=0;do{if(!a)break;var p=gA(t,a),g=p[0],m=p[1],y=p[2],v=m-y-i*g;(g||v)&&mA(t,a)&&(d+=v,f+=g);var x=a.parentNode;a=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(d)<1||!s)||!u&&(Math.abs(f)<1||!s))&&(c=!0),c},Pd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},ik=function(t){return[t.deltaX,t.deltaY]},ok=function(t){return t&&"current"in t?t.current:t},AB=function(t,e){return t[0]===e[0]&&t[1]===e[1]},OB=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},RB=0,fa=[];function jB(t){var e=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),s=b.useState(RB++)[0],i=b.useState(hA)[0],o=b.useRef(t);b.useEffect(function(){o.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var m=$x([t.lockRef.current],(t.shards||[]).map(ok),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=b.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var v=Pd(m),x=n.current,w="deltaX"in m?m.deltaX:x[0]-v[0],k="deltaY"in m?m.deltaY:x[1]-v[1],S,_=m.target,E=Math.abs(w)>Math.abs(k)?"h":"v";if("touches"in m&&E==="h"&&_.type==="range")return!1;var C=sk(E,_);if(!C)return!0;if(C?S=E:(S=E==="v"?"h":"v",C=sk(E,_)),!C)return!1;if(!r.current&&"changedTouches"in m&&(w||k)&&(r.current=S),!S)return!0;var N=r.current||S;return NB(N,y,m,N==="h"?w:k,!0)},[]),l=b.useCallback(function(m){var y=m;if(!(!fa.length||fa[fa.length-1]!==i)){var v="deltaY"in y?ik(y):Pd(y),x=e.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&AB(S.delta,v)})[0];if(x&&x.should){y.cancelable&&y.preventDefault();return}if(!x){var w=(o.current.shards||[]).map(ok).filter(Boolean).filter(function(S){return S.contains(y.target)}),k=w.length>0?a(y,w[0]):!o.current.noIsolation;k&&y.cancelable&&y.preventDefault()}}},[]),c=b.useCallback(function(m,y,v,x){var w={name:m,delta:y,target:v,should:x,shadowParent:PB(v)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(k){return k!==w})},1)},[]),u=b.useCallback(function(m){n.current=Pd(m),r.current=void 0},[]),d=b.useCallback(function(m){c(m.type,ik(m),m.target,a(m,t.lockRef.current))},[]),f=b.useCallback(function(m){c(m.type,Pd(m),m.target,a(m,t.lockRef.current))},[]);b.useEffect(function(){return fa.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,da),document.addEventListener("touchmove",l,da),document.addEventListener("touchstart",u,da),function(){fa=fa.filter(function(m){return m!==i}),document.removeEventListener("wheel",l,da),document.removeEventListener("touchmove",l,da),document.removeEventListener("touchstart",u,da)}},[]);var p=t.removeScrollBar,g=t.inert;return b.createElement(b.Fragment,null,g?b.createElement(i,{styles:OB(s)}):null,p?b.createElement(wB,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function PB(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const MB=lB(fA,jB);var zx=b.forwardRef(function(t,e){return b.createElement(Kp,Zn({},t,{ref:e,sideCar:MB}))});zx.classNames=Kp.classNames;var IB=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ha=new WeakMap,Md=new WeakMap,Id={},lg=0,yA=function(t){return t&&(t.host||yA(t.parentNode))},DB=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=yA(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},LB=function(t,e,n,r){var s=DB(e,Array.isArray(t)?t:[t]);Id[n]||(Id[n]=new WeakMap);var i=Id[n],o=[],a=new Set,l=new Set(s),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};s.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else try{var p=f.getAttribute(r),g=p!==null&&p!=="false",m=(ha.get(f)||0)+1,y=(i.get(f)||0)+1;ha.set(f,m),i.set(f,y),o.push(f),m===1&&g&&Md.set(f,!0),y===1&&f.setAttribute(n,"true"),g||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return u(e),a.clear(),lg++,function(){o.forEach(function(d){var f=ha.get(d)-1,p=i.get(d)-1;ha.set(d,f),i.set(d,p),f||(Md.has(d)||d.removeAttribute(r),Md.delete(d)),p||d.removeAttribute(n)}),lg--,lg||(ha=new WeakMap,ha=new WeakMap,Md=new WeakMap,Id={})}},vA=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=IB(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),LB(r,s,n,"aria-hidden")):function(){return null}},Gp="Dialog",[xA,vJ]=Ms(Gp),[$B,Mr]=xA(Gp),bA=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=b.useRef(null),l=b.useRef(null),[c,u]=Fo({prop:r,defaultProp:s??!1,onChange:i,caller:Gp});return h.jsx($B,{scope:e,triggerRef:a,contentRef:l,contentId:Ci(),titleId:Ci(),descriptionId:Ci(),open:c,onOpenChange:u,onOpenToggle:b.useCallback(()=>u(d=>!d),[u]),modal:o,children:n})};bA.displayName=Gp;var wA="DialogTrigger",zB=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Mr(wA,n),i=Ve(e,s.triggerRef);return h.jsx(we.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Ux(s.open),...r,ref:i,onClick:ue(t.onClick,s.onOpenToggle)})});zB.displayName=wA;var Bx="DialogPortal",[BB,kA]=xA(Bx,{forceMount:void 0}),SA=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Mr(Bx,e);return h.jsx(BB,{scope:e,forceMount:n,children:b.Children.map(r,o=>h.jsx(ta,{present:n||i.open,children:h.jsx(jp,{asChild:!0,container:s,children:o})}))})};SA.displayName=Bx;var hh="DialogOverlay",EA=b.forwardRef((t,e)=>{const n=kA(hh,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Mr(hh,t.__scopeDialog);return i.modal?h.jsx(ta,{present:r||i.open,children:h.jsx(UB,{...s,ref:e})}):null});EA.displayName=hh;var FB=ml("DialogOverlay.RemoveScroll"),UB=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Mr(hh,n);return h.jsx(zx,{as:FB,allowPinchZoom:!0,shards:[s.contentRef],children:h.jsx(we.div,{"data-state":Ux(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Vo="DialogContent",_A=b.forwardRef((t,e)=>{const n=kA(Vo,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Mr(Vo,t.__scopeDialog);return h.jsx(ta,{present:r||i.open,children:i.modal?h.jsx(VB,{...s,ref:e}):h.jsx(HB,{...s,ref:e})})});_A.displayName=Vo;var VB=b.forwardRef((t,e)=>{const n=Mr(Vo,t.__scopeDialog),r=b.useRef(null),s=Ve(e,n.contentRef,r);return b.useEffect(()=>{const i=r.current;if(i)return vA(i)},[]),h.jsx(CA,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ue(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ue(t.onFocusOutside,i=>i.preventDefault())})}),HB=b.forwardRef((t,e)=>{const n=Mr(Vo,t.__scopeDialog),r=b.useRef(!1),s=b.useRef(!1);return h.jsx(CA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),CA=b.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Mr(Vo,n),l=b.useRef(null),c=Ve(e,l);return BN(),h.jsxs(h.Fragment,{children:[h.jsx(Dx,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:h.jsx(Ku,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Ux(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(WB,{titleId:a.titleId}),h.jsx(KB,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Fx="DialogTitle",TA=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Mr(Fx,n);return h.jsx(we.h2,{id:s.titleId,...r,ref:e})});TA.displayName=Fx;var NA="DialogDescription",AA=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Mr(NA,n);return h.jsx(we.p,{id:s.descriptionId,...r,ref:e})});AA.displayName=NA;var OA="DialogClose",RA=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Mr(OA,n);return h.jsx(we.button,{type:"button",...r,ref:e,onClick:ue(t.onClick,()=>s.onOpenChange(!1))})});RA.displayName=OA;function Ux(t){return t?"open":"closed"}var jA="DialogTitleWarning",[xJ,PA]=q2(jA,{contentName:Vo,titleName:Fx,docsSlug:"dialog"}),WB=({titleId:t})=>{const e=PA(jA),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},qB="DialogDescriptionWarning",KB=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${PA(qB).contentName}}.`;return b.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},GB=bA,JB=SA,MA=EA,IA=_A,DA=TA,LA=AA,YB=RA;const ph=GB,QB=JB,$A=b.forwardRef(({className:t,...e},n)=>h.jsx(MA,{ref:n,className:Te("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));$A.displayName=MA.displayName;const ku=b.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(QB,{children:[h.jsx($A,{}),h.jsxs(IA,{ref:r,className:Te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,h.jsxs(YB,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[h.jsx(Yu,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ku.displayName=IA.displayName;const mh=({className:t,...e})=>h.jsx("div",{className:Te("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});mh.displayName="DialogHeader";const uv=({className:t,...e})=>h.jsx("div",{className:Te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});uv.displayName="DialogFooter";const gh=b.forwardRef(({className:t,...e},n)=>h.jsx(DA,{ref:n,className:Te("text-lg font-semibold leading-none tracking-tight",t),...e}));gh.displayName=DA.displayName;const ZB=b.forwardRef(({className:t,...e},n)=>h.jsx(LA,{ref:n,className:Te("text-sm text-muted-foreground",t),...e}));ZB.displayName=LA.displayName;const Dd=({title:t,children:e,viewAllContent:n,itemsPerView:r=2})=>{const[s,i]=b.useState(0),[o,a]=b.useState(!1),l=b.useRef(null),c=e.length,u=Math.max(0,c-r),d=()=>{i(m=>Math.max(0,m-1))},f=()=>{i(m=>Math.min(u,m+1))},p=s>0,g=s<u;return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"relative",children:[h.jsxs("div",{className:"flex items-center justify-between mb-8",children:[h.jsx("h2",{className:"text-4xl font-bold text-primary animate-fade-in-up glow-text",children:t}),c>r&&h.jsxs(Me,{variant:"outline",onClick:()=>a(!0),className:"border-primary/50 text-primary hover:bg-primary/10",children:["View All (",c,")"]})]}),h.jsxs("div",{className:"relative px-12",children:[h.jsxs(Me,{variant:"outline",size:"icon",onClick:d,disabled:!p,className:`absolute left-0 top-1/2 -translate-y-1/2 z-10 h-10 w-10 rounded-full border-primary/50 bg-background/80 backdrop-blur-sm transition-all ${p?"hover:bg-primary/20 hover:border-primary":"opacity-50 cursor-not-allowed"}`,children:[h.jsx(VD,{className:"h-5 w-5 text-primary"}),h.jsx("span",{className:"sr-only",children:"Previous"})]}),h.jsx("div",{ref:l,className:"overflow-hidden",children:h.jsx("div",{className:"flex transition-transform duration-300 ease-out gap-8",style:{transform:`translateX(-${s*(100/r+2)}%)`},children:e.map((m,y)=>h.jsx("div",{className:"flex-shrink-0",style:{width:`calc(${100/r}% - ${(r-1)*32/r}px)`},children:m},y))})}),h.jsxs(Me,{variant:"outline",size:"icon",onClick:f,disabled:!g,className:`absolute right-0 top-1/2 -translate-y-1/2 z-10 h-10 w-10 rounded-full border-primary/50 bg-background/80 backdrop-blur-sm transition-all ${g?"hover:bg-primary/20 hover:border-primary":"opacity-50 cursor-not-allowed"}`,children:[h.jsx(HD,{className:"h-5 w-5 text-primary"}),h.jsx("span",{className:"sr-only",children:"Next"})]})]}),c>r&&h.jsx("div",{className:"flex justify-center gap-2 mt-6",children:Array.from({length:u+1}).map((m,y)=>h.jsx("button",{onClick:()=>i(y),className:`w-2 h-2 rounded-full transition-all ${y===s?"bg-primary w-6":"bg-primary/30 hover:bg-primary/50"}`},y))})]}),h.jsx(ph,{open:o,onOpenChange:a,children:h.jsxs(ku,{className:"max-w-6xl max-h-[90vh] overflow-y-auto bg-background border-primary/30",children:[h.jsx(mh,{children:h.jsx(gh,{className:"text-2xl text-primary",children:t})}),h.jsx("div",{className:"grid md:grid-cols-2 gap-6 mt-4",children:n||e})]})})]})},XB=({isOpen:t,onClose:e,imageUrl:n,title:r})=>h.jsx(ph,{open:t,onOpenChange:e,children:h.jsx(ku,{className:"max-w-4xl w-full p-0 bg-card border-primary/50 overflow-hidden",children:h.jsxs("div",{className:"relative",children:[h.jsx(Me,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 z-10 bg-background/80 hover:bg-background",onClick:e,children:h.jsx(Yu,{className:"h-4 w-4"})}),h.jsx("img",{src:n,alt:r,className:"w-full h-auto max-h-[80vh] object-contain"}),h.jsx("div",{className:"p-4 bg-card border-t border-border",children:h.jsx("h3",{className:"text-lg font-semibold text-primary",children:r})})]})})}),Lt=b.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:Te("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Lt.displayName="Card";const eF=b.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:Te("flex flex-col space-y-1.5 p-6",t),...e}));eF.displayName="CardHeader";const tF=b.forwardRef(({className:t,...e},n)=>h.jsx("h3",{ref:n,className:Te("text-2xl font-semibold leading-none tracking-tight",t),...e}));tF.displayName="CardTitle";const nF=b.forwardRef(({className:t,...e},n)=>h.jsx("p",{ref:n,className:Te("text-sm text-muted-foreground",t),...e}));nF.displayName="CardDescription";const rF=b.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:Te("p-6 pt-0",t),...e}));rF.displayName="CardContent";const sF=b.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:Te("flex items-center p-6 pt-0",t),...e}));sF.displayName="CardFooter";const iF=Ip("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function xl({className:t,variant:e,...n}){return h.jsx("div",{className:Te(iF({variant:e}),t),...n})}const oF="modulepreload",aF=function(t){return"/portfolio/"+t},ak={},zl=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=aF(l),l in ak)return;ak[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":oF,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((f,p)=>{d.addEventListener("load",f),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},lF=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>zl(async()=>{const{default:r}=await Promise.resolve().then(()=>sa);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Vx extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class lk extends Vx{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ck extends Vx{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class uk extends Vx{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var dv;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(dv||(dv={}));class cF{constructor(e,{headers:n={},customFetch:r,region:s=dv.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=lF(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ne(this,arguments,void 0,function*(n,r={}){var s;try{const{headers:i,method:o,body:a,signal:l}=r;let c={},{region:u}=r;u||(u=this.region);const d=new URL(`${this.url}/${n}`);u&&u!=="any"&&(c["x-region"]=u,d.searchParams.set("forceFunctionRegion",u));let f;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",f=a):typeof a=="string"?(c["Content-Type"]="text/plain",f=a):typeof FormData<"u"&&a instanceof FormData?f=a:(c["Content-Type"]="application/json",f=JSON.stringify(a)):f=a;const p=yield this.fetch(d.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:f,signal:l}).catch(v=>{throw v.name==="AbortError"?v:new lk(v)}),g=p.headers.get("x-relay-error");if(g&&g==="true")throw new ck(p);if(!p.ok)throw new uk(p);let m=((s=p.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),y;return m==="application/json"?y=yield p.json():m==="application/octet-stream"||m==="application/pdf"?y=yield p.blob():m==="text/event-stream"?y=p:m==="multipart/form-data"?y=yield p.formData():y=yield p.text(),{data:y,error:null,response:p}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new lk(i)}:{data:null,error:i,response:i instanceof uk||i instanceof ck?i.context:void 0}}})}}var xn={};const Bl=FE(Xz);var Ld={},$d={},zd={},Bd={},Fd={},uF=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},bl=uF();const dF=bl.fetch,zA=bl.fetch.bind(bl),BA=bl.Headers,fF=bl.Request,hF=bl.Response,sa=Object.freeze(Object.defineProperty({__proto__:null,Headers:BA,Request:fF,Response:hF,default:zA,fetch:dF},Symbol.toStringTag,{value:"Module"})),pF=FE(sa);var Ud={},dk;function FA(){if(dk)return Ud;dk=1,Object.defineProperty(Ud,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Ud.default=t,Ud}var fk;function UA(){if(fk)return Fd;fk=1,Object.defineProperty(Fd,"__esModule",{value:!0});const t=Bl,e=t.__importDefault(pF),n=t.__importDefault(FA());class r{constructor(i){var o,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,f,p;let g=null,m=null,y=null,v=c.status,x=c.statusText;if(c.ok){if(this.method!=="HEAD"){const _=await c.text();_===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?m=_:m=JSON.parse(_))}const k=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),S=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");k&&S&&S.length>1&&(y=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(g={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,y=null,v=406,x="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const k=await c.text();try{g=JSON.parse(k),Array.isArray(g)&&c.status===404&&(m=[],g=null,v=200,x="OK")}catch{c.status===404&&k===""?(v=204,x="No Content"):g={message:k}}if(g&&this.isMaybeSingle&&(!((p=g==null?void 0:g.details)===null||p===void 0)&&p.includes("0 rows"))&&(g=null,v=200,x="OK"),g&&this.shouldThrowOnError)throw new n.default(g)}return{error:g,data:m,count:y,status:v,statusText:x}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,f;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(d=c==null?void 0:c.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=c==null?void 0:c.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return Fd.default=r,Fd}var hk;function VA(){if(hk)return Bd;hk=1,Object.defineProperty(Bd,"__esModule",{value:!0});const e=Bl.__importDefault(UA());class n extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(c,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const d=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${f}"; options=${d};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Bd.default=n,Bd}var pk;function Hx(){if(pk)return zd;pk=1,Object.defineProperty(zd,"__esModule",{value:!0});const e=Bl.__importDefault(VA());class n extends e.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${l}fts${c}.${i}`),this}match(s){return Object.entries(s).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(s,i,o){return this.url.searchParams.append(s,`not.${i}.${o}`),this}or(s,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${s})`),this}filter(s,i,o){return this.url.searchParams.append(s,`${i}.${o}`),this}}return zd.default=n,zd}var mk;function HA(){if(mk)return $d;mk=1,Object.defineProperty($d,"__esModule",{value:!0});const e=Bl.__importDefault(Hx());class n{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let c=!1;const u=(s??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",u),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const c=s.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const d=s.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(d.length>0){const f=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return $d.default=n,$d}var gk;function mF(){if(gk)return Ld;gk=1,Object.defineProperty(Ld,"__esModule",{value:!0});const t=Bl,e=t.__importDefault(HA()),n=t.__importDefault(Hx());class r{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new r(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:c}={}){var u;let d;const f=new URL(`${this.url}/rpc/${i}`);let p;a||l?(d=a?"HEAD":"GET",Object.entries(o).filter(([m,y])=>y!==void 0).map(([m,y])=>[m,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([m,y])=>{f.searchParams.append(m,y)})):(d="POST",p=o);const g=new Headers(this.headers);return c&&g.set("Prefer",`count=${c}`),new n.default({method:d,url:f,headers:g,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return Ld.default=r,Ld}Object.defineProperty(xn,"__esModule",{value:!0});xn.PostgrestError=xn.PostgrestBuilder=xn.PostgrestTransformBuilder=xn.PostgrestFilterBuilder=xn.PostgrestQueryBuilder=xn.PostgrestClient=void 0;const Fl=Bl,WA=Fl.__importDefault(mF());xn.PostgrestClient=WA.default;const qA=Fl.__importDefault(HA());xn.PostgrestQueryBuilder=qA.default;const KA=Fl.__importDefault(Hx());xn.PostgrestFilterBuilder=KA.default;const GA=Fl.__importDefault(VA());xn.PostgrestTransformBuilder=GA.default;const JA=Fl.__importDefault(UA());xn.PostgrestBuilder=JA.default;const YA=Fl.__importDefault(FA());xn.PostgrestError=YA.default;var gF=xn.default={PostgrestClient:WA.default,PostgrestQueryBuilder:qA.default,PostgrestFilterBuilder:KA.default,PostgrestTransformBuilder:GA.default,PostgrestBuilder:JA.default,PostgrestError:YA.default};const{PostgrestClient:yF,PostgrestQueryBuilder:bJ,PostgrestFilterBuilder:wJ,PostgrestTransformBuilder:kJ,PostgrestBuilder:SJ,PostgrestError:EJ}=gF;class vF{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const xF="2.76.1",bF=`realtime-js/${xF}`,wF="1.0.0",fv=1e4,kF=1e3,SF=100;var zc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(zc||(zc={}));var kt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(kt||(kt={}));var Er;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Er||(Er={}));var hv;(function(t){t.websocket="websocket"})(hv||(hv={}));var fo;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(fo||(fo={}));class EF{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class QA{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var We;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(We||(We={}));const yk=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=_F(o,t,e,s),i),{}):{}},_F=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?ZA(i,o):pv(o)},ZA=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return AF(e,n)}switch(t){case We.bool:return CF(e);case We.float4:case We.float8:case We.int2:case We.int4:case We.int8:case We.numeric:case We.oid:return TF(e);case We.json:case We.jsonb:return NF(e);case We.timestamp:return OF(e);case We.abstime:case We.date:case We.daterange:case We.int4range:case We.int8range:case We.money:case We.reltime:case We.text:case We.time:case We.timestamptz:case We.timetz:case We.tsrange:case We.tstzrange:return pv(e);default:return pv(e)}},pv=t=>t,CF=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},TF=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},NF=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},AF=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>ZA(e,a))}return t},OF=t=>typeof t=="string"?t.replace(" ","T"):t,XA=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class cg{constructor(e,n,r={},s=fv){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var vk;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(vk||(vk={}));class Bc{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bc.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Bc.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Bc.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=i[c];if(d){const f=u.map(y=>y.presence_ref),p=d.map(y=>y.presence_ref),g=u.filter(y=>p.indexOf(y.presence_ref)<0),m=d.filter(y=>f.indexOf(y.presence_ref)<0);g.length>0&&(a[c]=g),m.length>0&&(l[c]=m)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(p=>p.presence_ref),f=u.filter(p=>d.indexOf(p.presence_ref)<0);e[a].unshift(...f)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xk;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(xk||(xk={}));var Fc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Fc||(Fc={}));var gs;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(gs||(gs={}));class Wx{constructor(e,n={config:{}},r){var s,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=kt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new cg(this,Er.join,this.params,this.timeout),this.rejoinTimer=new QA(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=kt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=kt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Er.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Bc(this),this.broadcastEndpointURL=XA(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==kt.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[Fc.PRESENCE]&&this.bindings[Fc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(gs.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(gs.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket.setAuth(),p===void 0){e==null||e(gs.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,y=(g=m==null?void 0:m.length)!==null&&g!==void 0?g:0,v=[];for(let x=0;x<y;x++){const w=m[x],{filter:{event:k,schema:S,table:_,filter:E}}=w,C=p&&p[x];if(C&&C.event===k&&C.schema===S&&C.table===_&&C.filter===E)v.push(Object.assign(Object.assign({},w),{id:C.id}));else{this.unsubscribe(),this.state=kt.errored,e==null||e(gs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(gs.SUBSCRIBED);return}}).receive("error",p=>{this.state=kt.errored,e==null||e(gs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(gs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===kt.joined&&e===Fc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=kt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Er.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new cg(this,Er.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=kt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new cg(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>SF){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Er;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var g,m,y;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(m=p.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var g,m,y,v,x,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const k=p.id,S=(g=p.filter)===null||g===void 0?void 0:g.event;return k&&((m=n.ids)===null||m===void 0?void 0:m.includes(k))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const k=(x=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return k==="*"||k===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:m,table:y,commit_timestamp:v,type:x,errors:w}=g;f=Object.assign(Object.assign({},{schema:m,table:y,commit_timestamp:v,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(g))}p.callback(f,r)})}_isClosed(){return this.state===kt.closed}_isJoined(){return this.state===kt.joined}_isJoining(){return this.state===kt.joining}_isLeaving(){return this.state===kt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Wx.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Er.close,{},e)}_onError(e){this._on(Er.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=kt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=yk(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=yk(e.columns,e.old_record)),n}}const ug=()=>{},Vd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},RF=[1e3,2e3,5e3,1e4],jF=1e4,PF=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class MF{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=fv,this.transport=null,this.heartbeatIntervalMs=Vd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ug,this.ref=0,this.reconnectTimer=null,this.logger=ug,this.conn=null,this.sendBuffer=[],this.serializer=new EF,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>zl(async()=>{const{default:a}=await Promise.resolve().then(()=>sa);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${hv.websocket}`,this.httpEndpoint=XA(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=vF.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:wF}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case zc.connecting:return fo.Connecting;case zc.open:return fo.Open;case zc.closing:return fo.Closing;default:return fo.Closed}}isConnected(){return this.connectionState()===fo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Wx(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(kF,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Vd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Er.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([PF],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:bF};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Er.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new QA(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,a,l,c,u;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:fv,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Vd.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:ug,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:d=>RF[d-1]||jF,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(d,f)=>f(JSON.stringify(d)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class qx extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function tt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class IF extends qx{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class mv extends qx{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const Kx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>zl(async()=>{const{default:r}=await Promise.resolve().then(()=>sa);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},DF=()=>ne(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield zl(()=>Promise.resolve().then(()=>sa),void 0)).Response:Response}),gv=t=>{if(Array.isArray(t))return t.map(n=>gv(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=gv(r)}),e},LF=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},dg=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),$F=(t,e,n)=>ne(void 0,void 0,void 0,function*(){const r=yield DF();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new IF(dg(s),i,o))}).catch(s=>{e(new mv(dg(s),s))}):e(new mv(dg(t),t))}),zF=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(LF(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function ed(t,e,n,r,s,i){return ne(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,zF(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>$F(l,a,r))})})}function Su(t,e,n,r){return ne(this,void 0,void 0,function*(){return ed(t,"GET",e,n,r)})}function br(t,e,n,r,s){return ne(this,void 0,void 0,function*(){return ed(t,"POST",e,r,s,n)})}function yv(t,e,n,r,s){return ne(this,void 0,void 0,function*(){return ed(t,"PUT",e,r,s,n)})}function BF(t,e,n,r){return ne(this,void 0,void 0,function*(){return ed(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Gx(t,e,n,r,s){return ne(this,void 0,void 0,function*(){return ed(t,"DELETE",e,r,s,n)})}class FF{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return ne(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(tt(e))return{data:null,error:e};throw e}})}}var eO;class UF{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[eO]="BlobDownloadBuilder",this.promise=null}asStream(){return new FF(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ne(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(tt(e))return{data:null,error:e};throw e}})}}eO=Symbol.toStringTag;const VF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bk={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class HF{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Kx(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return ne(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},bk),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield(e=="PUT"?yv:br)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tt(i))return{data:null,error:i};throw i}})}upload(e,n,r){return ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return ne(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:bk.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield yv(this.fetch,a.toString(),l,{headers:u});return{data:{path:i,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(tt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return ne(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield br(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new qx("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}update(e,n,r){return ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ne(this,void 0,void 0,function*(){try{return{data:yield br(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}copy(e,n,r){return ne(this,void 0,void 0,function*(){try{return{data:{path:(yield br(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return ne(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield br(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return ne(this,void 0,void 0,function*(){try{const s=yield br(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}download(e,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>Su(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new UF(l,this.shouldThrowOnError)}info(e){return ne(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Su(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:gv(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}exists(e){return ne(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield BF(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r)&&r instanceof mv){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return ne(this,void 0,void 0,function*(){try{return{data:yield Gx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}list(e,n,r){return ne(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},VF),n),{prefix:e||""});return{data:yield br(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}listV2(e,n){return ne(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield br(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const tO="2.76.1",nO={"X-Client-Info":`storage-js/${tO}`};class WF{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},nO),n),this.fetch=Kx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ne(this,void 0,void 0,function*(){try{return{data:yield Su(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(tt(e))return{data:null,error:e};throw e}})}getBucket(e){return ne(this,void 0,void 0,function*(){try{return{data:yield Su(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}createBucket(e){return ne(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield br(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return ne(this,void 0,void 0,function*(){try{return{data:yield yv(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ne(this,void 0,void 0,function*(){try{return{data:yield br(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ne(this,void 0,void 0,function*(){try{return{data:yield Gx(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}}class qF{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},nO),n),this.fetch=Kx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ne(this,void 0,void 0,function*(){try{return{data:yield br(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}listBuckets(e){return ne(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`,i=yield Su(this.fetch,s,{headers:this.headers});return{data:Array.isArray(i)?i.filter(a=>a.type==="ANALYTICS"):[],error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ne(this,void 0,void 0,function*(){try{return{data:yield Gx(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}}const Jx={"X-Client-Info":`storage-js/${tO}`,"Content-Type":"application/json"};class rO extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function jn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class fg extends rO{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class KF extends rO{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var wk;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(wk||(wk={}));const Yx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>zl(async()=>{const{default:r}=await Promise.resolve().then(()=>sa);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},GF=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},kk=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),JF=(t,e,n)=>ne(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new fg(kk(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new fg(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new fg(a,s,o))}}else e(new KF(kk(t),t))}),YF=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(GF(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n)):s};function QF(t,e,n,r,s,i){return ne(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,YF(e,r,s,i)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>JF(l,a,r))})})}function Pn(t,e,n,r,s){return ne(this,void 0,void 0,function*(){return QF(t,"POST",e,r,s,n)})}class ZF{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jx),n),this.fetch=Yx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ne(this,void 0,void 0,function*(){try{return{data:(yield Pn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}getIndex(e,n){return ne(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jn(r))return{data:null,error:r};throw r}})}listIndexes(e){return ne(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return ne(this,void 0,void 0,function*(){try{return{data:(yield Pn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jn(r))return{data:null,error:r};throw r}})}}class XF{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jx),n),this.fetch=Yx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ne(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Pn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}getVectors(e){return ne(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}listVectors(e){return ne(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Pn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}queryVectors(e){return ne(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}deleteVectors(e){return ne(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Pn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}}class e5{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jx),n),this.fetch=Yx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ne(this,void 0,void 0,function*(){try{return{data:(yield Pn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}getBucket(e){return ne(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}listBuckets(){return ne(this,arguments,void 0,function*(e={}){try{return{data:yield Pn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ne(this,void 0,void 0,function*(){try{return{data:(yield Pn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}}class t5 extends e5{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new n5(this.url,this.headers,e,this.fetch)}}class n5 extends ZF{constructor(e,n,r,s){super(e,n,s),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ne(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ne(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ne(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ne(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new r5(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class r5 extends XF{constructor(e,n,r,s,i){super(e,n,i),this.vectorBucketName=r,this.indexName=s}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ne(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ne(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ne(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ne(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ne(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class s5 extends WF{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new HF(this.url,this.headers,e,this.fetch)}get vectors(){return new t5(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new qF(this.url+"/iceberg",this.headers,this.fetch)}}const i5="2.76.1";let wc="";typeof Deno<"u"?wc="deno":typeof document<"u"?wc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?wc="react-native":wc="node";const o5={"X-Client-Info":`supabase-js-${wc}/${i5}`},a5={headers:o5},l5={schema:"public"},c5={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},u5={},d5=t=>{let e;return t?e=t:typeof fetch>"u"?e=zA:e=fetch,(...n)=>e(...n)},f5=()=>typeof Headers>"u"?BA:Headers,h5=(t,e,n)=>{const r=d5(n),s=f5();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))}};function p5(t){return t.endsWith("/")?t:t+"/"}function m5(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:d}=e,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function g5(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(p5(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const sO="2.76.1",wa=30*1e3,vv=3,hg=vv*wa,y5="http://localhost:9999",v5="supabase.auth.token",x5={"X-Client-Info":`gotrue-js/${sO}`},xv="X-Supabase-Api-Version",iO={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},b5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,w5=10*60*1e3;class Eu extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function le(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class k5 extends Eu{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function S5(t){return le(t)&&t.name==="AuthApiError"}class ho extends Eu{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ki extends Eu{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class qs extends Ki{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function E5(t){return le(t)&&t.name==="AuthSessionMissingError"}class pa extends Ki{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hd extends Ki{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Wd extends Ki{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _5(t){return le(t)&&t.name==="AuthImplicitGrantRedirectError"}class Sk extends Ki{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bv extends Ki{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function pg(t){return le(t)&&t.name==="AuthRetryableFetchError"}class Ek extends Ki{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class wv extends Ki{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const yh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_k=` 	
\r=`.split(""),C5=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<_k.length;e+=1)t[_k[e].charCodeAt(0)]=-2;for(let e=0;e<yh.length;e+=1)t[yh[e].charCodeAt(0)]=e;return t})();function Ck(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(yh[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(yh[r]),e.queuedBits-=6}}function oO(t,e,n){const r=C5[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Tk(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{A5(o,r,n)};for(let o=0;o<t.length;o+=1)oO(t.charCodeAt(o),s,i);return e.join("")}function T5(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function N5(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}T5(r,e)}}function A5(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Ya(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)oO(t.charCodeAt(s),n,r);return new Uint8Array(e)}function O5(t){const e=[];return N5(t,n=>e.push(n)),new Uint8Array(e)}function vo(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Ck(s,n,r)),Ck(null,n,r),e.join("")}function R5(t){return Math.round(Date.now()/1e3)+t}function j5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const An=()=>typeof window<"u"&&typeof document<"u",so={tested:!1,writable:!1},aO=()=>{if(!An())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(so.tested)return so.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),so.tested=!0,so.writable=!0}catch{so.tested=!0,so.writable=!1}return so.writable};function P5(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const lO=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>zl(async()=>{const{default:r}=await Promise.resolve().then(()=>sa);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},M5=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ka=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},io=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Fs=async(t,e)=>{await t.removeItem(e)};class Jp{constructor(){this.promise=new Jp.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Jp.promiseConstructor=Promise;function mg(t){const e=t.split(".");if(e.length!==3)throw new wv("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!b5.test(e[r]))throw new wv("JWT not in base64url format");return{header:JSON.parse(Tk(e[0])),payload:JSON.parse(Tk(e[1])),signature:Ya(e[2]),raw:{header:e[0],payload:e[1]}}}async function I5(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function D5(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function L5(t){return("0"+t.toString(16)).substr(-2)}function $5(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,L5).join("")}async function z5(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function B5(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await z5(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ma(t,e,n=!1){const r=$5();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await ka(t,`${e}-code-verifier`,s);const i=await B5(r);return[i,r===i?"plain":"s256"]}const F5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function U5(t){const e=t.headers.get(xv);if(!e||!e.match(F5))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function V5(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function H5(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const W5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ga(t){if(!W5.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gg(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Nk(t){return JSON.parse(JSON.stringify(t))}const uo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),q5=[502,503,504];async function Ak(t){var e;if(!M5(t))throw new bv(uo(t),0);if(q5.includes(t.status))throw new bv(uo(t),t.status);let n;try{n=await t.json()}catch(i){throw new ho(uo(i),i)}let r;const s=U5(t);if(s&&s.getTime()>=iO["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Ek(uo(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new qs}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Ek(uo(n),t.status,n.weak_password.reasons);throw new k5(uo(n),t.status||500,r)}const K5=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ye(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[xv]||(i[xv]=iO["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await G5(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function G5(t,e,n,r,s,i){const o=K5(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new bv(uo(l),0)}if(a.ok||await Ak(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Ak(l)}}function mr(t){var e;let n=null;Q5(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=R5(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Ok(t){const e=mr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ni(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function J5(t){return{data:t,error:null}}function Y5(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=qi(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Rk(t){return t}function Q5(t){return t.access_token&&t.refresh_token&&t.expires_in}const yg=["global","local","others"];class Z5{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=lO(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=yg[0]){if(yg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${yg.join(", ")}`);try{return await ye(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ni})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=qi(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Y5,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(le(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ye(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ni})}catch(n){if(le(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Rk});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);c[`${y}Page`]=m}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(le(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){ga(e);try{return await ye(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ni})}catch(n){if(le(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ga(e);try{return await ye(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ni})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){ga(e);try{return await ye(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ni})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ga(e.userId);try{const{data:n,error:r}=await ye(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(le(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ga(e.userId),ga(e.id);try{return{data:await ye(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Rk});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);c[`${y}Page`]=m}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(le(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(le(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(le(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await ye(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(le(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(le(n))return{data:null,error:n};throw n}}}function jk(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const ya={debug:!!(globalThis&&aO()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cO extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class X5 extends cO{}async function eU(t,e,n){ya.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ya.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){ya.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{ya.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw ya.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new X5(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ya.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function tU(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function uO(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function nU(t){return parseInt(t,16)}function rU(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function sU(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:d,version:f}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=uO(t.address),g=u?`${u}://${r}`:r,m=t.statement?`${t.statement}
`:"",y=`${g} wants you to sign in with your Ethereum account:
${p}

${m}`;let v=`URI: ${d}
Version: ${f}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(v+=`
Expiration Time: ${s.toISOString()}`),a&&(v+=`
Not Before: ${a.toISOString()}`),l&&(v+=`
Request ID: ${l}`),c){let x=`
Resources:`;for(const w of c){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);x+=`
- ${w}`}v+=x}return`${y}
${v}`}class gt extends Error{constructor({message:e,code:n,cause:r,name:s}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class vh extends gt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function iU({error:t,options:e}){var n,r,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new gt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new gt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new gt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new gt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new gt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new gt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new gt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new gt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(dO(o)){if(i.rp.id!==o)return new gt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new gt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new gt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new gt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new gt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function oU({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new gt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new gt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(dO(r)){if(n.rpId!==r)return new gt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new gt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new gt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new gt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class aU{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const lU=new aU;function cU(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,s=qi(t,["challenge","user","excludeCredentials"]),i=Ya(e).buffer,o=Object.assign(Object.assign({},n),{id:Ya(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Ya(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function uU(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=qi(t,["challenge","allowCredentials"]),s=Ya(e).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Ya(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function dU(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:vo(new Uint8Array(t.response.attestationObject)),clientDataJSON:vo(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function fU(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:vo(new Uint8Array(s.authenticatorData)),clientDataJSON:vo(new Uint8Array(s.clientDataJSON)),signature:vo(new Uint8Array(s.signature)),userHandle:s.userHandle?vo(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function dO(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Pk(){var t,e;return!!(An()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function hU(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new vh("Browser returned unexpected credential type",e)}:{data:null,error:new vh("Empty credential response",e)}}catch(e){return{data:null,error:iU({error:e,options:t})}}}async function pU(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new vh("Browser returned unexpected credential type",e)}:{data:null,error:new vh("Empty credential response",e)}}catch(e){return{data:null,error:oU({error:e,options:t})}}}const mU={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},gU={userVerification:"preferred",hints:["security-key"]};function xh(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(e(o)){const a=r[i];e(a)?r[i]=xh(a,o):r[i]=xh(o)}else r[i]=o}return r}function yU(t,e){return xh(mU,t,e||{})}function vU(t,e){return xh(gU,t,e||{})}class xU{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:a};const l=s??lU.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=yU(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:d}=await hU({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{const c=vU(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:d}=await pU(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(o){return le(o)?{data:null,error:o}:{data:null,error:new ho("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!n)return{data:null,error:new Eu("rpId is required for WebAuthn authentication")};try{if(!Pk())return{data:null,error:new ho("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return le(o)?{data:null,error:o}:{data:null,error:new ho("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!n)return{data:null,error:new Eu("rpId is required for WebAuthn registration")};try{if(!Pk())return{data:null,error:new ho("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return le(o)?{data:null,error:o}:{data:null,error:new ho("Unexpected error in register",o)}}}}tU();const bU={url:y5,storageKey:v5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:x5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Mk(t,e,n){return await n()}const va={};class _u{get jwks(){var e,n;return(n=(e=va[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){va[this.storageKey]=Object.assign(Object.assign({},va[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=va[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){va[this.storageKey]=Object.assign(Object.assign({},va[this.storageKey]),{cachedAt:e})}constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=_u.nextInstanceID,_u.nextInstanceID+=1,this.instanceID>0&&An()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},bU),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Z5({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=lO(s.fetch),this.lock=s.lock||Mk,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:An()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=eU:this.lock=Mk,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new xU(this)},this.persistSession?(s.storage?this.storage=s.storage:aO()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=jk(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=jk(this.memoryStorage)),An()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${sO}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=P5(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),An()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),_5(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return le(n)?{error:n}:{error:new ho("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:mr}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(le(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:u,password:d,options:f}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await ma(this.storage,this.storageKey)),i=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:g},xform:mr})}else if("phone"in e){const{phone:u,password:d,options:f}=e;i=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:mr})}else throw new Hd("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(le(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ok})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ok})}else throw new Hd("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new pa}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(le(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,i,o,a,l,c,u,d,f;let p,g;if("message"in e)p=e.message,g=e.signature;else{const{chain:m,wallet:y,statement:v,options:x}=e;let w;if(An())if(typeof y=="object")w=y;else{const N=window;if("ethereum"in N&&typeof N.ethereum=="object"&&"request"in N.ethereum&&typeof N.ethereum.request=="function")w=N.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const k=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href),S=await w.request({method:"eth_requestAccounts"}).then(N=>N).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=uO(S[0]);let E=(r=x==null?void 0:x.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!E){const N=await w.request({method:"eth_chainId"});E=nU(N)}const C={domain:k.host,address:_,statement:v,uri:k.href,version:"1",chainId:E,nonce:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=sU(C),g=await w.request({method:"personal_sign",params:[rU(p),_]})}try{const{data:m,error:y}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:mr});if(y)throw y;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new pa}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:y})}catch(m){if(le(m))return{data:{user:null,session:null},error:m};throw m}}async signInWithSolana(e){var n,r,s,i,o,a,l,c,u,d,f,p;let g,m;if("message"in e)g=e.message,m=e.signature;else{const{chain:y,wallet:v,statement:x,options:w}=e;let k;if(An())if(typeof v=="object")k=v;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))k=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=v}const S=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const _=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),x?{statement:x}:null));let E;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")E=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)E=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)g=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),m=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((d=(u=w==null?void 0:w.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...w.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const _=await k.signMessage(new TextEncoder().encode(g),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=_}}try{const{data:y,error:v}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:vo(m)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:mr});if(v)throw v;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new pa}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:v})}catch(y){if(le(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(e){const n=await io(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:mr});if(await Fs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new pa}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(le(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:mr}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new pa}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(le(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await ma(this.storage,this.storageKey));const{error:d}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Hd("You must provide either an email or phone number.")}catch(a){if(le(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:mr});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(le(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await ma(this.storage,this.storageKey)),await ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:J5})}catch(i){if(le(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new qs;const{error:s}=await ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(le(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await ye(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await ye(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Hd("You must provide either an email or phone number and a type")}catch(n){if(le(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await io(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<hg:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await io(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=gg()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ni}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qs}:await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:ni})})}catch(n){if(le(n))return E5(n)&&(await this._removeSession(),await Fs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new qs;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await ma(this.storage,this.storageKey));const{data:c,error:u}=await ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:ni});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new qs;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=mg(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(le(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new qs;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(le(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!An())throw new Wd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Wd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Sk("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Sk("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new Wd("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let f=u+d;l&&(f=parseInt(l));const p=f-u;p*1e3<=wa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const g=f-d;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,u);const{data:m,error:y}=await this._getUser(i);if(y)throw y;const v={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:f,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(r){if(le(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await io(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(S5(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Fs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=j5(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await ma(this.storage,this.storageKey,!0));try{return await ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(le(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:d,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ye(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return An()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(le(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:l,access_token:c,nonce:u}=e,d=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:mr}),{data:f,error:p}=d;return p?{data:{user:null,session:null},error:p}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new pa}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:p})}catch(s){if(le(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await ye(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(le(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await D5(async s=>(s>0&&await I5(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:mr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&pg(i)&&Date.now()+o-r<wa})}catch(r){if(this._debug(n,"error",r),le(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),An()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await io(this.storage,this.storageKey);if(s&&this.userStorage){let o=await io(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await ka(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:gg()}else if(s&&!s.user&&!s.user){const o=await io(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Fs(this.storage,this.storageKey+"-user"),await ka(this.storage,this.storageKey,s)):s.user=gg()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<hg;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${hg}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),pg(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new qs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Jp;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new qs;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),le(i)){const o={data:null,error:i};return pg(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ka(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Nk(s);await ka(this.storage,this.storageKey,i)}else{const s=Nk(n);await ka(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Fs(this.storage,this.storageKey),await Fs(this.storage,this.storageKey+"-code-verifier"),await Fs(this.storage,this.storageKey+"-user"),this.userStorage&&await Fs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&An()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),wa);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/wa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${wa}ms, refresh threshold is ${vv} ticks`),s<=vv&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof cO)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!An()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await ma(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await ye(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(le(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await ye(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(le(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?dU(e.webauthn.credential_response):fU(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(le(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const o=await ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:cU(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:uU(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(le(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=mg(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+w5>s)return r;const{data:i,error:o}=await ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};r=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=mg(r);n!=null&&n.allowExpired||V5(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const u=H5(s.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,O5(`${a}.${l}`)))throw new wv("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}}}_u.nextInstanceID=0;const wU=_u;class kU extends wU{constructor(e){super(e)}}class SU{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const a=g5(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:l5,realtime:u5,auth:Object.assign(Object.assign({},c5),{storageKey:l}),global:a5},u=m5(r??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=h5(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new yF(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new s5(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new cF(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new kU({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new MF(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const EU=(t,e,n)=>new SU(t,e,n);function _U(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}_U()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const CU="https://phctmvlnbpbxxwuqyqei.supabase.co",TU="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBoY3RtdmxuYnBieHh3dXF5cWVpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzMDcwOTIsImV4cCI6MjA4MDg4MzA5Mn0.PRv50paZ_3kWw0Hkr7ehJW53deqeS1UqlJBd0AWs22k",se=EU(CU,TU,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),Re=b.forwardRef(({className:t,type:e,...n},r)=>h.jsx("input",{type:e,className:Te("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Re.displayName="Input";const td=b.forwardRef(({className:t,...e},n)=>h.jsx("textarea",{className:Te("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));td.displayName="Textarea";var NU="Label",fO=b.forwardRef((t,e)=>h.jsx(we.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));fO.displayName=NU;var hO=fO;const AU=Ip("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),pe=b.forwardRef(({className:t,...e},n)=>h.jsx(hO,{ref:n,className:Te(AU(),t),...e}));pe.displayName=hO.displayName;var ze;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(ze||(ze={}));var Ik;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Ik||(Ik={}));const ee=ze.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ys=t=>{switch(typeof t){case"undefined":return ee.undefined;case"string":return ee.string;case"number":return Number.isNaN(t)?ee.nan:ee.number;case"boolean":return ee.boolean;case"function":return ee.function;case"bigint":return ee.bigint;case"symbol":return ee.symbol;case"object":return Array.isArray(t)?ee.array:t===null?ee.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ee.promise:typeof Map<"u"&&t instanceof Map?ee.map:typeof Set<"u"&&t instanceof Set?ee.set:typeof Date<"u"&&t instanceof Date?ee.date:ee.object;default:return ee.unknown}},V=ze.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class js extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(this),r}static assert(e){if(!(e instanceof js))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ze.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}js.create=t=>new js(t);const kv=(t,e)=>{let n;switch(t.code){case V.invalid_type:t.received===ee.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case V.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ze.jsonStringifyReplacer)}`;break;case V.unrecognized_keys:n=`Unrecognized key(s) in object: ${ze.joinValues(t.keys,", ")}`;break;case V.invalid_union:n="Invalid input";break;case V.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ze.joinValues(t.options)}`;break;case V.invalid_enum_value:n=`Invalid enum value. Expected ${ze.joinValues(t.options)}, received '${t.received}'`;break;case V.invalid_arguments:n="Invalid function arguments";break;case V.invalid_return_type:n="Invalid function return type";break;case V.invalid_date:n="Invalid date";break;case V.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ze.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case V.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case V.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case V.custom:n="Invalid input";break;case V.invalid_intersection_types:n="Intersection results could not be merged";break;case V.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case V.not_finite:n="Number must be finite";break;default:n=e.defaultError,ze.assertNever(t)}return{message:n}};let OU=kv;function RU(){return OU}const jU=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}};function K(t,e){const n=RU(),r=jU({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===kv?void 0:kv].filter(s=>!!s)});t.common.issues.push(r)}class zn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return ve;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return zn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return ve;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const ve=Object.freeze({status:"aborted"}),kc=t=>({status:"dirty",value:t}),cr=t=>({status:"valid",value:t}),Dk=t=>t.status==="aborted",Lk=t=>t.status==="dirty",wl=t=>t.status==="valid",bh=t=>typeof Promise<"u"&&t instanceof Promise;var re;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(re||(re={}));class $i{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const $k=(t,e)=>{if(wl(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new js(t.common.issues);return this._error=n,this._error}}};function Ce(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{const{message:l}=t;return o.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??r??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:l??n??a.defaultError}},description:s}}class De{get description(){return this._def.description}_getType(e){return Ys(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ys(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new zn,ctx:{common:e.parent.common,data:e.data,parsedType:Ys(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(bh(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ys(e)},s=this._parseSync({data:e,path:r.path,parent:r});return $k(r,s)}"~validate"(e){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ys(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return wl(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>wl(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ys(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(bh(s)?s:Promise.resolve(s));return $k(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:V.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Sl({schema:this,typeName:xe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Ni.create(this,this._def)}nullable(){return El.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Zr.create(this)}promise(){return Eh.create(this,this._def)}or(e){return kh.create([this,e],this._def)}and(e){return Sh.create(this,e,this._def)}transform(e){return new Sl({...Ce(this._def),schema:this,typeName:xe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Cv({...Ce(this._def),innerType:this,defaultValue:n,typeName:xe.ZodDefault})}brand(){return new t6({typeName:xe.ZodBranded,type:this,...Ce(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Tv({...Ce(this._def),innerType:this,catchValue:n,typeName:xe.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Qx.create(this,e)}readonly(){return Nv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const PU=/^c[^\s-]{8,}$/i,MU=/^[0-9a-z]+$/,IU=/^[0-9A-HJKMNP-TV-Z]{26}$/i,DU=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,LU=/^[a-z0-9_-]{21}$/i,$U=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,zU=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,BU=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,FU="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let vg;const UU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,VU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,HU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,WU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,qU=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,KU=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,pO="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",GU=new RegExp(`^${pO}$`);function mO(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function JU(t){return new RegExp(`^${mO(t)}$`)}function YU(t){let e=`${pO}T${mO(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function QU(t,e){return!!((e==="v4"||!e)&&UU.test(t)||(e==="v6"||!e)&&HU.test(t))}function ZU(t,e){if(!$U.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function XU(t,e){return!!((e==="v4"||!e)&&VU.test(t)||(e==="v6"||!e)&&WU.test(t))}class pi extends De{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ee.string){const i=this._getOrReturnCtx(e);return K(i,{code:V.invalid_type,expected:ee.string,received:i.parsedType}),ve}const r=new zn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),K(s,{code:V.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),K(s,{code:V.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?K(s,{code:V.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&K(s,{code:V.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")BU.test(e.data)||(s=this._getOrReturnCtx(e,s),K(s,{validation:"email",code:V.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")vg||(vg=new RegExp(FU,"u")),vg.test(e.data)||(s=this._getOrReturnCtx(e,s),K(s,{validation:"emoji",code:V.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")DU.test(e.data)||(s=this._getOrReturnCtx(e,s),K(s,{validation:"uuid",code:V.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")LU.test(e.data)||(s=this._getOrReturnCtx(e,s),K(s,{validation:"nanoid",code:V.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")PU.test(e.data)||(s=this._getOrReturnCtx(e,s),K(s,{validation:"cuid",code:V.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")MU.test(e.data)||(s=this._getOrReturnCtx(e,s),K(s,{validation:"cuid2",code:V.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")IU.test(e.data)||(s=this._getOrReturnCtx(e,s),K(s,{validation:"ulid",code:V.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),K(s,{validation:"url",code:V.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),K(s,{validation:"regex",code:V.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),K(s,{code:V.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),K(s,{code:V.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),K(s,{code:V.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?YU(i).test(e.data)||(s=this._getOrReturnCtx(e,s),K(s,{code:V.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?GU.test(e.data)||(s=this._getOrReturnCtx(e,s),K(s,{code:V.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?JU(i).test(e.data)||(s=this._getOrReturnCtx(e,s),K(s,{code:V.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?zU.test(e.data)||(s=this._getOrReturnCtx(e,s),K(s,{validation:"duration",code:V.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?QU(e.data,i.version)||(s=this._getOrReturnCtx(e,s),K(s,{validation:"ip",code:V.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?ZU(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),K(s,{validation:"jwt",code:V.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?XU(e.data,i.version)||(s=this._getOrReturnCtx(e,s),K(s,{validation:"cidr",code:V.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?qU.test(e.data)||(s=this._getOrReturnCtx(e,s),K(s,{validation:"base64",code:V.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?KU.test(e.data)||(s=this._getOrReturnCtx(e,s),K(s,{validation:"base64url",code:V.invalid_string,message:i.message}),r.dirty()):ze.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:V.invalid_string,...re.errToObj(r)})}_addCheck(e){return new pi({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...re.errToObj(e)})}url(e){return this._addCheck({kind:"url",...re.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...re.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...re.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...re.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...re.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...re.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...re.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...re.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...re.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...re.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...re.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...re.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...re.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...re.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...re.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...re.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...re.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...re.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...re.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...re.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...re.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...re.errToObj(n)})}nonempty(e){return this.min(1,re.errToObj(e))}trim(){return new pi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new pi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new pi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}pi.create=t=>new pi({checks:[],typeName:xe.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Ce(t)});function e6(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return i%o/10**s}class Cu extends De{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ee.number){const i=this._getOrReturnCtx(e);return K(i,{code:V.invalid_type,expected:ee.number,received:i.parsedType}),ve}let r;const s=new zn;for(const i of this._def.checks)i.kind==="int"?ze.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),K(r,{code:V.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),K(r,{code:V.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),K(r,{code:V.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?e6(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),K(r,{code:V.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),K(r,{code:V.not_finite,message:i.message}),s.dirty()):ze.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,re.toString(n))}gt(e,n){return this.setLimit("min",e,!1,re.toString(n))}lte(e,n){return this.setLimit("max",e,!0,re.toString(n))}lt(e,n){return this.setLimit("max",e,!1,re.toString(n))}setLimit(e,n,r,s){return new Cu({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:re.toString(s)}]})}_addCheck(e){return new Cu({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:re.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:re.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:re.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:re.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:re.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:re.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ze.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Cu.create=t=>new Cu({checks:[],typeName:xe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ce(t)});class Tu extends De{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ee.bigint)return this._getInvalidInput(e);let r;const s=new zn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),K(r,{code:V.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),K(r,{code:V.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),K(r,{code:V.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):ze.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return K(n,{code:V.invalid_type,expected:ee.bigint,received:n.parsedType}),ve}gte(e,n){return this.setLimit("min",e,!0,re.toString(n))}gt(e,n){return this.setLimit("min",e,!1,re.toString(n))}lte(e,n){return this.setLimit("max",e,!0,re.toString(n))}lt(e,n){return this.setLimit("max",e,!1,re.toString(n))}setLimit(e,n,r,s){return new Tu({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:re.toString(s)}]})}_addCheck(e){return new Tu({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:re.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:re.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Tu.create=t=>new Tu({checks:[],typeName:xe.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Ce(t)});class Sv extends De{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ee.boolean){const r=this._getOrReturnCtx(e);return K(r,{code:V.invalid_type,expected:ee.boolean,received:r.parsedType}),ve}return cr(e.data)}}Sv.create=t=>new Sv({typeName:xe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ce(t)});class wh extends De{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ee.date){const i=this._getOrReturnCtx(e);return K(i,{code:V.invalid_type,expected:ee.date,received:i.parsedType}),ve}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return K(i,{code:V.invalid_date}),ve}const r=new zn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),K(s,{code:V.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),K(s,{code:V.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):ze.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new wh({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:re.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:re.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}wh.create=t=>new wh({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:xe.ZodDate,...Ce(t)});class zk extends De{_parse(e){if(this._getType(e)!==ee.symbol){const r=this._getOrReturnCtx(e);return K(r,{code:V.invalid_type,expected:ee.symbol,received:r.parsedType}),ve}return cr(e.data)}}zk.create=t=>new zk({typeName:xe.ZodSymbol,...Ce(t)});class Bk extends De{_parse(e){if(this._getType(e)!==ee.undefined){const r=this._getOrReturnCtx(e);return K(r,{code:V.invalid_type,expected:ee.undefined,received:r.parsedType}),ve}return cr(e.data)}}Bk.create=t=>new Bk({typeName:xe.ZodUndefined,...Ce(t)});class Fk extends De{_parse(e){if(this._getType(e)!==ee.null){const r=this._getOrReturnCtx(e);return K(r,{code:V.invalid_type,expected:ee.null,received:r.parsedType}),ve}return cr(e.data)}}Fk.create=t=>new Fk({typeName:xe.ZodNull,...Ce(t)});class Uk extends De{constructor(){super(...arguments),this._any=!0}_parse(e){return cr(e.data)}}Uk.create=t=>new Uk({typeName:xe.ZodAny,...Ce(t)});class Vk extends De{constructor(){super(...arguments),this._unknown=!0}_parse(e){return cr(e.data)}}Vk.create=t=>new Vk({typeName:xe.ZodUnknown,...Ce(t)});class zi extends De{_parse(e){const n=this._getOrReturnCtx(e);return K(n,{code:V.invalid_type,expected:ee.never,received:n.parsedType}),ve}}zi.create=t=>new zi({typeName:xe.ZodNever,...Ce(t)});class Hk extends De{_parse(e){if(this._getType(e)!==ee.undefined){const r=this._getOrReturnCtx(e);return K(r,{code:V.invalid_type,expected:ee.void,received:r.parsedType}),ve}return cr(e.data)}}Hk.create=t=>new Hk({typeName:xe.ZodVoid,...Ce(t)});class Zr extends De{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==ee.array)return K(n,{code:V.invalid_type,expected:ee.array,received:n.parsedType}),ve;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(K(n,{code:o?V.too_big:V.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(K(n,{code:V.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(K(n,{code:V.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new $i(n,o,n.path,a)))).then(o=>zn.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new $i(n,o,n.path,a)));return zn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Zr({...this._def,minLength:{value:e,message:re.toString(n)}})}max(e,n){return new Zr({...this._def,maxLength:{value:e,message:re.toString(n)}})}length(e,n){return new Zr({...this._def,exactLength:{value:e,message:re.toString(n)}})}nonempty(e){return this.min(1,e)}}Zr.create=(t,e)=>new Zr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:xe.ZodArray,...Ce(e)});function Sa(t){if(t instanceof ct){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Ni.create(Sa(r))}return new ct({...t._def,shape:()=>e})}else return t instanceof Zr?new Zr({...t._def,type:Sa(t.element)}):t instanceof Ni?Ni.create(Sa(t.unwrap())):t instanceof El?El.create(Sa(t.unwrap())):t instanceof Ho?Ho.create(t.items.map(e=>Sa(e))):t}class ct extends De{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ze.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==ee.object){const c=this._getOrReturnCtx(e);return K(c,{code:V.invalid_type,expected:ee.object,received:c.parsedType}),ve}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof zi&&this._def.unknownKeys==="strip"))for(const c in s.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=i[c],d=s.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new $i(s,d,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof zi){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(c==="strict")a.length>0&&(K(s,{code:V.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const d=s.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new $i(s,d,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,f=await u.value;c.push({key:d,value:f,alwaysSet:u.alwaysSet})}return c}).then(c=>zn.mergeObjectSync(r,c)):zn.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return re.errToObj,new ct({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:re.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new ct({...this._def,unknownKeys:"strip"})}passthrough(){return new ct({...this._def,unknownKeys:"passthrough"})}extend(e){return new ct({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ct({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:xe.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new ct({...this._def,catchall:e})}pick(e){const n={};for(const r of ze.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new ct({...this._def,shape:()=>n})}omit(e){const n={};for(const r of ze.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new ct({...this._def,shape:()=>n})}deepPartial(){return Sa(this)}partial(e){const n={};for(const r of ze.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new ct({...this._def,shape:()=>n})}required(e){const n={};for(const r of ze.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Ni;)i=i._def.innerType;n[r]=i}return new ct({...this._def,shape:()=>n})}keyof(){return gO(ze.objectKeys(this.shape))}}ct.create=(t,e)=>new ct({shape:()=>t,unknownKeys:"strip",catchall:zi.create(),typeName:xe.ZodObject,...Ce(e)});ct.strictCreate=(t,e)=>new ct({shape:()=>t,unknownKeys:"strict",catchall:zi.create(),typeName:xe.ZodObject,...Ce(e)});ct.lazycreate=(t,e)=>new ct({shape:t,unknownKeys:"strip",catchall:zi.create(),typeName:xe.ZodObject,...Ce(e)});class kh extends De{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new js(a.ctx.common.issues));return K(n,{code:V.invalid_union,unionErrors:o}),ve}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new js(l));return K(n,{code:V.invalid_union,unionErrors:a}),ve}}get options(){return this._def.options}}kh.create=(t,e)=>new kh({options:t,typeName:xe.ZodUnion,...Ce(e)});function Ev(t,e){const n=Ys(t),r=Ys(e);if(t===e)return{valid:!0,data:t};if(n===ee.object&&r===ee.object){const s=ze.objectKeys(e),i=ze.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=Ev(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===ee.array&&r===ee.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=Ev(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===ee.date&&r===ee.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Sh extends De{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(Dk(i)||Dk(o))return ve;const a=Ev(i.value,o.value);return a.valid?((Lk(i)||Lk(o))&&n.dirty(),{status:n.value,value:a.data}):(K(r,{code:V.invalid_intersection_types}),ve)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Sh.create=(t,e,n)=>new Sh({left:t,right:e,typeName:xe.ZodIntersection,...Ce(n)});class Ho extends De{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.array)return K(r,{code:V.invalid_type,expected:ee.array,received:r.parsedType}),ve;if(r.data.length<this._def.items.length)return K(r,{code:V.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ve;!this._def.rest&&r.data.length>this._def.items.length&&(K(r,{code:V.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new $i(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>zn.mergeArray(n,o)):zn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Ho({...this._def,rest:e})}}Ho.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ho({items:t,typeName:xe.ZodTuple,rest:null,...Ce(e)})};class Wk extends De{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.map)return K(r,{code:V.invalid_type,expected:ee.map,received:r.parsedType}),ve;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:s._parse(new $i(r,a,r.path,[c,"key"])),value:i._parse(new $i(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return ve;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return ve;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}Wk.create=(t,e,n)=>new Wk({valueType:e,keyType:t,typeName:xe.ZodMap,...Ce(n)});class Nu extends De{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.set)return K(r,{code:V.invalid_type,expected:ee.set,received:r.parsedType}),ve;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(K(r,{code:V.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(K(r,{code:V.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return ve;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>i._parse(new $i(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new Nu({...this._def,minSize:{value:e,message:re.toString(n)}})}max(e,n){return new Nu({...this._def,maxSize:{value:e,message:re.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Nu.create=(t,e)=>new Nu({valueType:t,minSize:null,maxSize:null,typeName:xe.ZodSet,...Ce(e)});class qk extends De{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}qk.create=(t,e)=>new qk({getter:t,typeName:xe.ZodLazy,...Ce(e)});class _v extends De{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return K(n,{received:n.data,code:V.invalid_literal,expected:this._def.value}),ve}return{status:"valid",value:e.data}}get value(){return this._def.value}}_v.create=(t,e)=>new _v({value:t,typeName:xe.ZodLiteral,...Ce(e)});function gO(t,e){return new kl({values:t,typeName:xe.ZodEnum,...Ce(e)})}class kl extends De{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return K(n,{expected:ze.joinValues(r),received:n.parsedType,code:V.invalid_type}),ve}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return K(n,{received:n.data,code:V.invalid_enum_value,options:r}),ve}return cr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return kl.create(e,{...this._def,...n})}exclude(e,n=this._def){return kl.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}kl.create=gO;class Kk extends De{_parse(e){const n=ze.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ee.string&&r.parsedType!==ee.number){const s=ze.objectValues(n);return K(r,{expected:ze.joinValues(s),received:r.parsedType,code:V.invalid_type}),ve}if(this._cache||(this._cache=new Set(ze.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=ze.objectValues(n);return K(r,{received:r.data,code:V.invalid_enum_value,options:s}),ve}return cr(e.data)}get enum(){return this._def.values}}Kk.create=(t,e)=>new Kk({values:t,typeName:xe.ZodNativeEnum,...Ce(e)});class Eh extends De{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ee.promise&&n.common.async===!1)return K(n,{code:V.invalid_type,expected:ee.promise,received:n.parsedType}),ve;const r=n.parsedType===ee.promise?n.data:Promise.resolve(n.data);return cr(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Eh.create=(t,e)=>new Eh({type:t,typeName:xe.ZodPromise,...Ce(e)});class Sl extends De{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===xe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{K(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return ve;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?ve:l.status==="dirty"||n.value==="dirty"?kc(l.value):l});{if(n.value==="aborted")return ve;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?ve:a.status==="dirty"||n.value==="dirty"?kc(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ve:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?ve:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!wl(o))return ve;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>wl(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):ve);ze.assertNever(s)}}Sl.create=(t,e,n)=>new Sl({schema:t,typeName:xe.ZodEffects,effect:e,...Ce(n)});Sl.createWithPreprocess=(t,e,n)=>new Sl({schema:e,effect:{type:"preprocess",transform:t},typeName:xe.ZodEffects,...Ce(n)});class Ni extends De{_parse(e){return this._getType(e)===ee.undefined?cr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ni.create=(t,e)=>new Ni({innerType:t,typeName:xe.ZodOptional,...Ce(e)});class El extends De{_parse(e){return this._getType(e)===ee.null?cr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}El.create=(t,e)=>new El({innerType:t,typeName:xe.ZodNullable,...Ce(e)});class Cv extends De{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ee.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Cv.create=(t,e)=>new Cv({innerType:t,typeName:xe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ce(e)});class Tv extends De{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return bh(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new js(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new js(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Tv.create=(t,e)=>new Tv({innerType:t,typeName:xe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ce(e)});class Gk extends De{_parse(e){if(this._getType(e)!==ee.nan){const r=this._getOrReturnCtx(e);return K(r,{code:V.invalid_type,expected:ee.nan,received:r.parsedType}),ve}return{status:"valid",value:e.data}}}Gk.create=t=>new Gk({typeName:xe.ZodNaN,...Ce(t)});class t6 extends De{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Qx extends De{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ve:i.status==="dirty"?(n.dirty(),kc(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ve:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Qx({in:e,out:n,typeName:xe.ZodPipeline})}}class Nv extends De{_parse(e){const n=this._def.innerType._parse(e),r=s=>(wl(s)&&(s.value=Object.freeze(s.value)),s);return bh(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Nv.create=(t,e)=>new Nv({innerType:t,typeName:xe.ZodReadonly,...Ce(e)});ct.lazycreate;var xe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(xe||(xe={}));const xs=pi.create,n6=Sv.create;zi.create;Zr.create;const yO=ct.create;ct.strictCreate;kh.create;Sh.create;Ho.create;const r6=_v.create;kl.create;Eh.create;Ni.create;El.create;const s6=yO({name:xs().trim().min(1,"Name cannot be empty").max(100,"Name must be less than 100 characters"),email:xs().trim().email("Invalid email address").max(255,"Email must be less than 255 characters"),message:xs().trim().min(1,"Message cannot be empty").max(1e3,"Message must be less than 1000 characters")}),i6=()=>{const{toast:t}=Pr(),[e,n]=b.useState({name:"",email:"",message:""}),[r,s]=b.useState(!1),i=async o=>{o.preventDefault();const a=s6.safeParse(e);if(!a.success){t({title:"Validation Error",description:a.error.errors[0].message,variant:"destructive"});return}s(!0);try{const{error:l}=await se.functions.invoke("send-contact-notification",{body:a.data});if(l)throw l;t({title:"Message Sent!",description:"Thank you for reaching out. I'll get back to you soon."}),n({name:"",email:"",message:""})}catch(l){console.error("Error sending message:",l),t({title:"Error",description:"Failed to send message. Please try again.",variant:"destructive"})}finally{s(!1)}};return h.jsxs("form",{onSubmit:i,className:"space-y-4",children:[h.jsxs("div",{className:"animate-fade-in",children:[h.jsx(pe,{htmlFor:"name",children:"Name"}),h.jsx(Re,{id:"name",type:"text",value:e.name,onChange:o=>n({...e,name:o.target.value}),className:"bg-secondary border-muted focus:border-primary transition-all hover-scale",placeholder:"Your name",maxLength:100,disabled:r})]}),h.jsxs("div",{className:"animate-fade-in",children:[h.jsx(pe,{htmlFor:"email",children:"Email"}),h.jsx(Re,{id:"email",type:"email",value:e.email,onChange:o=>n({...e,email:o.target.value}),className:"bg-secondary border-muted focus:border-primary transition-all hover-scale",placeholder:"your.email@example.com",maxLength:255,disabled:r})]}),h.jsxs("div",{className:"animate-fade-in",children:[h.jsx(pe,{htmlFor:"message",children:"Message"}),h.jsx(td,{id:"message",value:e.message,onChange:o=>n({...e,message:o.target.value}),className:"bg-secondary border-muted focus:border-primary min-h-[150px] transition-all",placeholder:"Your message...",maxLength:1e3,disabled:r})]}),h.jsx(Me,{type:"submit",className:"w-full bg-gradient-to-r from-primary to-red-600 hover:from-primary/90 hover:to-red-700 text-white transition-all hover:scale-105 shadow-lg hover:shadow-primary/50",disabled:r,children:r?"Sending...":"Send Message"})]})};function vO(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Yp="Switch",[o6,_J]=Ms(Yp),[a6,l6]=o6(Yp),xO=b.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:c,form:u,...d}=t,[f,p]=b.useState(null),g=Ve(e,w=>p(w)),m=b.useRef(!1),y=f?u||!!f.closest("form"):!0,[v,x]=Fo({prop:s,defaultProp:i??!1,onChange:c,caller:Yp});return h.jsxs(a6,{scope:n,checked:v,disabled:a,children:[h.jsx(we.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":SO(v),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:g,onClick:ue(t.onClick,w=>{x(k=>!k),y&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),y&&h.jsx(kO,{control:f,bubbles:!m.current,name:r,value:l,checked:v,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});xO.displayName=Yp;var bO="SwitchThumb",wO=b.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=l6(bO,n);return h.jsx(we.span,{"data-state":SO(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});wO.displayName=bO;var c6="SwitchBubbleInput",kO=b.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=b.useRef(null),a=Ve(o,i),l=vO(n),c=tN(e);return b.useEffect(()=>{const u=o.current;if(!u)return;const d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==n&&p){const g=new Event("click",{bubbles:r});p.call(u,n),u.dispatchEvent(g)}},[l,n,r]),h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});kO.displayName=c6;function SO(t){return t?"checked":"unchecked"}var EO=xO,u6=wO;const Qp=b.forwardRef(({className:t,...e},n)=>h.jsx(EO,{className:Te("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:n,children:h.jsx(u6,{className:Te("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Qp.displayName=EO.displayName;function Au(){const{theme:t,setTheme:e}=UT(),[n,r]=b.useState(!1);return b.useEffect(()=>{r(!0)},[]),n?h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(aL,{className:"h-4 w-4 text-muted-foreground"}),h.jsx(Qp,{checked:t==="dark",onCheckedChange:s=>e(s?"dark":"light")}),h.jsx(rL,{className:"h-4 w-4 text-muted-foreground"})]}):null}function d6(t=.1){const e=b.useRef(null),[n,r]=b.useState(!1);return b.useEffect(()=>{const s=new IntersectionObserver(([i])=>{i.isIntersecting&&r(!0)},{threshold:t});return e.current&&s.observe(e.current),()=>{e.current&&s.unobserve(e.current)}},[t]),{ref:e,isVisible:n}}function f6({post:t,index:e}){const{ref:n,isVisible:r}=d6();return h.jsx("div",{ref:n,className:`transition-all duration-700 ${r?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,style:{transitionDelay:`${e*150}ms`},children:h.jsx(hi,{to:`/blog/${t.slug}`,children:h.jsxs(Lt,{className:"h-full bg-card/50 backdrop-blur-sm border-border/50 hover:border-primary transition-all duration-300 hover:scale-105 hover:shadow-xl hover:shadow-primary/20 overflow-hidden group",children:[h.jsxs("div",{className:"h-48 overflow-hidden relative bg-secondary/30",children:[t.image_url&&t.image_url.startsWith("http")?h.jsx("img",{src:t.image_url,alt:t.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}):h.jsx("div",{className:"w-full h-full flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx(gx,{className:"w-12 h-12 text-primary/40 mx-auto mb-2"}),h.jsx("span",{className:"text-muted-foreground text-xs",children:"Blog Article"})]})}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-card/80 to-transparent"})]}),h.jsxs("div",{className:"p-6",children:[h.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:t.tags.filter(s=>s).slice(0,2).map(s=>h.jsx(xl,{className:"bg-primary/20 text-primary border-primary/30",children:s},s))}),h.jsx("h3",{className:"text-xl font-bold mb-3 group-hover:text-primary transition-colors line-clamp-2",children:t.title}),h.jsx("p",{className:"text-muted-foreground text-sm mb-4 line-clamp-2",children:t.excerpt}),h.jsx("div",{className:"flex flex-wrap items-center gap-4 text-xs text-muted-foreground mb-4",children:h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(Dp,{className:"h-3 w-3"}),new Date(t.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]})}),h.jsxs("div",{className:"flex items-center gap-2 text-primary font-semibold text-sm group-hover:gap-4 transition-all",children:["Read Article",h.jsx(OT,{className:"h-4 w-4"})]})]})]})})})}const Zx=()=>{const[t,e]=b.useState([]),[n,r]=b.useState([]),[s,i]=b.useState([]),[o,a]=b.useState([]),[l,c]=b.useState([]),[u,d]=b.useState(null),[f,p]=b.useState(!0);return b.useEffect(()=>{(async()=>{try{const[k,S,_,E,C,N]=await Promise.all([se.from("projects").select("*").order("display_order"),se.from("blog_posts").select("*").eq("published",!0).order("created_at",{ascending:!1}),se.from("certifications").select("*").order("display_order"),se.from("skills").select("*").order("display_order"),se.from("achievements").select("*").order("display_order"),se.from("resume").select("*").order("updated_at",{ascending:!1}).limit(1)]);k.data&&e(k.data),S.data&&r(S.data),_.data&&i(_.data),E.data&&a(E.data),C.data&&c(C.data),N.data&&N.data.length>0&&d(N.data[0])}catch(k){console.error("Error fetching portfolio data:",k)}finally{p(!1)}})();const m=se.channel("projects-changes").on("postgres_changes",{event:"*",schema:"public",table:"projects"},()=>{se.from("projects").select("*").order("display_order").then(({data:k})=>{k&&e(k)})}).subscribe(),y=se.channel("blog-changes").on("postgres_changes",{event:"*",schema:"public",table:"blog_posts"},()=>{se.from("blog_posts").select("*").eq("published",!0).order("created_at",{ascending:!1}).then(({data:k})=>{k&&r(k)})}).subscribe(),v=se.channel("certs-changes").on("postgres_changes",{event:"*",schema:"public",table:"certifications"},()=>{se.from("certifications").select("*").order("display_order").then(({data:k})=>{k&&i(k)})}).subscribe(),x=se.channel("skills-changes").on("postgres_changes",{event:"*",schema:"public",table:"skills"},()=>{se.from("skills").select("*").order("display_order").then(({data:k})=>{k&&a(k)})}).subscribe(),w=se.channel("achievements-changes").on("postgres_changes",{event:"*",schema:"public",table:"achievements"},()=>{se.from("achievements").select("*").order("display_order").then(({data:k})=>{k&&c(k)})}).subscribe();return()=>{se.removeChannel(m),se.removeChannel(y),se.removeChannel(v),se.removeChannel(x),se.removeChannel(w)}},[]),{projects:t,blogPosts:n,certifications:s,skills:o,achievements:l,resume:u,loading:f}},h6=()=>{const t=b.useRef(null);return b.useEffect(()=>{const e=t.current;if(!e)return;const n=e.getContext("2d");if(!n)return;const r=()=>{e.width=window.innerWidth,e.height=window.innerHeight};r();const i="01<>{}[]|/\\=+-*&^%$#@!".split(""),o=14,a=Math.floor(e.width/o),l=[];for(let d=0;d<a;d++)l[d]=Math.random()*-100;const u=setInterval(()=>{n.fillStyle="rgba(0, 0, 0, 0.05)",n.fillRect(0,0,e.width,e.height),n.fillStyle="hsl(0, 85%, 50%)",n.font=`${o}px monospace`;for(let d=0;d<l.length;d++){const f=i[Math.floor(Math.random()*i.length)],p=d*o,g=l[d]*o,m=Math.random()*.5+.1;n.fillStyle=`hsla(0, 85%, 50%, ${m})`,n.fillText(f,p,g),g>e.height&&Math.random()>.975&&(l[d]=0),l[d]+=.5}},50);return window.addEventListener("resize",r),()=>{clearInterval(u),window.removeEventListener("resize",r)}},[]),h.jsx("canvas",{ref:t,className:"fixed inset-0 pointer-events-none z-0",style:{opacity:.3}})},p6=({words:t,typingSpeed:e=100,deletingSpeed:n=50,pauseDuration:r=2e3})=>{const[s,i]=b.useState(0),[o,a]=b.useState(""),[l,c]=b.useState(!1);return b.useEffect(()=>{const u=t[s],d=setTimeout(()=>{l?o.length>0?a(o.slice(0,-1)):(c(!1),i(f=>(f+1)%t.length)):o.length<u.length?a(u.slice(0,o.length+1)):setTimeout(()=>c(!0),r)},l?n:e);return()=>clearTimeout(d)},[o,l,s,t,e,n,r]),h.jsxs("span",{className:"inline-flex items-center",children:[h.jsx("span",{children:o}),h.jsx("span",{className:"animate-pulse ml-1 text-primary",children:"|"})]})},m6="/portfolio/assets/profile-photo-DOITjZag.png",g6="/portfolio/assets/vapt-icon-Cudbf_Pm.png",y6="/portfolio/assets/web-pentest-icon-D8dXktDP.png",v6="/portfolio/assets/network-pentest-icon-B9arLZ3d.png",x6="/portfolio/assets/api-pentest-icon-tB4QfA3O.png",b6=()=>{const[t,e]=b.useState(!1),[n,r]=b.useState(null),{projects:s,blogPosts:i,certifications:o,skills:a,achievements:l,resume:c,loading:u}=Zx(),d=f=>{var p;(p=document.getElementById(f))==null||p.scrollIntoView({behavior:"smooth"}),e(!1)};return h.jsxs("div",{className:"min-h-screen bg-black text-foreground relative",children:[h.jsx(h6,{}),h.jsxs("nav",{className:"fixed top-0 w-full bg-background/98 backdrop-blur-md border-b border-border z-50 shadow-lg shadow-primary/5",children:[h.jsx("div",{className:"container mx-auto px-6 py-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"bg-gradient-to-br from-primary to-accent p-2 rounded-lg",children:h.jsx(mu,{className:"w-6 h-6 text-white"})}),h.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Sibin"})]}),h.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[h.jsx("button",{onClick:()=>d("about"),className:"hover:text-primary transition-all hover:scale-110",children:"About"}),h.jsx("button",{onClick:()=>d("platforms"),className:"hover:text-primary transition-all hover:scale-110",children:"Platforms"}),h.jsx("button",{onClick:()=>d("skills"),className:"hover:text-primary transition-all hover:scale-110",children:"Skills"}),h.jsx("button",{onClick:()=>d("technologies"),className:"hover:text-primary transition-all hover:scale-110",children:"Technologies"}),h.jsx("button",{onClick:()=>d("certifications"),className:"hover:text-primary transition-all hover:scale-110",children:"Certifications"}),h.jsx("button",{onClick:()=>d("projects"),className:"hover:text-primary transition-all hover:scale-110",children:"Projects"}),h.jsx("button",{onClick:()=>d("achievements"),className:"hover:text-primary transition-all hover:scale-110",children:"Achievements"}),h.jsx("button",{onClick:()=>d("blog"),className:"hover:text-primary transition-all hover:scale-110",children:"Blog"}),h.jsx("button",{onClick:()=>d("resume"),className:"hover:text-primary transition-all hover:scale-110",children:"Resume"}),h.jsx("button",{onClick:()=>d("contact"),className:"bg-gradient-to-r from-primary via-accent to-purple-600 text-white px-4 py-2 rounded-lg hover:scale-105 transition-all shadow-lg",children:"Contact"}),h.jsx(Au,{})]}),h.jsxs("div",{className:"md:hidden flex items-center gap-2",children:[h.jsx(Au,{}),h.jsx("button",{onClick:()=>e(!t),className:"p-2 hover:bg-secondary rounded-lg transition-colors",children:t?h.jsx(Yu,{className:"w-6 h-6 text-primary"}):h.jsx(nL,{className:"w-6 h-6 text-primary"})})]})]})}),t&&h.jsx("div",{className:"md:hidden absolute top-full left-0 w-full bg-background/98 backdrop-blur-md border-b border-border shadow-xl",children:h.jsxs("div",{className:"container mx-auto px-6 py-4 space-y-2",children:[h.jsx("button",{onClick:()=>d("about"),className:"w-full text-left px-4 py-3 hover:bg-secondary rounded-lg",children:"About"}),h.jsx("button",{onClick:()=>d("platforms"),className:"w-full text-left px-4 py-3 hover:bg-secondary rounded-lg",children:"Platforms"}),h.jsx("button",{onClick:()=>d("skills"),className:"w-full text-left px-4 py-3 hover:bg-secondary rounded-lg",children:"Skills"}),h.jsx("button",{onClick:()=>d("technologies"),className:"w-full text-left px-4 py-3 hover:bg-secondary rounded-lg",children:"Technologies"}),h.jsx("button",{onClick:()=>d("certifications"),className:"w-full text-left px-4 py-3 hover:bg-secondary rounded-lg",children:"Certifications"}),h.jsx("button",{onClick:()=>d("projects"),className:"w-full text-left px-4 py-3 hover:bg-secondary rounded-lg",children:"Projects"}),h.jsx("button",{onClick:()=>d("achievements"),className:"w-full text-left px-4 py-3 hover:bg-secondary rounded-lg",children:"Achievements"}),h.jsx("button",{onClick:()=>d("blog"),className:"w-full text-left px-4 py-3 hover:bg-secondary rounded-lg",children:"Blog"}),h.jsx("button",{onClick:()=>d("resume"),className:"w-full text-left px-4 py-3 hover:bg-secondary rounded-lg",children:"Resume"}),h.jsx("button",{onClick:()=>d("contact"),className:"w-full text-left px-4 py-3 bg-gradient-to-r from-primary via-accent to-purple-600 text-white rounded-lg",children:"Contact"})]})})]}),h.jsx("section",{className:"pt-32 pb-20 px-6 relative z-10 overflow-hidden",children:h.jsxs("div",{className:"container mx-auto text-center max-w-4xl relative",children:[h.jsx("div",{className:"relative inline-block mb-6",children:h.jsx("div",{className:"w-48 h-48 rounded-full border-4 border-primary mx-auto overflow-hidden animate-glow",children:h.jsx("img",{src:m6,alt:"Sibin C",className:"w-full h-full object-cover"})})}),h.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-4 animate-fade-in-up glow-text",children:h.jsx("span",{className:"text-primary",children:"Sibin C"})}),h.jsx("h2",{className:"text-2xl text-primary mb-8 animate-fade-in-up",children:h.jsx("span",{className:"text-primary",children:"VAPT-Intern @Cyart | Bug Bounty Learner | CTF Player | THM Top 3%"})}),h.jsx("p",{className:"text-2xl text-primary mb-8 animate-fade-in-up h-8",style:{animationDelay:"0.2s"},children:h.jsx(p6,{words:["Security Researcher","Penetration Tester","Bug Bounty Hunter"]})}),h.jsxs("div",{className:"flex justify-center gap-6",children:[h.jsx("a",{href:"https://github.com/C-Sibin",className:"text-muted-foreground hover:text-primary transition-colors",children:h.jsx(m1,{className:"w-6 h-6"})}),h.jsx("a",{href:"https://www.linkedin.com/in/sibin-c-779900267/",className:"text-muted-foreground hover:text-primary transition-colors",children:h.jsx(v1,{className:"w-6 h-6"})}),h.jsx("a",{href:"https://x.com/Sibin_zsm__",className:"text-muted-foreground hover:text-primary transition-colors",children:h.jsx(x1,{className:"w-6 h-6"})}),h.jsx("a",{href:"rajsibin12@gmail.com",className:"text-muted-foreground hover:text-primary transition-colors",children:h.jsx(rh,{className:"w-6 h-6"})})]})]})}),h.jsx("section",{className:"py-8 px-6 relative z-10",children:h.jsx("div",{className:"container mx-auto max-w-4xl",children:h.jsxs("div",{className:"flex flex-wrap justify-center gap-4 md:gap-6",children:[h.jsx("div",{className:"animate-float bg-card/90 backdrop-blur-sm p-3 rounded-xl border border-primary/30 shadow-lg shadow-primary/20",style:{animationDelay:"0s"},children:h.jsx("img",{src:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/python/python-original.svg",alt:"Python",className:"w-10 h-10"})}),h.jsx("div",{className:"animate-float-slow bg-card/90 backdrop-blur-sm p-3 rounded-xl border border-primary/30 shadow-lg shadow-primary/20",style:{animationDelay:"0.2s"},children:h.jsx("img",{src:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/linux/linux-original.svg",alt:"Linux",className:"w-10 h-10"})}),h.jsx("div",{className:"animate-float-reverse bg-card/90 backdrop-blur-sm p-3 rounded-xl border border-primary/30 shadow-lg shadow-primary/20",style:{animationDelay:"0.4s"},children:h.jsx("img",{src:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/docker/docker-original.svg",alt:"Docker",className:"w-10 h-10"})}),h.jsx("div",{className:"animate-float bg-card/90 backdrop-blur-sm p-3 rounded-xl border border-primary/30 shadow-lg shadow-primary/20",style:{animationDelay:"0.6s"},children:h.jsx("img",{src:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/redhat/redhat-original.svg",alt:"RedHat",className:"w-10 h-10"})}),h.jsx("div",{className:"animate-float-slow bg-card/90 backdrop-blur-sm p-3 rounded-xl border border-primary/30 shadow-lg shadow-primary/20",style:{animationDelay:"0.8s"},children:h.jsx("img",{src:"https://www.wireshark.org/assets/icons/wireshark-fin.png",alt:"Wireshark",className:"w-10 h-10"})}),h.jsx("div",{className:"animate-float-reverse bg-card/90 backdrop-blur-sm p-3 rounded-xl border border-primary/30 shadow-lg shadow-primary/20",style:{animationDelay:"1s"},children:h.jsx("img",{src:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/bash/bash-original.svg",alt:"Bash",className:"w-10 h-10"})}),h.jsx("div",{className:"animate-float bg-card/90 backdrop-blur-sm p-3 rounded-xl border border-primary/30 shadow-lg shadow-primary/20",style:{animationDelay:"1.2s"},children:h.jsx("img",{src:"https://nmap.org/images/nmap-logo-256x256.png",alt:"Nmap",className:"w-10 h-10"})})]})})}),h.jsx("section",{id:"about",className:"py-20 px-6 bg-card/30 relative z-10",children:h.jsxs("div",{className:"container mx-auto max-w-4xl",children:[h.jsx("h2",{className:"text-4xl font-bold text-center mb-8 text-primary animate-fade-in-up glow-text",children:"About Me"}),h.jsx("p",{className:"text-center text-lg text-muted-foreground animate-fade-in-up",style:{animationDelay:"0.2s"},children:`Hi!, I am a dedicated cybersecurity professional with expertise in penetration testing with a motivated and curious mindset of learner new things in web technologies and cybersecurity concepts. I enjoy understanding how websites work behind the scenes, especially topics like cookies, authentication, and web security. Now i am actively taking part in CTF's and other Security events that help me grow as a "Security Engineer" and technology enthusiast.`})]})}),h.jsx("section",{id:"platforms",className:"py-20 px-6 relative z-10",children:h.jsxs("div",{className:"container mx-auto max-w-6xl",children:[h.jsx("h2",{className:"text-4xl font-bold text-center mb-12 text-primary animate-fade-in-up glow-text",children:"Platform Rankings"}),h.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{name:"HackTheBox",logo:"https://www.hackthebox.com/images/logo-htb.svg",rank:"Pro Hacker",points:"Coming Soon",profile:"https://ctf.hackthebox.com/user/profile/290694",color:"from-green-500 to-green-700"},{name:"TryHackMe",logo:"https://tryhackme.com/img/favicon.png",rank:"Elite",points:"Coming Soon",profile:"https://tryhackme.com/p/SIBIN",color:"from-red-500 to-red-700"},{name:"PentesterLab",logo:"https://pentesterlab.com/favicon.ico",rank:"Advanced",points:"Coming Soon",profile:"#",color:"from-blue-500 to-blue-700"},{name:"PortSwigger Academy",logo:"https://portswigger.net/burp/images/header-logo-orange.svg",rank:"Practitioner",points:"Coming Soon",profile:"#",color:"from-orange-500 to-orange-700"},{name:"VulnHub",logo:"https://www.vulnhub.com/favicon.ico",rank:"Active",points:"Coming Soon",profile:"#",color:"from-purple-500 to-purple-700"},{name:"PicoCTF",logo:"https://picoctf.org/favicon.ico",rank:"Competitor",points:"Coming Soon",profile:"https://play.picoctf.org/users/null_knight",color:"from-cyan-500 to-cyan-700"}].map((f,p)=>h.jsxs(Lt,{className:"group bg-card border-primary/30 p-6 hover:border-primary transition-all hover:scale-105 glow-card cursor-pointer animate-fade-in-up overflow-hidden relative",style:{animationDelay:`${p*.1}s`},children:[h.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${f.color} opacity-5 group-hover:opacity-10 transition-opacity`}),h.jsxs("div",{className:"relative",children:[h.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[h.jsx("div",{className:"w-12 h-12 bg-secondary/50 rounded-lg flex items-center justify-center p-2",children:h.jsx("img",{src:f.logo,alt:f.name,className:"w-8 h-8 object-contain"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-lg",children:f.name}),h.jsx(xl,{variant:"outline",className:"text-xs border-primary/50 text-primary",children:f.rank})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("p",{className:"text-sm text-muted-foreground",children:["Points: ",f.points]}),h.jsx("a",{href:f.profile,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-sm inline-flex items-center gap-1",children:"View Profile "})]})]})]},f.name))})]})}),h.jsx("section",{id:"skills",className:"py-20 px-6 relative z-10",children:h.jsxs("div",{className:"container mx-auto max-w-6xl",children:[h.jsx("h2",{className:"text-4xl font-bold text-center mb-12 text-primary animate-fade-in-up glow-text",children:"Skills"}),h.jsx("div",{className:"flex flex-wrap justify-center gap-6",children:[{name:"VAPT",icon:g6},{name:"Web Pentesting",icon:y6},{name:"Network Pentesting",icon:v6},{name:"API Pentesting",icon:x6}].map((f,p)=>h.jsx(Lt,{className:"group bg-card border-primary/30 p-6 hover:border-primary transition-all hover:scale-110 glow-card cursor-pointer animate-fade-in-up w-32 sm:w-36",style:{animationDelay:`${p*.1}s`},children:h.jsxs("div",{className:"text-center",children:[h.jsx("img",{src:f.icon,alt:f.name,className:"w-14 h-14 mx-auto mb-3 object-contain rounded-lg"}),h.jsx("p",{className:"text-sm font-semibold",children:f.name})]})},f.name))})]})}),h.jsx("section",{id:"technologies",className:"py-20 px-6 bg-card/30 relative z-10",children:h.jsxs("div",{className:"container mx-auto max-w-6xl",children:[h.jsx("h2",{className:"text-4xl font-bold text-center mb-12 text-primary animate-fade-in-up glow-text",children:"Technologies"}),h.jsxs("div",{className:"mb-12",children:[h.jsx("h3",{className:"text-xl font-semibold text-center mb-6 text-muted-foreground",children:"Languages"}),h.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:[{name:"Python",icon:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/python/python-original.svg"},{name:"Bash",icon:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/bash/bash-original.svg"}].map((f,p)=>h.jsx(Lt,{className:"group bg-card border-primary/30 p-4 hover:border-primary transition-all hover:scale-110 glow-card cursor-pointer animate-fade-in-up",style:{animationDelay:`${p*.1}s`},children:h.jsxs("div",{className:"text-center",children:[h.jsx("img",{src:f.icon,alt:f.name,className:"w-10 h-10 mx-auto mb-2 object-contain"}),h.jsx("p",{className:"text-xs font-semibold",children:f.name})]})},f.name))})]}),h.jsxs("div",{className:"mb-12",children:[h.jsx("h3",{className:"text-xl font-semibold text-center mb-6 text-muted-foreground",children:"Operating Systems"}),h.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:[{name:"Linux",icon:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/linux/linux-original.svg"},{name:"Kali Linux",icon:"https://upload.wikimedia.org/wikipedia/commons/2/2b/Kali-dragon-icon.svg"},{name:"RedHat",icon:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/redhat/redhat-original.svg"},{name:"Windows",icon:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/windows8/windows8-original.svg"},{name:"Android",icon:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/android/android-original.svg"},{name:"iOS",icon:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/apple/apple-original.svg"}].map((f,p)=>h.jsx(Lt,{className:"group bg-card border-primary/30 p-4 hover:border-primary transition-all hover:scale-110 glow-card cursor-pointer animate-fade-in-up",style:{animationDelay:`${p*.1}s`},children:h.jsxs("div",{className:"text-center",children:[h.jsx("img",{src:f.icon,alt:f.name,className:"w-10 h-10 mx-auto mb-2 object-contain"}),h.jsx("p",{className:"text-xs font-semibold",children:f.name})]})},f.name))})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-semibold text-center mb-6 text-muted-foreground",children:"Security Tools"}),h.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:[{name:"Burp Suite",icon:"https://www.kali.org/tools/burpsuite/images/burpsuite-logo.svg"},{name:"Nessus",icon:"https://cdn.brandfetch.io/idUAiB4pBI/w/400/h/400/theme/dark/icon.jpeg?c=1bxid64Mup7aczewSAYMX&t=1762460382053"},{name:"Metasploit",icon:"https://www.kali.org/tools/metasploit-framework/images/metasploit-framework-logo.svg"},{name:"Nmap",icon:"https://nmap.org/images/nmap-logo-256x256.png"},{name:"Wireshark",icon:"https://www.wireshark.org/assets/icons/wireshark-fin.png"},{name:"OWASP ZAP",icon:"https://www.kali.org/tools/zaproxy/images/zaproxy-logo.svg"},{name:"Nikto",icon:"https://www.kali.org/tools/nikto/images/nikto-logo.svg"},{name:"SQLMap",icon:"https://www.kali.org/tools/sqlmap/images/sqlmap-logo.svg"},{name:"Hydra",icon:"https://www.kali.org/tools/hydra/images/hydra-logo.svg"},{name:"John the Ripper",icon:"https://www.kali.org/tools/john/images/john-logo.svg"},{name:"Netcat",icon:"https://www.kali.org/tools/netcat/images/netcat-logo.svg"},{name:"Autopsy",icon:"https://www.kali.org/tools/autopsy/images/autopsy-logo.svg"}].map((f,p)=>h.jsx(Lt,{className:"group bg-card border-primary/30 p-4 hover:border-primary transition-all hover:scale-110 glow-card cursor-pointer animate-fade-in-up",style:{animationDelay:`${p*.05}s`},children:h.jsxs("div",{className:"text-center",children:[h.jsx("img",{src:f.icon,alt:f.name,className:"w-10 h-10 mx-auto mb-2 object-contain"}),h.jsx("p",{className:"text-xs font-semibold",children:f.name})]})},f.name))})]})]})}),h.jsx("section",{id:"certifications",className:"py-20 px-6 relative z-10",children:h.jsx("div",{className:"container mx-auto max-w-6xl",children:u?h.jsx("div",{className:"text-center",children:"Loading certifications..."}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"mb-16",children:h.jsx(Dd,{title:"Professional Certifications",itemsPerView:2,children:o.filter(f=>f.certification_type==="professional").map(f=>h.jsxs(Lt,{className:"bg-card border-primary/50 p-8 hover:border-primary transition-colors glow-card h-full",children:[f.image_url&&h.jsxs("div",{className:"mb-4 overflow-hidden rounded-md border border-primary/30 cursor-pointer group relative",onClick:()=>r({url:f.image_url,title:f.title}),children:[h.jsx("img",{src:f.image_url,alt:`${f.title} certificate`,className:"h-40 w-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"}),h.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:h.jsx(Sf,{className:"w-8 h-8 text-white"})})]}),h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx(h1,{className:"w-8 h-8 text-primary"}),h.jsx("h3",{className:"text-xl font-bold",children:f.title})]}),h.jsxs("p",{className:"text-muted-foreground mb-2",children:["Issuer: ",f.issuer]}),h.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Issued: ",new Date(f.issue_date).toLocaleDateString()]}),f.credential_id&&h.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",f.credential_id]}),f.credential_url&&h.jsx("a",{href:f.credential_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-sm",children:"View Credential "})]},f.id))})}),h.jsx(Dd,{title:"CTF Certifications",itemsPerView:2,children:o.filter(f=>f.certification_type==="ctf").map(f=>h.jsxs(Lt,{className:"bg-card border-primary/50 p-8 hover:border-primary transition-colors glow-card h-full",children:[f.image_url&&h.jsxs("div",{className:"mb-4 overflow-hidden rounded-md border border-primary/30 cursor-pointer group relative",onClick:()=>r({url:f.image_url,title:f.title}),children:[h.jsx("img",{src:f.image_url,alt:`${f.title} certificate`,className:"h-40 w-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"}),h.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:h.jsx(Sf,{className:"w-8 h-8 text-white"})})]}),h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx(h1,{className:"w-8 h-8 text-primary"}),h.jsx("h3",{className:"text-xl font-bold",children:f.title})]}),h.jsxs("p",{className:"text-muted-foreground mb-2",children:["Issuer: ",f.issuer]}),h.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Issued: ",new Date(f.issue_date).toLocaleDateString()]}),f.credential_id&&h.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",f.credential_id]}),f.credential_url&&h.jsx("a",{href:f.credential_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-sm",children:"View Credential "})]},f.id))})]})})}),h.jsx("section",{id:"projects",className:"py-20 px-6 relative z-10",children:h.jsx("div",{className:"container mx-auto max-w-6xl",children:u?h.jsx("div",{className:"text-center",children:"Loading projects..."}):h.jsx(Dd,{title:"Security Projects",itemsPerView:2,children:s.map(f=>h.jsxs(Lt,{className:"group bg-card border-primary/50 overflow-hidden hover:border-primary transition-all glow-card h-full",children:[f.image_url&&h.jsxs("div",{className:"relative h-48 overflow-hidden",children:[h.jsx("img",{src:f.image_url,alt:f.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),h.jsx("div",{className:"absolute top-4 right-4",children:h.jsx(eL,{className:"w-6 h-6 text-primary"})})]}),h.jsxs("div",{className:"p-6",children:[h.jsx("h3",{className:"text-2xl font-bold mb-2",children:f.title}),h.jsx("p",{className:"text-muted-foreground mb-4",children:f.description}),h.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:f.technologies.map(p=>h.jsx(xl,{variant:"outline",className:"text-xs",children:p},p))}),h.jsxs("div",{className:"flex gap-3",children:[f.demo_url&&h.jsx("a",{href:f.demo_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-sm",children:"Live Demo "}),f.github_url&&h.jsx("a",{href:f.github_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-sm",children:"GitHub "})]})]})]},f.id))})})}),h.jsx("section",{id:"achievements",className:"py-20 px-6 bg-card/30 relative z-10",children:h.jsx("div",{className:"container mx-auto max-w-6xl",children:u?h.jsx("div",{className:"text-center",children:"Loading achievements..."}):h.jsx(Dd,{title:"Professional Achievements",itemsPerView:2,children:l.map(f=>h.jsxs(Lt,{className:"bg-card border-primary/50 p-8 hover:border-primary transition-colors glow-card h-full",children:[f.image_url&&h.jsxs("div",{className:"mb-4 overflow-hidden rounded-md border border-primary/30 cursor-pointer group relative",onClick:()=>r({url:f.image_url,title:f.title}),children:[h.jsx("img",{src:f.image_url,alt:`${f.title} achievement image`,className:"h-40 w-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"}),h.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:h.jsx(Sf,{className:"w-8 h-8 text-white"})})]}),h.jsx(lL,{className:"w-12 h-12 text-primary mb-4"}),h.jsx("h3",{className:"text-xl font-bold mb-2",children:f.title}),h.jsx("p",{className:"text-muted-foreground mb-3",children:f.description}),h.jsxs("p",{className:"text-sm text-muted-foreground",children:["Date: ",new Date(f.date).toLocaleDateString()]})]},f.id))})})}),h.jsx("section",{id:"blog",className:"py-20 px-6 relative z-10",children:h.jsxs("div",{className:"container mx-auto max-w-6xl",children:[h.jsx("h2",{className:"text-4xl font-bold text-center mb-12 text-primary animate-fade-in-up glow-text",children:"Latest Insights"}),u?h.jsx("div",{className:"text-center",children:"Loading blog posts..."}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:i.slice(0,3).map((f,p)=>h.jsx(f6,{post:f,index:p},f.id))}),i.length>3&&h.jsx("div",{className:"text-center mt-10",children:h.jsx(hi,{to:"/blog",children:h.jsx(Me,{variant:"outline",size:"lg",className:"border-primary text-primary hover:bg-primary hover:text-primary-foreground",children:"View All Blogs"})})})]})]})}),h.jsx("section",{id:"resume",className:"py-20 px-6 bg-card/30 relative z-10",children:h.jsx("div",{className:"container mx-auto max-w-5xl",children:h.jsxs(Lt,{className:"bg-card border-primary/30 p-8 md:p-12 relative overflow-hidden glow-card animate-fade-in-up",children:[h.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-6 mb-10",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"text-primary",children:h.jsx(FD,{className:"w-10 h-10"})}),h.jsx("h3",{className:"text-3xl font-bold text-primary",children:"Download Resume"})]}),c?h.jsx("a",{href:c.file_url,download:c.file_name,target:"_blank",rel:"noopener noreferrer",children:h.jsxs(Me,{size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground px-6 py-3",children:[h.jsx(p1,{className:"mr-2 w-5 h-5"}),"Download PDF"]})}):h.jsxs(Me,{size:"lg",className:"bg-primary/50 text-primary-foreground px-6 py-3",disabled:!0,children:[h.jsx(p1,{className:"mr-2 w-5 h-5"}),"No Resume Available"]})]}),h.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-10",children:[h.jsxs("div",{className:"bg-secondary/50 border border-border/50 rounded-xl p-6",children:[h.jsx("h4",{className:"text-lg font-semibold text-primary mb-2",children:"Professional Summary"}),h.jsx("p",{className:"text-muted-foreground text-sm",children:"Comprehensive overview of skills, experience, and achievements"})]}),h.jsxs("div",{className:"bg-secondary/50 border border-border/50 rounded-xl p-6",children:[h.jsx("h4",{className:"text-lg font-semibold text-primary mb-2",children:"Technical Skills"}),h.jsx("p",{className:"text-muted-foreground text-sm",children:"Detailed breakdown of technical expertise and certifications"})]}),h.jsxs("div",{className:"bg-secondary/50 border border-border/50 rounded-xl p-6",children:[h.jsx("h4",{className:"text-lg font-semibold text-primary mb-2",children:"Project Portfolio"}),h.jsx("p",{className:"text-muted-foreground text-sm",children:"Showcase of key projects and professional achievements"})]})]}),h.jsx("div",{className:"bg-secondary/30 border-l-4 border-primary rounded-r-lg p-4",children:h.jsxs("p",{className:"text-sm text-muted-foreground",children:[h.jsx("span",{className:"text-primary font-semibold",children:"Note: "}),"The resume includes detailed information about my professional experience, technical skills, certifications, and notable achievements in cybersecurity."]})}),h.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-2 bg-gradient-to-r from-primary via-accent to-purple-600"})]})})}),h.jsx("section",{id:"contact",className:"py-20 px-6 relative z-10",children:h.jsxs("div",{className:"container mx-auto max-w-2xl",children:[h.jsx("h2",{className:"text-4xl font-bold text-center mb-12 text-primary animate-fade-in-up glow-text",children:"Get In Touch"}),h.jsx("div",{className:"space-y-12",children:h.jsx("div",{children:h.jsx(i6,{})})})]})}),h.jsx("footer",{className:"bg-card border-t border-border py-12 px-6 relative z-10",children:h.jsxs("div",{className:"container mx-auto max-w-6xl",children:[h.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-8",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx(mu,{className:"w-6 h-6 text-primary"}),h.jsx("span",{className:"text-xl font-bold",children:"Sibin C"})]}),h.jsx("p",{className:"text-muted-foreground",children:"Penetration Tester dedicated to securing digital infrastructure"})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold mb-4 text-primary",children:"Quick Links"}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("button",{onClick:()=>d("about"),className:"block text-muted-foreground hover:text-primary",children:"About"}),h.jsx("button",{onClick:()=>d("projects"),className:"block text-muted-foreground hover:text-primary",children:"Projects"}),h.jsx("button",{onClick:()=>d("blog"),className:"block text-muted-foreground hover:text-primary",children:"Blog"}),h.jsx("button",{onClick:()=>d("contact"),className:"block text-muted-foreground hover:text-primary",children:"Contact"})]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold mb-4 text-primary",children:"Follow Me"}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("a",{href:"https://github.com/C-Sibin",className:"p-3 bg-secondary hover:bg-primary hover:text-white rounded-lg transition-all",children:h.jsx(m1,{className:"w-5 h-5"})}),h.jsx("a",{href:"https://www.linkedin.com/in/sibin-c-779900267/",className:"p-3 bg-secondary hover:bg-primary hover:text-white rounded-lg transition-all",children:h.jsx(v1,{className:"w-5 h-5"})}),h.jsx("a",{href:"https://x.com/Sibin_zsm__",className:"p-3 bg-secondary hover:bg-primary hover:text-white rounded-lg transition-all",children:h.jsx(x1,{className:"w-5 h-5"})}),h.jsx("a",{href:"rajsibin12@gmail.com",className:"p-3 bg-secondary hover:bg-primary hover:text-white rounded-lg transition-all",children:h.jsx(rh,{className:"w-5 h-5"})})]})]})]}),h.jsx("div",{className:"text-center text-muted-foreground pt-8 border-t border-border",children:h.jsx("p",{children:" Sibin C. All rights reserved."})})]})}),n&&h.jsx(XB,{isOpen:!!n,onClose:()=>r(null),imageUrl:n.url,title:n.title})]})};var w6=b.createContext(void 0);function Xx(t){const e=b.useContext(w6);return t||e||"ltr"}var xg="rovingFocusGroup.onEntryFocus",k6={bubbles:!1,cancelable:!0},nd="RovingFocusGroup",[Av,_O,S6]=fx(nd),[E6,CO]=Ms(nd,[S6]),[_6,C6]=E6(nd),TO=b.forwardRef((t,e)=>h.jsx(Av.Provider,{scope:t.__scopeRovingFocusGroup,children:h.jsx(Av.Slot,{scope:t.__scopeRovingFocusGroup,children:h.jsx(T6,{...t,ref:e})})}));TO.displayName=nd;var T6=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=t,f=b.useRef(null),p=Ve(e,f),g=Xx(i),[m,y]=Fo({prop:o,defaultProp:a??null,onChange:l,caller:nd}),[v,x]=b.useState(!1),w=ar(c),k=_O(n),S=b.useRef(!1),[_,E]=b.useState(0);return b.useEffect(()=>{const C=f.current;if(C)return C.addEventListener(xg,w),()=>C.removeEventListener(xg,w)},[w]),h.jsx(_6,{scope:n,orientation:r,dir:g,loop:s,currentTabStopId:m,onItemFocus:b.useCallback(C=>y(C),[y]),onItemShiftTab:b.useCallback(()=>x(!0),[]),onFocusableItemAdd:b.useCallback(()=>E(C=>C+1),[]),onFocusableItemRemove:b.useCallback(()=>E(C=>C-1),[]),children:h.jsx(we.div,{tabIndex:v||_===0?-1:0,"data-orientation":r,...d,ref:p,style:{outline:"none",...t.style},onMouseDown:ue(t.onMouseDown,()=>{S.current=!0}),onFocus:ue(t.onFocus,C=>{const N=!S.current;if(C.target===C.currentTarget&&N&&!v){const R=new CustomEvent(xg,k6);if(C.currentTarget.dispatchEvent(R),!R.defaultPrevented){const L=k().filter(W=>W.focusable),I=L.find(W=>W.active),Z=L.find(W=>W.id===m),J=[I,Z,...L].filter(Boolean).map(W=>W.ref.current);OO(J,u)}}S.current=!1}),onBlur:ue(t.onBlur,()=>x(!1))})})}),NO="RovingFocusGroupItem",AO=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=Ci(),c=i||l,u=C6(NO,n),d=u.currentTabStopId===c,f=_O(n),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:m}=u;return b.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),h.jsx(Av.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:h.jsx(we.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:ue(t.onMouseDown,y=>{r?u.onItemFocus(c):y.preventDefault()}),onFocus:ue(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:ue(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const v=O6(y,u.orientation,u.dir);if(v!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let w=f().filter(k=>k.focusable).map(k=>k.ref.current);if(v==="last")w.reverse();else if(v==="prev"||v==="next"){v==="prev"&&w.reverse();const k=w.indexOf(y.currentTarget);w=u.loop?R6(w,k+1):w.slice(k+1)}setTimeout(()=>OO(w))}}),children:typeof o=="function"?o({isCurrentTabStop:d,hasTabStop:m!=null}):o})})});AO.displayName=NO;var N6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function A6(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function O6(t,e,n){const r=A6(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return N6[r]}function OO(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function R6(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var j6=TO,P6=AO,Zp="Tabs",[M6,CJ]=Ms(Zp,[CO]),RO=CO(),[I6,eb]=M6(Zp),jO=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=Xx(a),[d,f]=Fo({prop:r,onChange:s,defaultProp:i??"",caller:Zp});return h.jsx(I6,{scope:n,baseId:Ci(),value:d,onValueChange:f,orientation:o,dir:u,activationMode:l,children:h.jsx(we.div,{dir:u,"data-orientation":o,...c,ref:e})})});jO.displayName=Zp;var PO="TabsList",MO=b.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=eb(PO,n),o=RO(n);return h.jsx(j6,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:h.jsx(we.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});MO.displayName=PO;var IO="TabsTrigger",DO=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=eb(IO,n),a=RO(n),l=zO(o.baseId,r),c=BO(o.baseId,r),u=r===o.value;return h.jsx(P6,{asChild:!0,...a,focusable:!s,active:u,children:h.jsx(we.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:ue(t.onMouseDown,d=>{!s&&d.button===0&&d.ctrlKey===!1?o.onValueChange(r):d.preventDefault()}),onKeyDown:ue(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(r)}),onFocus:ue(t.onFocus,()=>{const d=o.activationMode!=="manual";!u&&!s&&d&&o.onValueChange(r)})})})});DO.displayName=IO;var LO="TabsContent",$O=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=eb(LO,n),l=zO(a.baseId,r),c=BO(a.baseId,r),u=r===a.value,d=b.useRef(u);return b.useEffect(()=>{const f=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(f)},[]),h.jsx(ta,{present:s||u,children:({present:f})=>h.jsx(we.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:f&&i})})});$O.displayName=LO;function zO(t,e){return`${t}-trigger-${e}`}function BO(t,e){return`${t}-content-${e}`}var D6=jO,FO=MO,UO=DO,VO=$O;const Jk=D6,Ov=b.forwardRef(({className:t,...e},n)=>h.jsx(FO,{ref:n,className:Te("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Ov.displayName=FO.displayName;const fs=b.forwardRef(({className:t,...e},n)=>h.jsx(UO,{ref:n,className:Te("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));fs.displayName=UO.displayName;const hs=b.forwardRef(({className:t,...e},n)=>h.jsx(VO,{ref:n,className:Te("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));hs.displayName=VO.displayName;const L6=({onSuccess:t})=>{const{toast:e}=Pr(),[n,r]=b.useState({title:"",description:"",image_url:"",demo_url:"",github_url:"",technologies:"",featured:!1,display_order:0}),[s,i]=b.useState(!1),o=async l=>{var u;const c=(u=l.target.files)==null?void 0:u[0];if(c){i(!0);try{const d=c.name.split(".").pop(),f=`${Math.random()}.${d}`,{error:p}=await se.storage.from("project-images").upload(f,c);if(p)throw p;const{data:g}=se.storage.from("project-images").getPublicUrl(f);r(m=>({...m,image_url:g.publicUrl})),e({title:"Success",description:"Image uploaded"})}catch{e({title:"Error",description:"Failed to upload image",variant:"destructive"})}finally{i(!1)}}},a=async l=>{l.preventDefault();const{error:c}=await se.from("projects").insert({...n,technologies:n.technologies.split(",").map(u=>u.trim())});if(c){e({title:"Error",description:c.message,variant:"destructive"});return}e({title:"Success",description:"Project added"}),r({title:"",description:"",image_url:"",demo_url:"",github_url:"",technologies:"",featured:!1,display_order:0}),t()};return h.jsxs("form",{onSubmit:a,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"Title"}),h.jsx(Re,{value:n.title,onChange:l=>r({...n,title:l.target.value}),placeholder:"Project title",className:"bg-[#161b22] border-border/50 text-foreground placeholder:text-muted-foreground",required:!0})]}),h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"Description"}),h.jsx(td,{value:n.description,onChange:l=>r({...n,description:l.target.value}),placeholder:"Project description",className:"bg-[#161b22] border-border/50 text-foreground placeholder:text-muted-foreground",required:!0})]}),h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"Project Image"}),h.jsx(Re,{type:"file",accept:"image/*",onChange:o,disabled:s,className:"bg-[#161b22] border-border/50 text-foreground file:bg-primary file:text-primary-foreground file:border-0"}),n.image_url&&h.jsxs("div",{className:"mt-2",children:[h.jsx("img",{src:n.image_url,alt:"Preview",className:"w-32 h-20 object-cover rounded-lg border border-border/50"}),h.jsx("p",{className:"text-xs text-green-400 mt-1",children:" Image uploaded"})]})]}),h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"Demo URL"}),h.jsx(Re,{value:n.demo_url,onChange:l=>r({...n,demo_url:l.target.value}),placeholder:"https://demo.example.com",className:"bg-[#161b22] border-border/50 text-foreground placeholder:text-muted-foreground"})]}),h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"GitHub URL"}),h.jsx(Re,{value:n.github_url,onChange:l=>r({...n,github_url:l.target.value}),placeholder:"https://github.com/...",className:"bg-[#161b22] border-border/50 text-foreground placeholder:text-muted-foreground"})]}),h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"Technologies (comma-separated)"}),h.jsx(Re,{value:n.technologies,onChange:l=>r({...n,technologies:l.target.value}),placeholder:"Python, React, Docker",className:"bg-[#161b22] border-border/50 text-foreground placeholder:text-muted-foreground",required:!0})]}),h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"Display Order"}),h.jsx(Re,{type:"number",value:n.display_order,onChange:l=>r({...n,display_order:parseInt(l.target.value)}),className:"bg-[#161b22] border-border/50 text-foreground"})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Qp,{checked:n.featured,onCheckedChange:l=>r({...n,featured:l})}),h.jsx(pe,{className:"text-foreground",children:"Featured"})]}),h.jsxs(Me,{type:"submit",className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",children:[h.jsx(Ju,{className:"w-4 h-4 mr-2"}),"Add Project"]})]})};var HO={exports:{}},WO={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _l=b;function $6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var z6=typeof Object.is=="function"?Object.is:$6,B6=_l.useState,F6=_l.useEffect,U6=_l.useLayoutEffect,V6=_l.useDebugValue;function H6(t,e){var n=e(),r=B6({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return U6(function(){s.value=n,s.getSnapshot=e,bg(s)&&i({inst:s})},[t,n,e]),F6(function(){return bg(s)&&i({inst:s}),t(function(){bg(s)&&i({inst:s})})},[t]),V6(n),n}function bg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!z6(t,n)}catch{return!0}}function W6(t,e){return e()}var q6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?W6:H6;WO.useSyncExternalStore=_l.useSyncExternalStore!==void 0?_l.useSyncExternalStore:q6;HO.exports=WO;var tb=HO.exports;function Dt(t){this.content=t}Dt.prototype={constructor:Dt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,s=r.find(t),i=r.content.slice();return s==-1?i.push(n||t,e):(i[s+1]=e,n&&(i[s]=n)),new Dt(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Dt(n)},addToStart:function(t,e){return new Dt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Dt(n)},addBefore:function(t,e,n){var r=this.remove(e),s=r.content.slice(),i=r.find(t);return s.splice(i==-1?s.length:i,0,e,n),new Dt(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Dt.from(t),t.size?new Dt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Dt.from(t),t.size?new Dt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Dt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Dt.from=function(t){if(t instanceof Dt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Dt(e)};function qO(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(r),i=e.child(r);if(s==i){n+=s.nodeSize;continue}if(!s.sameMarkup(i))return n;if(s.isText&&s.text!=i.text){for(let o=0;s.text[o]==i.text[o];o++)n++;return n}if(s.content.size||i.content.size){let o=qO(s.content,i.content,n+1);if(o!=null)return o}n+=s.nodeSize}}function KO(t,e,n,r){for(let s=t.childCount,i=e.childCount;;){if(s==0||i==0)return s==i?null:{a:n,b:r};let o=t.child(--s),a=e.child(--i),l=o.nodeSize;if(o==a){n-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let c=0,u=Math.min(o.text.length,a.text.length);for(;c<u&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let c=KO(o.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class D{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,s=0,i){for(let o=0,a=0;a<n;o++){let l=this.content[o],c=a+l.nodeSize;if(c>e&&r(l,s+a,i||null,o)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,n-u),r,s+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,s){let i="",o=!0;return this.nodesBetween(e,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?s?typeof s=="function"?s(a):s:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(o?o=!1:i+=r),i+=c},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,s=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),i=1);i<e.content.length;i++)s.push(e.content[i]);return new D(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],s=0;if(n>e)for(let i=0,o=0;o<n;i++){let a=this.content[i],l=o+a.nodeSize;l>e&&((o<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,n-o-1))),r.push(a),s+=a.nodeSize),o=l}return new D(r,s)}cutByIndex(e,n){return e==n?D.empty:e==0&&n==this.content.length?this:new D(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let s=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return s[e]=n,new D(s,i)}addToStart(e){return new D([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new D(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];e(s,r,n),r+=s.nodeSize}}findDiffStart(e,n=0){return qO(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return KO(this,e,n,r)}findIndex(e){if(e==0)return qd(0,e);if(e==this.size)return qd(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let s=this.child(n),i=r+s.nodeSize;if(i>=e)return i==e?qd(n+1,i):qd(n,r);r=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return D.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new D(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return D.empty;let n,r=0;for(let s=0;s<e.length;s++){let i=e[s];r+=i.nodeSize,s&&i.isText&&e[s-1].sameMarkup(i)?(n||(n=e.slice(0,s)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new D(n||e,r)}static from(e){if(!e)return D.empty;if(e instanceof D)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new D([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}D.empty=new D([],0);const wg={index:0,offset:0};function qd(t,e){return wg.index=t,wg.offset=e,wg}function _h(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!_h(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!_h(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let He=class Rv{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let s=0;s<e.length;s++){let i=e[s];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,s));else{if(i.type.excludes(this.type))return e;!r&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&_h(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=r.create(n.attrs);return r.checkAttrs(s.attrs),s}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Rv.none;if(e instanceof Rv)return[e];let n=e.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}};He.none=[];class Ch extends Error{}class G{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=JO(this.content,e+this.openStart,n);return r&&new G(r,this.openStart,this.openEnd)}removeBetween(e,n){return new G(GO(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return G.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new G(D.fromJSON(e,n.content),r,s)}static maxOpen(e,n=!0){let r=0,s=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)s++;return new G(e,r,s)}}G.empty=new G(D.empty,0,0);function GO(t,e,n){let{index:r,offset:s}=t.findIndex(e),i=t.maybeChild(r),{index:o,offset:a}=t.findIndex(n);if(s==e||i.isText){if(a!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(r,i.copy(GO(i.content,e-s-1,n-s-1)))}function JO(t,e,n,r){let{index:s,offset:i}=t.findIndex(e),o=t.maybeChild(s);if(i==e||o.isText)return r&&!r.canReplace(s,s,n)?null:t.cut(0,e).append(n).append(t.cut(e));let a=JO(o.content,e-i-1,n,o);return a&&t.replaceChild(s,o.copy(a))}function K6(t,e,n){if(n.openStart>t.depth)throw new Ch("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Ch("Inconsistent open depths");return YO(t,e,n,0)}function YO(t,e,n,r){let s=t.index(r),i=t.node(r);if(s==e.index(r)&&r<t.depth-n.openStart){let o=YO(t,e,n,r+1);return i.copy(i.content.replaceChild(s,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let o=t.parent,a=o.content;return jo(o,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=G6(n,t);return jo(i,ZO(t,o,a,e,r))}else return jo(i,Th(t,e,r))}function QO(t,e){if(!e.type.compatibleContent(t.type))throw new Ch("Cannot join "+e.type.name+" onto "+t.type.name)}function jv(t,e,n){let r=t.node(n);return QO(r,e.node(n)),r}function Ro(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Uc(t,e,n,r){let s=(e||t).node(n),i=0,o=e?e.index(n):s.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(Ro(t.nodeAfter,r),i++));for(let a=i;a<o;a++)Ro(s.child(a),r);e&&e.depth==n&&e.textOffset&&Ro(e.nodeBefore,r)}function jo(t,e){return t.type.checkContent(e),t.copy(e)}function ZO(t,e,n,r,s){let i=t.depth>s&&jv(t,e,s+1),o=r.depth>s&&jv(n,r,s+1),a=[];return Uc(null,t,s,a),i&&o&&e.index(s)==n.index(s)?(QO(i,o),Ro(jo(i,ZO(t,e,n,r,s+1)),a)):(i&&Ro(jo(i,Th(t,e,s+1)),a),Uc(e,n,s,a),o&&Ro(jo(o,Th(n,r,s+1)),a)),Uc(r,null,s,a),new D(a)}function Th(t,e,n){let r=[];if(Uc(null,t,n,r),t.depth>n){let s=jv(t,e,n+1);Ro(jo(s,Th(t,e,n+1)),r)}return Uc(e,null,n,r),new D(r)}function G6(t,e){let n=e.depth-t.openStart,s=e.node(n).copy(t.content);for(let i=n-1;i>=0;i--)s=e.node(i).copy(D.from(s));return{start:s.resolveNoCache(t.openStart+n),end:s.resolveNoCache(s.content.size-t.openEnd-n)}}class Ou{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(n);return r?e.child(n).cut(r):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let i=0;i<e;i++)s+=r.child(i).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return He.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),s=e.maybeChild(n);if(!r){let a=r;r=s,s=a}let i=r.marks;for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!s||!i[o].isInSet(s.marks))&&(i=i[o--].removeFromSet(i));return i}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,s=e.parent.maybeChild(e.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!s||!r[i].isInSet(s.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Nh(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],s=0,i=n;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(i),c=i-l;if(r.push(o,a,s+l),!c||(o=o.child(a),o.isText))break;i=c-1,s+=l+1}return new Ou(n,r,i)}static resolveCached(e,n){let r=Yk.get(e);if(r)for(let i=0;i<r.elts.length;i++){let o=r.elts[i];if(o.pos==n)return o}else Yk.set(e,r=new J6);let s=r.elts[r.i]=Ou.resolve(e,n);return r.i=(r.i+1)%Y6,s}}class J6{constructor(){this.elts=[],this.i=0}}const Y6=12,Yk=new WeakMap;class Nh{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Q6=Object.create(null);let Ai=class Pv{constructor(e,n,r,s=He.none){this.type=e,this.attrs=n,this.marks=s,this.content=r||D.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,s=0){this.content.nodesBetween(e,n,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,s){return this.content.textBetween(e,n,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&_h(this.attrs,n||e.defaultAttrs||Q6)&&He.sameSet(this.marks,r||He.none)}copy(e=null){return e==this.content?this:new Pv(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Pv(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return G.empty;let s=this.resolve(e),i=this.resolve(n),o=r?0:s.sharedDepth(n),a=s.start(o),c=s.node(o).content.cut(s.pos-a,i.pos-a);return new G(c,s.depth-o,i.depth-o)}replace(e,n,r){return K6(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let s=this.content.child(n-1);return{node:s,index:n-1,offset:r-s.nodeSize}}resolve(e){return Ou.resolveCached(this,e)}resolveNoCache(e){return Ou.resolve(this,e)}rangeHasMark(e,n,r){let s=!1;return n>e&&this.nodesBetween(e,n,i=>(r.isInSet(i.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),XO(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=D.empty,s=0,i=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,s,i),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=s;l<i;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,s){if(s&&!this.type.allowsMarks(s))return!1;let i=this.contentMatchAt(e).matchType(r),o=i&&i.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=He.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!He.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let s=D.fromJSON(e,n.content),i=e.nodeType(n.type).create(n.attrs,s,r);return i.type.checkAttrs(i.attrs),i}};Ai.prototype.text=void 0;class Ah extends Ai{constructor(e,n,r,s){if(super(e,n,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):XO(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Ah(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Ah(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function XO(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Wo{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new Z6(e,n);if(r.next==null)return Wo.empty;let s=eR(r);r.next&&r.err("Unexpected trailing text");let i=iV(sV(s));return oV(i,r),i}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let s=this;for(let i=n;s&&i<r;i++)s=s.matchType(e.child(i).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let s=[this];function i(o,a){let l=o.matchFragment(e,r);if(l&&(!n||l.validEnd))return D.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:u,next:d}=o.next[c];if(!(u.isText||u.hasRequiredAttrs())&&s.indexOf(d)==-1){s.push(d);let f=i(d,a.concat(u));if(f)return f}}return null}return i(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),i=s.match;if(i.matchType(e)){let o=[];for(let a=s;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<i.next.length;o++){let{type:a,next:l}=i.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!s.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:s}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&n(r.next[s].next)}return n(this),e.map((r,s)=>{let i=s+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)i+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return i}).join(`
`)}}Wo.empty=new Wo(!0);class Z6{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function eR(t){let e=[];do e.push(X6(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function X6(t){let e=[];do e.push(eV(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function eV(t){let e=rV(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=tV(t,e);else break;return e}function Qk(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function tV(t,e){let n=Qk(t),r=n;return t.eat(",")&&(t.next!="}"?r=Qk(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function nV(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let s=[];for(let i in n){let o=n[i];o.isInGroup(e)&&s.push(o)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function rV(t){if(t.eat("(")){let e=eR(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=nV(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function sV(t){let e=[[]];return s(i(t,0),n()),e;function n(){return e.push([])-1}function r(o,a,l){let c={term:l,to:a};return e[o].push(c),c}function s(o,a){o.forEach(l=>l.to=a)}function i(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(i(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=i(o.exprs[l],a);if(l==o.exprs.length-1)return c;s(c,a=n())}else if(o.type=="star"){let l=n();return r(a,l),s(i(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=n();return s(i(o.expr,a),l),s(i(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(i(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let u=n();s(i(o.expr,l),u),l=u}if(o.max==-1)s(i(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let u=n();r(l,u),s(i(o.expr,l),u),l=u}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function tR(t,e){return e-t}function Zk(t,e){let n=[];return r(e),n.sort(tR);function r(s){let i=t[s];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(s);for(let o=0;o<i.length;o++){let{term:a,to:l}=i[o];!a&&n.indexOf(l)==-1&&r(l)}}}function iV(t){let e=Object.create(null);return n(Zk(t,0));function n(r){let s=[];r.forEach(o=>{t[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<s.length;u++)s[u][0]==a&&(c=s[u][1]);Zk(t,l).forEach(u=>{c||s.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let i=e[r.join(",")]=new Wo(r.indexOf(t.length-1)>-1);for(let o=0;o<s.length;o++){let a=s[o][1].sort(tR);i.next.push({type:s[o][0],next:e[a.join(",")]||n(a)})}return i}}function oV(t,e){for(let n=0,r=[t];n<r.length;n++){let s=r[n],i=!s.validEnd,o=[];for(let a=0;a<s.next.length;a++){let{type:l,next:c}=s.next[a];o.push(l.name),i&&!(l.isText||l.hasRequiredAttrs())&&(i=!1),r.indexOf(c)==-1&&r.push(c)}i&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function nR(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function rR(t,e){let n=Object.create(null);for(let r in t){let s=e&&e[r];if(s===void 0){let i=t[r];if(i.hasDefault)s=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=s}return n}function sR(t,e,n,r){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in t){let i=t[s];i.validate&&i.validate(e[s])}}function iR(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new lV(t,r,e[r]);return n}let Xk=class oR{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=iR(e,r.attrs),this.defaultAttrs=nR(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Wo.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:rR(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ai(this,this.computeAttrs(e),D.from(n),He.setFrom(r))}createChecked(e=null,n,r){return n=D.from(n),this.checkContent(n),new Ai(this,this.computeAttrs(e),n,He.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=D.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let s=this.contentMatch.matchFragment(n),i=s&&s.fillBefore(D.empty,!0);return i?new Ai(this,e,n.append(i),He.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){sR(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:He.none:e}static compile(e,n){let r=Object.create(null);e.forEach((i,o)=>r[i]=new oR(i,n,o));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function aV(t,e,n){let r=n.split("|");return s=>{let i=s===null?"null":typeof s;if(r.indexOf(i)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${i}`)}}class lV{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?aV(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Xp{constructor(e,n,r,s){this.name=e,this.rank=n,this.schema=r,this.spec=s,this.attrs=iR(e,s.attrs),this.excluded=null;let i=nR(this.attrs);this.instance=i?new He(this,i):null}create(e=null){return!e&&this.instance?this.instance:new He(this,rR(this.attrs,e))}static compile(e,n){let r=Object.create(null),s=0;return e.forEach((i,o)=>r[i]=new Xp(i,s++,n,o)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){sR(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class aR{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in e)n[s]=e[s];n.nodes=Dt.from(e.nodes),n.marks=Dt.from(e.marks||{}),this.nodes=Xk.compile(this.spec.nodes,this),this.marks=Xp.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let i=this.nodes[s],o=i.spec.content||"",a=i.spec.marks;if(i.contentMatch=r[o]||(r[o]=Wo.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=a=="_"?null:a?eS(this,a.split(" ")):a==""||!i.inlineContent?[]:null}for(let s in this.marks){let i=this.marks[s],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:eS(this,o.split(" "))}this.nodeFromJSON=s=>Ai.fromJSON(this,s),this.markFromJSON=s=>He.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Xk){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,s)}text(e,n){let r=this.nodes.text;return new Ah(r,r.defaultAttrs,e,He.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function eS(t,e){let n=[];for(let r=0;r<e.length;r++){let s=e[r],i=t.marks[s],o=i;if(i)n.push(i);else for(let a in t.marks){let l=t.marks[a];(s=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(s)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function cV(t){return t.tag!=null}function uV(t){return t.style!=null}class Oi{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(s=>{if(cV(s))this.tags.push(s);else if(uV(s)){let i=/[^=]*/.exec(s.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let i=e.nodes[s.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new nS(this,n,!1);return r.addAll(e,He.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new nS(this,n,!0);return r.addAll(e,He.none,n.from,n.to),G.maxOpen(r.finish())}matchTag(e,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(hV(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let o=i.getAttrs(e);if(o===!1)continue;i.attrs=o||void 0}return i}}}matchStyle(e,n,r,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let o=this.styles[i],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(o.getAttrs){let l=o.getAttrs(n);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let n=[];function r(s){let i=s.priority==null?50:s.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<i)break}n.splice(o,0,s)}for(let s in e.marks){let i=e.marks[s].spec.parseDOM;i&&i.forEach(o=>{r(o=rS(o)),o.mark||o.ignore||o.clearMark||(o.mark=s)})}for(let s in e.nodes){let i=e.nodes[s].spec.parseDOM;i&&i.forEach(o=>{r(o=rS(o)),o.node||o.ignore||o.mark||(o.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Oi(e,Oi.schemaRules(e)))}}const lR={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},dV={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},cR={ol:!0,ul:!0},Ru=1,Mv=2,Vc=4;function tS(t,e,n){return e!=null?(e?Ru:0)|(e==="full"?Mv:0):t&&t.whitespace=="pre"?Ru|Mv:n&~Vc}class Kd{constructor(e,n,r,s,i,o){this.type=e,this.attrs=n,this.marks=r,this.solid=s,this.options=o,this.content=[],this.activeMarks=He.none,this.match=i||(o&Vc?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(D.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Ru)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let n=D.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(D.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!lR.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class nS{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=n.topNode,i,o=tS(null,n.preserveWhitespace,0)|(r?Vc:0);s?i=new Kd(s.type,s.attrs,He.none,!0,n.topMatch||s.type.contentMatch,o):r?i=new Kd(null,null,He.none,!0,null,o):i=new Kd(e.schema.topNodeType,null,He.none,!0,null,o),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,s=this.top,i=s.options&Mv?"full":this.localPreserveWS||(s.options&Ru)>0,{schema:o}=this.parser;if(i==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i)if(i==="full")r=r.replace(/\r\n?/g,`
`);else if(o.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(o.linebreakReplacement.create())){let a=r.split(/\r?\n|\r/);for(let l=0;l<a.length;l++)l&&this.insertNode(o.linebreakReplacement.create(),n,!0),a[l]&&this.insertNode(o.text(a[l]),n,!/\S/.test(a[l]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=s.content[s.content.length-1],l=e.previousSibling;(!a||l&&l.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(o.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let s=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),a;cR.hasOwnProperty(o)&&this.parser.normalizeLists&&fV(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,r));e:if(l?l.ignore:dV.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,u=this.needsBlock;if(lR.hasOwnProperty(o))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),c=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let d=l&&l.skip?n:this.readStyles(e,n);d&&this.addAll(e,d),c&&this.sync(i),this.needsBlock=u}else{let c=this.readStyles(e,n);c&&this.addElementByRule(e,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=s}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let i=this.parser.matchedStyles[s],o=r.getPropertyValue(i);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(i,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,r,s){let i,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let l=this.enter(o,n.attrs||null,r,n.preserveWhitespace);l&&(i=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(s)this.addElement(e,r,s);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}i&&this.sync(a)&&this.open--}addAll(e,n,r,s){let i=r||0;for(let o=r?e.childNodes[r]:e.firstChild,a=s==null?null:e.childNodes[s];o!=a;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o,n);this.findAtPoint(e,i)}findPlace(e,n,r){let s,i;for(let o=this.open,a=0;o>=0;o--){let l=this.nodes[o],c=l.findWrapping(e);if(c&&(!s||s.length>c.length+a)&&(s=c,i=l,!c.length))break;if(l.solid){if(r)break;a+=2}}if(!s)return null;this.sync(i);for(let o=0;o<s.length;o++)n=this.enterInner(s[o],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let s=this.findPlace(e,n,r);if(s){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let o=He.none;for(let a of s.concat(e.marks))(i.type?i.type.allowsMarkType(a.type):sS(a.type,e.type))&&(o=a.addToSet(o));return i.content.push(e.mark(o)),!0}return!1}enter(e,n,r,s){let i=this.findPlace(e.create(n),r,!1);return i&&(i=this.enterInner(e,n,r,!0,s)),i}enterInner(e,n,r,s=!1,i){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=tS(e,i,o.options);o.options&Vc&&o.content.length==0&&(a|=Vc);let l=He.none;return r=r.filter(c=>(o.type?o.type.allowsMarkType(c.type):sS(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Kd(e,n,l,s,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Ru)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(s?0:1),o=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=i;l--)if(o(a-1,l))return!0;return!1}else{let u=l>0||l==0&&s?this.nodes[l].type:r&&l>=i?r.node(l-i).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function fV(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&cR.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function hV(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function rS(t){let e={};for(let n in t)e[n]=t[n];return e}function sS(t,e){let n=e.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(t))continue;let i=[],o=a=>{i.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||i.indexOf(u)<0&&o(u))return!0}};if(o(s.contentMatch))return!0}}class ia{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=kg(n).createDocumentFragment());let s=r,i=[];return e.forEach(o=>{if(i.length||o.marks.length){let a=0,l=0;for(;a<i.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(i[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<i.length;)s=i.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],u=this.serializeMark(c,o.isInline,n);u&&(i.push([c,s]),s.appendChild(u.dom),s=u.contentDOM||u.dom)}}s.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:s}=Tf(kg(n),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let i=this.serializeMark(e.marks[s],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(e,n,r={}){let s=this.marks[e.type.name];return s&&Tf(kg(r),s(e,n),null,e.attrs)}static renderSpec(e,n,r=null,s){return Tf(e,n,r,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ia(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=iS(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return iS(e.marks)}}function iS(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function kg(t){return t.document||window.document}const oS=new WeakMap;function pV(t){let e=oS.get(t);return e===void 0&&oS.set(t,e=mV(t)),e}function mV(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let s=0;s<r.length;s++)n(r[s]);else for(let s in r)n(r[s])}return n(t),e}function Tf(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],i;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=pV(r))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=s.indexOf(" ");o>0&&(n=s.slice(0,o),s=s.slice(o+1));let a,l=n?t.createElementNS(n,s):t.createElement(s),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let f=d.indexOf(" ");f>0?l.setAttributeNS(d.slice(0,f),d.slice(f+1),c[d]):d=="style"&&l.style?l.style.cssText=c[d]:l.setAttribute(d,c[d])}}for(let d=u;d<e.length;d++){let f=e[d];if(f===0){if(d<e.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:p,contentDOM:g}=Tf(t,f,n,r);if(l.appendChild(p),g){if(a)throw new RangeError("Multiple content holes");a=g}}}return{dom:l,contentDOM:a}}const uR=65535,dR=Math.pow(2,16);function gV(t,e){return t+e*dR}function aS(t){return t&uR}function yV(t){return(t-(t&uR))/dR}const fR=1,hR=2,Nf=4,pR=8;class Iv{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&pR)>0}get deletedBefore(){return(this.delInfo&(fR|Nf))>0}get deletedAfter(){return(this.delInfo&(hR|Nf))>0}get deletedAcross(){return(this.delInfo&Nf)>0}}class Mn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Mn.empty)return Mn.empty}recover(e){let n=0,r=aS(e);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+yV(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let s=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?s:0);if(l>e)break;let c=this.ranges[a+i],u=this.ranges[a+o],d=l+c;if(e<=d){let f=c?e==l?-1:e==d?1:n:n,p=l+s+(f<0?0:u);if(r)return p;let g=e==(n<0?l:d)?null:gV(a/3,e-l),m=e==l?hR:e==d?fR:Nf;return(n<0?e!=l:e!=d)&&(m|=pR),new Iv(p,m,g)}s+=u-c}return r?e+s:new Iv(e+s,0,null)}touches(e,n){let r=0,s=aS(n),i=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+i],u=l+c;if(e<=u&&a==s*3)return!0;r+=this.ranges[a+o]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let o=this.ranges[s],a=o-(this.inverted?i:0),l=o+(this.inverted?0:i),c=this.ranges[s+n],u=this.ranges[s+r];e(a,a+c,l,l+u),i+=u-c}}invert(){return new Mn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Mn.empty:new Mn(e<0?[0,-e,0]:[0,0,e])}}Mn.empty=new Mn([]);class ju{constructor(e,n,r=0,s=e?e.length:0){this.mirror=n,this.from=r,this.to=s,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new ju(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let s=e.getMirror(n);this.appendMap(e._maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e._maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let e=new ju;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let s=0;for(let i=this.from;i<this.to;i++){let o=this._maps[i],a=o.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(i);if(l!=null&&l>i&&l<this.to){i=l,e=this._maps[l].recover(a.recover);continue}}s|=a.delInfo,e=a.pos}return r?e:new Iv(e,s,null)}}const Sg=Object.create(null);class Zt{getMap(){return Mn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Sg[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Sg)throw new RangeError("Duplicate use of step JSON ID "+e);return Sg[e]=n,n.prototype.jsonID=e,n}}class vt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new vt(e,null)}static fail(e){return new vt(null,e)}static fromReplace(e,n,r,s){try{return vt.ok(e.replace(n,r,s))}catch(i){if(i instanceof Ch)return vt.fail(i.message);throw i}}}function nb(t,e,n){let r=[];for(let s=0;s<t.childCount;s++){let i=t.child(s);i.content.size&&(i=i.copy(nb(i.content,e,i))),i.isInline&&(i=e(i,n,s)),r.push(i)}return D.fromArray(r)}class mi extends Zt{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),i=new G(nb(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),s),n.openStart,n.openEnd);return vt.fromReplace(e,this.from,this.to,i)}invert(){return new Tr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new mi(n.pos,r.pos,this.mark)}merge(e){return e instanceof mi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new mi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new mi(n.from,n.to,e.markFromJSON(n.mark))}}Zt.jsonID("addMark",mi);class Tr extends Zt{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new G(nb(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return vt.fromReplace(e,this.from,this.to,r)}invert(){return new mi(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Tr(n.pos,r.pos,this.mark)}merge(e){return e instanceof Tr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Tr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Tr(n.from,n.to,e.markFromJSON(n.mark))}}Zt.jsonID("removeMark",Tr);class gi extends Zt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return vt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return vt.fromReplace(e,this.pos,this.pos+1,new G(D.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new gi(this.pos,n.marks[s]);return new gi(this.pos,this.mark)}}return new qo(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new gi(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new gi(n.pos,e.markFromJSON(n.mark))}}Zt.jsonID("addNodeMark",gi);class qo extends Zt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return vt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return vt.fromReplace(e,this.pos,this.pos+1,new G(D.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new gi(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new qo(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new qo(n.pos,e.markFromJSON(n.mark))}}Zt.jsonID("removeNodeMark",qo);class Tt extends Zt{constructor(e,n,r,s=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=s}apply(e){return this.structure&&Dv(e,this.from,this.to)?vt.fail("Structure replace would overwrite content"):vt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Mn([this.from,this.to-this.from,this.slice.size])}invert(e){return new Tt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Tt(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Tt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?G.empty:new G(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Tt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?G.empty:new G(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Tt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Tt(n.from,n.to,G.fromJSON(e,n.slice),!!n.structure)}}Zt.jsonID("replace",Tt);class Ot extends Zt{constructor(e,n,r,s,i,o,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=i,this.insert=o,this.structure=a}apply(e){if(this.structure&&(Dv(e,this.from,this.gapFrom)||Dv(e,this.gapTo,this.to)))return vt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return vt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?vt.fromReplace(e,this.from,this.to,r):vt.fail("Content does not fit in gap")}getMap(){return new Mn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Ot(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||i>r.pos?null:new Ot(n.pos,r.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ot(n.from,n.to,n.gapFrom,n.gapTo,G.fromJSON(e,n.slice),n.insert,!!n.structure)}}Zt.jsonID("replaceAround",Ot);function Dv(t,e,n){let r=t.resolve(e),s=n-e,i=r.depth;for(;s>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,s--;if(s>0){let o=r.node(i).maybeChild(r.indexAfter(i));for(;s>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,s--}}return!1}function vV(t,e,n,r){let s=[],i=[],o,a;t.doc.nodesBetween(e,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let f=Math.max(c,e),p=Math.min(c+l.nodeSize,n),g=r.addToSet(d);for(let m=0;m<d.length;m++)d[m].isInSet(g)||(o&&o.to==f&&o.mark.eq(d[m])?o.to=p:s.push(o=new Tr(f,p,d[m])));a&&a.to==f?a.to=p:i.push(a=new mi(f,p,r))}}),s.forEach(l=>t.step(l)),i.forEach(l=>t.step(l))}function xV(t,e,n,r){let s=[],i=0;t.doc.nodesBetween(e,n,(o,a)=>{if(!o.isInline)return;i++;let l=null;if(r instanceof Xp){let c=o.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],f;for(let p=0;p<s.length;p++){let g=s[p];g.step==i-1&&d.eq(s[p].style)&&(f=g)}f?(f.to=c,f.step=i):s.push({style:d,from:Math.max(a,e),to:c,step:i})}}}),s.forEach(o=>t.step(new Tr(o.from,o.to,o.style)))}function rb(t,e,n,r=n.contentMatch,s=!0){let i=t.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<i.childCount;l++){let c=i.child(l),u=a+c.nodeSize,d=r.matchType(c.type);if(!d)o.push(new Tt(a,u,G.empty));else{r=d;for(let f=0;f<c.marks.length;f++)n.allowsMarkType(c.marks[f].type)||t.step(new Tr(a,u,c.marks[f]));if(s&&c.isText&&n.whitespace!="pre"){let f,p=/\r?\n|\r/g,g;for(;f=p.exec(c.text);)g||(g=new G(D.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),o.push(new Tt(a+f.index,a+f.index+f[0].length,g))}}a=u}if(!r.validEnd){let l=r.fillBefore(D.empty,!0);t.replace(a,a,new G(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function bV(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Ul(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth,s=0,i=0;;--r){let o=t.$from.node(r),a=t.$from.index(r)+s,l=t.$to.indexAfter(r)-i;if(r<t.depth&&o.canReplace(a,l,n))return r;if(r==0||o.type.spec.isolating||!bV(o,a,l))break;a&&(s=1),l<o.childCount&&(i=1)}return null}function wV(t,e,n){let{$from:r,$to:s,depth:i}=e,o=r.before(i+1),a=s.after(i+1),l=o,c=a,u=D.empty,d=0;for(let g=i,m=!1;g>n;g--)m||r.index(g)>0?(m=!0,u=D.from(r.node(g).copy(u)),d++):l--;let f=D.empty,p=0;for(let g=i,m=!1;g>n;g--)m||s.after(g+1)<s.end(g)?(m=!0,f=D.from(s.node(g).copy(f)),p++):c++;t.step(new Ot(l,c,o,a,new G(u.append(f),d,p),u.size-d,!0))}function sb(t,e,n=null,r=t){let s=kV(t,e),i=s&&SV(r,e);return i?s.map(lS).concat({type:e,attrs:n}).concat(i.map(lS)):null}function lS(t){return{type:t,attrs:null}}function kV(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;let o=i.length?i[0]:e;return n.canReplaceWith(r,s,o)?i:null}function SV(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.child(r),o=e.contentMatch.findWrapping(i.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let c=r;l&&c<s;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:o}function EV(t,e,n){let r=D.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=D.from(n[o].type.create(n[o].attrs,r))}let s=e.start,i=e.end;t.step(new Ot(s,i,s,i,new G(r,0,0),n.length,!0))}function _V(t,e,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,n,(o,a)=>{let l=typeof s=="function"?s(o):s;if(o.isTextblock&&!o.hasMarkup(r,l)&&CV(t.doc,t.mapping.slice(i).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let p=r.whitespace=="pre",g=!!r.contentMatch.matchType(r.schema.linebreakReplacement);p&&!g?c=!1:!p&&g&&(c=!0)}c===!1&&gR(t,o,a,i),rb(t,t.mapping.slice(i).map(a,1),r,void 0,c===null);let u=t.mapping.slice(i),d=u.map(a,1),f=u.map(a+o.nodeSize,1);return t.step(new Ot(d,f,d+1,f-1,new G(D.from(r.create(l,null,o.marks)),0,0),1,!0)),c===!0&&mR(t,o,a,i),!1}})}function mR(t,e,n,r){e.forEach((s,i)=>{if(s.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(s.text);){let l=t.mapping.slice(r).map(n+1+i+o.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function gR(t,e,n,r){e.forEach((s,i)=>{if(s.type==s.type.schema.linebreakReplacement){let o=t.mapping.slice(r).map(n+1+i);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function CV(t,e,n){let r=t.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}function TV(t,e,n,r,s){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let o=n.create(r,null,s||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,o);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Ot(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new G(D.from(o),0,0),1,!0))}function Qa(t,e,n=1,r){let s=t.resolve(e),i=s.depth-n,o=r&&r[r.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!o.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let c=s.depth-1,u=n-2;c>i;c--,u--){let d=s.node(c),f=s.index(c);if(d.type.spec.isolating)return!1;let p=d.content.cutByIndex(f,d.childCount),g=r&&r[u+1];g&&(p=p.replaceChild(0,g.type.create(g.attrs)));let m=r&&r[u]||d;if(!d.canReplace(f+1,d.childCount)||!m.type.validContent(p))return!1}let a=s.indexAfter(i),l=r&&r[0];return s.node(i).canReplaceWith(a,a,l?l.type:s.node(i+1).type)}function NV(t,e,n=1,r){let s=t.doc.resolve(e),i=D.empty,o=D.empty;for(let a=s.depth,l=s.depth-n,c=n-1;a>l;a--,c--){i=D.from(s.node(a).copy(i));let u=r&&r[c];o=D.from(u?u.type.create(u.attrs,o):s.node(a).copy(o))}t.step(new Tt(e,e,new G(i.append(o),n,n),!0))}function Gi(t,e){let n=t.resolve(e),r=n.index();return yR(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function AV(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let s=0;s<e.childCount;s++){let i=e.child(s),o=i.type==r?t.type.schema.nodes.text:i.type;if(n=n.matchType(o),!n||!t.type.allowsMarks(i.marks))return!1}return n.validEnd}function yR(t,e){return!!(t&&e&&!t.isLeaf&&AV(t,e))}function em(t,e,n=-1){let r=t.resolve(e);for(let s=r.depth;;s--){let i,o,a=r.index(s);if(s==r.depth?(i=r.nodeBefore,o=r.nodeAfter):n>0?(i=r.node(s+1),a++,o=r.node(s).maybeChild(a)):(i=r.node(s).maybeChild(a-1),o=r.node(s+1)),i&&!i.isTextblock&&yR(i,o)&&r.node(s).canReplace(a,a+1))return e;if(s==0)break;e=n<0?r.before(s):r.after(s)}}function OV(t,e,n){let r=null,{linebreakReplacement:s}=t.doc.type.schema,i=t.doc.resolve(e-n),o=i.node().type;if(s&&o.inlineContent){let u=o.whitespace=="pre",d=!!o.contentMatch.matchType(s);u&&!d?r=!1:!u&&d&&(r=!0)}let a=t.steps.length;if(r===!1){let u=t.doc.resolve(e+n);gR(t,u.node(),u.before(),a)}o.inlineContent&&rb(t,e+n-1,o,i.node().contentMatchAt(i.index()),r==null);let l=t.mapping.slice(a),c=l.map(e-n);if(t.step(new Tt(c,l.map(e+n,-1),G.empty,!0)),r===!0){let u=t.doc.resolve(c);mR(t,u.node(),u.before(),t.steps.length)}return t}function RV(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let i=r.index(s);if(r.node(s).canReplaceWith(i,i,n))return r.before(s+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let i=r.indexAfter(s);if(r.node(s).canReplaceWith(i,i,n))return r.after(s+1);if(i<r.node(s).childCount)return null}return null}function vR(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let i=0;i<n.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),c=r.node(o),u=!1;if(i==1)u=c.canReplace(l,l,s);else{let d=c.contentMatchAt(l).findWrapping(s.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function tm(t,e,n=e,r=G.empty){if(e==n&&!r.size)return null;let s=t.resolve(e),i=t.resolve(n);return xR(s,i,r)?new Tt(e,n,r):new jV(s,i,r).fit()}function xR(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class jV{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=D.empty;for(let s=0;s<=e.depth;s++){let i=e.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=D.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let i=this.placed,o=r.depth,a=s.depth;for(;o&&a&&i.childCount==1;)i=i.firstChild.content,o--,a--;let l=new G(i,o,a);return e>-1?new Ot(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new Tt(r.pos,s.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let i=n.firstChild;if(n.childCount>1&&(s=0),i.type.spec.isolating&&s<=r){e=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let s,i=null;r?(i=Eg(this.unplaced.content,r-1).firstChild,s=i.content):s=this.unplaced.content;let o=s.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(n==1&&(o?c.matchType(o.type)||(d=c.fillBefore(D.from(o),!1)):i&&l.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:a,parent:i,inject:d};if(n==2&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:i,wrap:u};if(i&&c.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=Eg(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new G(e,n+1,Math.max(r,s.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=Eg(e,n);if(s.childCount<=1&&n>0){let i=e.size-n<=n+s.size;this.unplaced=new G(Sc(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new G(Sc(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:s,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let m=0;m<i.length;m++)this.openFrontierNode(i[m]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-e,c=0,u=[],{match:d,type:f}=this.frontier[n];if(s){for(let m=0;m<s.childCount;m++)u.push(s.child(m));d=d.matchFragment(s)}let p=a.size+e-(o.content.size-o.openEnd);for(;c<a.childCount;){let m=a.child(c),y=d.matchType(m.type);if(!y)break;c++,(c>1||l==0||m.content.size)&&(d=y,u.push(bR(m.mark(f.allowedMarks(m.marks)),c==1?l:0,c==a.childCount?p:-1)))}let g=c==a.childCount;g||(p=-1),this.placed=Ec(this.placed,n,D.from(u)),this.frontier[n].match=d,g&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,y=a;m<p;m++){let v=y.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),y=v.content}this.unplaced=g?e==0?G.empty:new G(Sc(o.content,e-1,1),e-1,p<0?o.openEnd:e-1):new G(Sc(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!_g(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=_g(e,n,s,r,i);if(o){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=_g(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:o,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Ec(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let s=e.node(r),i=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,i)}return e}openFrontierNode(e,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=Ec(this.placed,this.depth,D.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(D.empty,!0);n.childCount&&(this.placed=Ec(this.placed,this.frontier.length,n))}}function Sc(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Sc(t.firstChild.content,e-1,n)))}function Ec(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Ec(t.lastChild.content,e-1,n)))}function Eg(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function bR(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,bR(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(D.empty,!0)))),t.copy(r)}function _g(t,e,n,r,s){let i=t.node(e),o=s?t.indexAfter(e):t.index(e);if(o==i.childCount&&!n.compatibleContent(i.type))return null;let a=r.fillBefore(i.content,!0,o);return a&&!PV(n,i.content,o)?a:null}function PV(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function MV(t){return t.spec.defining||t.spec.definingForContent}function IV(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),i=t.doc.resolve(n);if(xR(s,i,r))return t.step(new Tt(e,n,r));let o=kR(s,i);o[o.length-1]==0&&o.pop();let a=-(s.depth+1);o.unshift(a);for(let f=s.depth,p=s.pos-1;f>0;f--,p--){let g=s.node(f).type.spec;if(g.defining||g.definingAsContext||g.isolating)break;o.indexOf(f)>-1?a=f:s.before(f)==p&&o.splice(1,0,-f)}let l=o.indexOf(a),c=[],u=r.openStart;for(let f=r.content,p=0;;p++){let g=f.firstChild;if(c.push(g),p==r.openStart)break;f=g.content}for(let f=u-1;f>=0;f--){let p=c[f],g=MV(p.type);if(g&&!p.sameMarkup(s.node(Math.abs(a)-1)))u=f;else if(g||!p.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let p=(f+u+1)%(r.openStart+1),g=c[p];if(g)for(let m=0;m<o.length;m++){let y=o[(m+l)%o.length],v=!0;y<0&&(v=!1,y=-y);let x=s.node(y-1),w=s.index(y-1);if(x.canReplaceWith(w,w,g.type,g.marks))return t.replace(s.before(y),v?i.after(y):n,new G(wR(r.content,0,r.openStart,p),p,r.openEnd))}}let d=t.steps.length;for(let f=o.length-1;f>=0&&(t.replace(e,n,r),!(t.steps.length>d));f--){let p=o[f];p<0||(e=s.before(p),n=i.after(p))}}function wR(t,e,n,r,s){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(wR(i.content,e+1,n,r,i)))}if(e>r){let i=s.contentMatchAt(0),o=i.fillBefore(t).append(t);t=o.append(i.matchFragment(o).fillBefore(D.empty,!0))}return t}function DV(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=RV(t.doc,e,r.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new G(D.from(r),0,0))}function LV(t,e,n){let r=t.doc.resolve(e),s=t.doc.resolve(n),i=kR(r,s);for(let o=0;o<i.length;o++){let a=i[o],l=o==i.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),s.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),s.indexAfter(a-1))))return t.delete(r.before(a),s.after(a))}for(let o=1;o<=r.depth&&o<=s.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&s.end(o)-n!=s.depth-o&&r.start(o-1)==s.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),s.index(o-1)))return t.delete(r.before(o),n);t.delete(e,n)}function kR(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let s=r;s>=0;s--){let i=t.start(s);if(i<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(i==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==i-1)&&n.push(s)}return n}class Za extends Zt{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return vt.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return vt.fromReplace(e,this.pos,this.pos+1,new G(D.from(s),0,n.isLeaf?0:1))}getMap(){return Mn.empty}invert(e){return new Za(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Za(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Za(n.pos,n.attr,n.value)}}Zt.jsonID("attr",Za);class Pu extends Zt{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return vt.ok(r)}getMap(){return Mn.empty}invert(e){return new Pu(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Pu(n.attr,n.value)}}Zt.jsonID("docAttr",Pu);let Cl=class extends Error{};Cl=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Cl.prototype=Object.create(Error.prototype);Cl.prototype.constructor=Cl;Cl.prototype.name="TransformError";class SR{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new ju}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Cl(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=G.empty){let s=tm(this.doc,e,n,r);return s&&this.step(s),this}replaceWith(e,n,r){return this.replace(e,n,new G(D.from(r),0,0))}delete(e,n){return this.replace(e,n,G.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return IV(this,e,n,r),this}replaceRangeWith(e,n,r){return DV(this,e,n,r),this}deleteRange(e,n){return LV(this,e,n),this}lift(e,n){return wV(this,e,n),this}join(e,n=1){return OV(this,e,n),this}wrap(e,n){return EV(this,e,n),this}setBlockType(e,n=e,r,s=null){return _V(this,e,n,r,s),this}setNodeMarkup(e,n,r=null,s){return TV(this,e,n,r,s),this}setNodeAttribute(e,n,r){return this.step(new Za(e,n,r)),this}setDocAttribute(e,n){return this.step(new Pu(e,n)),this}addNodeMark(e,n){return this.step(new gi(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof He)n.isInSet(r.marks)&&this.step(new qo(e,n));else{let s=r.marks,i,o=[];for(;i=n.isInSet(s);)o.push(new qo(e,i)),s=i.removeFromSet(s);for(let a=o.length-1;a>=0;a--)this.step(o[a])}return this}split(e,n=1,r){return NV(this,e,n,r),this}addMark(e,n,r){return vV(this,e,n,r),this}removeMark(e,n,r){return xV(this,e,n,r),this}clearIncompatible(e,n,r){return rb(this,e,n,r),this}}const Cg=Object.create(null);class Ee{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new $V(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=G.empty){let r=n.content.lastChild,s=null;for(let a=0;a<n.openEnd;a++)s=r,r=r.lastChild;let i=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],u=e.mapping.slice(i);e.replaceRange(u.map(l.pos),u.map(c.pos),a?G.empty:n),a==0&&dS(e,i,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:o,$to:a}=s[i],l=e.mapping.slice(r),c=l.map(o.pos),u=l.map(a.pos);i?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),dS(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let s=e.parent.inlineContent?new me(e):Ea(e.node(0),e.parent,e.pos,e.index(),n,r);if(s)return s;for(let i=e.depth-1;i>=0;i--){let o=n<0?Ea(e.node(0),e.node(i),e.before(i+1),e.index(i),n,r):Ea(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,r);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new nr(e.node(0))}static atStart(e){return Ea(e,e,0,0,1)||new nr(e)}static atEnd(e){return Ea(e,e,e.content.size,e.childCount,-1)||new nr(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Cg[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Cg)throw new RangeError("Duplicate use of selection JSON ID "+e);return Cg[e]=n,n.prototype.jsonID=e,n}getBookmark(){return me.between(this.$anchor,this.$head).getBookmark()}}Ee.prototype.visible=!0;class $V{constructor(e,n){this.$from=e,this.$to=n}}let cS=!1;function uS(t){!cS&&!t.parent.inlineContent&&(cS=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class me extends Ee{constructor(e,n=e){uS(e),uS(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Ee.near(r);let s=e.resolve(n.map(this.anchor));return new me(s.parent.inlineContent?s:r,r)}replace(e,n=G.empty){if(super.replace(e,n),n==G.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof me&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new nm(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new me(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let s=e.resolve(n);return new this(s,r==n?s:e.resolve(r))}static between(e,n,r){let s=e.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let i=Ee.findFrom(n,r,!0)||Ee.findFrom(n,-r,!0);if(i)n=i.$head;else return Ee.near(n,r)}return e.parent.inlineContent||(s==0?e=n:(e=(Ee.findFrom(e,-r,!0)||Ee.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new me(e,n)}}Ee.jsonID("text",me);class nm{constructor(e,n){this.anchor=e,this.head=n}map(e){return new nm(e.map(this.anchor),e.map(this.head))}resolve(e){return me.between(e.resolve(this.anchor),e.resolve(this.head))}}class ae extends Ee{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),i=e.resolve(s);return r?Ee.near(i):new ae(i)}content(){return new G(D.from(this.node),0,0)}eq(e){return e instanceof ae&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new ib(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ae(e.resolve(n.anchor))}static create(e,n){return new ae(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ae.prototype.visible=!1;Ee.jsonID("node",ae);class ib{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new nm(r,r):new ib(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&ae.isSelectable(r)?new ae(n):Ee.near(n)}}class nr extends Ee{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=G.empty){if(n==G.empty){e.delete(0,e.doc.content.size);let r=Ee.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new nr(e)}map(e){return new nr(e)}eq(e){return e instanceof nr}getBookmark(){return zV}}Ee.jsonID("all",nr);const zV={map(){return this},resolve(t){return new nr(t)}};function Ea(t,e,n,r,s,i=!1){if(e.inlineContent)return me.create(t,n);for(let o=r-(s>0?0:1);s>0?o<e.childCount:o>=0;o+=s){let a=e.child(o);if(a.isAtom){if(!i&&ae.isSelectable(a))return ae.create(t,n-(s<0?a.nodeSize:0))}else{let l=Ea(t,a,n+s,s<0?a.childCount:0,s,i);if(l)return l}n+=a.nodeSize*s}return null}function dS(t,e,n){let r=t.steps.length-1;if(r<e)return;let s=t.steps[r];if(!(s instanceof Tt||s instanceof Ot))return;let i=t.mapping.maps[r],o;i.forEach((a,l,c,u)=>{o==null&&(o=u)}),t.setSelection(Ee.near(t.doc.resolve(o),n))}const fS=1,Gd=2,hS=4;class BV extends SR{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|fS)&~Gd,this.storedMarks=null,this}get selectionSet(){return(this.updated&fS)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Gd,this}ensureMarks(e){return He.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Gd)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Gd,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||He.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),!e)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let o=this.doc.resolve(n);i=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,s.text(e,i)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(Ee.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=hS,this}get scrolledIntoView(){return(this.updated&hS)>0}}function pS(t,e){return!e||!t?t:t.bind(e)}class _c{constructor(e,n,r){this.name=e,this.init=pS(n.init,r),this.apply=pS(n.apply,r)}}const FV=[new _c("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new _c("selection",{init(t,e){return t.selection||Ee.atStart(e.doc)},apply(t){return t.selection}}),new _c("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new _c("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Tg{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=FV.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new _c(r.key,r.spec.state,r))})}}class Ba{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),s=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=s?s[o].n:0,c=s?s[o].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",e),!s){s=[];for(let d=0;d<this.config.plugins.length;d++)s.push(d<o?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),i=!0}s&&(s[o]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Ba(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let i=r[s];n[i.name]=i.apply(e,this[i.name],this,n)}return n}get tr(){return new BV(this)}static create(e){let n=new Tg(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Ba(n);for(let s=0;s<n.fields.length;s++)r[n.fields[s].name]=n.fields[s].init(e,r);return r}reconfigure(e){let n=new Tg(this.schema,e.plugins),r=n.fields,s=new Ba(n);for(let i=0;i<r.length;i++){let o=r[i].name;s[o]=this.hasOwnProperty(o)?this[o]:r[i].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],i=s.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new Tg(e.schema,e.plugins),i=new Ba(s);return s.fields.forEach(o=>{if(o.name=="doc")i.doc=Ai.fromJSON(e.schema,n.doc);else if(o.name=="selection")i.selection=Ee.fromJSON(i.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){i[o.name]=c.fromJSON.call(l,e,n[a],i);return}}i[o.name]=o.init(e,i)}}),i}}function ER(t,e,n){for(let r in t){let s=t[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=ER(s,e,{})),n[r]=s}return n}class ot{constructor(e){this.spec=e,this.props={},e.props&&ER(e.props,this,this.props),this.key=e.key?e.key.key:_R("plugin")}getState(e){return e[this.key]}}const Ng=Object.create(null);function _R(t){return t in Ng?t+"$"+ ++Ng[t]:(Ng[t]=0,t+"$")}class _t{constructor(e="key"){this.key=_R(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const UV=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function CR(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const VV=(t,e,n)=>{let r=CR(t,n);if(!r)return!1;let s=ob(r);if(!s){let o=r.blockRange(),a=o&&Ul(o);return a==null?!1:(e&&e(t.tr.lift(o,a).scrollIntoView()),!0)}let i=s.nodeBefore;if(OR(t,s,e,-1))return!0;if(r.parent.content.size==0&&(Tl(i,"end")||ae.isSelectable(i)))for(let o=r.depth;;o--){let a=tm(t.doc,r.before(o),r.after(o),G.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(Tl(i,"end")?Ee.findFrom(l.doc.resolve(l.mapping.map(s.pos,-1)),-1):ae.create(l.doc,s.pos-i.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1},HV=(t,e,n)=>{let r=CR(t,n);if(!r)return!1;let s=ob(r);return s?TR(t,s,e):!1},WV=(t,e,n)=>{let r=NR(t,n);if(!r)return!1;let s=ab(r);return s?TR(t,s,e):!1};function TR(t,e,n){let r=e.nodeBefore,s=r,i=e.pos-1;for(;!s.isTextblock;i--){if(s.type.spec.isolating)return!1;let u=s.lastChild;if(!u)return!1;s=u}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=tm(t.doc,i,l,G.empty);if(!c||c.from!=i||c instanceof Tt&&c.slice.size>=l-i)return!1;if(n){let u=t.tr.step(c);u.setSelection(me.create(u.doc,i)),n(u.scrollIntoView())}return!0}function Tl(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const qV=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;i=ob(r)}let o=i&&i.nodeBefore;return!o||!ae.isSelectable(o)?!1:(e&&e(t.tr.setSelection(ae.create(t.doc,i.pos-o.nodeSize)).scrollIntoView()),!0)};function ob(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function NR(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const KV=(t,e,n)=>{let r=NR(t,n);if(!r)return!1;let s=ab(r);if(!s)return!1;let i=s.nodeAfter;if(OR(t,s,e,1))return!0;if(r.parent.content.size==0&&(Tl(i,"start")||ae.isSelectable(i))){let o=tm(t.doc,r.before(),r.after(),G.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(Tl(i,"start")?Ee.findFrom(a.doc.resolve(a.mapping.map(s.pos)),1):ae.create(a.doc,a.mapping.map(s.pos))),e(a.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},GV=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;i=ab(r)}let o=i&&i.nodeAfter;return!o||!ae.isSelectable(o)?!1:(e&&e(t.tr.setSelection(ae.create(t.doc,i.pos)).scrollIntoView()),!0)};function ab(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const JV=(t,e)=>{let n=t.selection,r=n instanceof ae,s;if(r){if(n.node.isTextblock||!Gi(t.doc,n.from))return!1;s=n.from}else if(s=em(t.doc,n.from,-1),s==null)return!1;if(e){let i=t.tr.join(s);r&&i.setSelection(ae.create(i.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},YV=(t,e)=>{let n=t.selection,r;if(n instanceof ae){if(n.node.isTextblock||!Gi(t.doc,n.to))return!1;r=n.to}else if(r=em(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},QV=(t,e)=>{let{$from:n,$to:r}=t.selection,s=n.blockRange(r),i=s&&Ul(s);return i==null?!1:(e&&e(t.tr.lift(s,i).scrollIntoView()),!0)},ZV=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function AR(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const XV=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),i=n.indexAfter(-1),o=AR(s.contentMatchAt(i));if(!o||!s.canReplaceWith(i,i,o))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,o.createAndFill());l.setSelection(Ee.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},eH=(t,e)=>{let n=t.selection,{$from:r,$to:s}=n;if(n instanceof nr||r.parent.inlineContent||s.parent.inlineContent)return!1;let i=AR(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let o=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,a=t.tr.insert(o,i.createAndFill());a.setSelection(me.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},tH=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(Qa(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),s=r&&Ul(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)},nH=(t,e)=>{let{$from:n,to:r}=t.selection,s,i=n.sharedDepth(r);return i==0?!1:(s=n.before(i),e&&e(t.tr.setSelection(ae.create(t.doc,s))),!0)};function rH(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,i=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(s.isTextblock||Gi(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function OR(t,e,n,r){let s=e.nodeBefore,i=e.nodeAfter,o,a,l=s.type.spec.isolating||i.type.spec.isolating;if(!l&&rH(t,e,n))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(a=s.contentMatchAt(s.childCount)).findWrapping(i.type))&&a.matchType(o[0]||i.type).validEnd){if(n){let p=e.pos+i.nodeSize,g=D.empty;for(let v=o.length-1;v>=0;v--)g=D.from(o[v].create(null,g));g=D.from(s.copy(g));let m=t.tr.step(new Ot(e.pos-1,p,e.pos,p,new G(g,1,0),o.length,!0)),y=m.doc.resolve(p+2*o.length);y.nodeAfter&&y.nodeAfter.type==s.type&&Gi(m.doc,y.pos)&&m.join(y.pos),n(m.scrollIntoView())}return!0}let u=i.type.spec.isolating||r>0&&l?null:Ee.findFrom(e,1),d=u&&u.$from.blockRange(u.$to),f=d&&Ul(d);if(f!=null&&f>=e.depth)return n&&n(t.tr.lift(d,f).scrollIntoView()),!0;if(c&&Tl(i,"start",!0)&&Tl(s,"end")){let p=s,g=[];for(;g.push(p),!p.isTextblock;)p=p.lastChild;let m=i,y=1;for(;!m.isTextblock;m=m.firstChild)y++;if(p.canReplace(p.childCount,p.childCount,m.content)){if(n){let v=D.empty;for(let w=g.length-1;w>=0;w--)v=D.from(g[w].copy(v));let x=t.tr.step(new Ot(e.pos-g.length,e.pos+i.nodeSize,e.pos+y,e.pos+i.nodeSize-y,new G(v,g.length,0),0,!0));n(x.scrollIntoView())}return!0}}return!1}function RR(t){return function(e,n){let r=e.selection,s=t<0?r.$from:r.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(n&&n(e.tr.setSelection(me.create(e.doc,t<0?s.start(i):s.end(i)))),!0):!1}}const sH=RR(-1),iH=RR(1);function oH(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,o=s.blockRange(i),a=o&&sb(o,t,e);return a?(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function mS(t,e=null){return function(n,r){let s=!1;for(let i=0;i<n.selection.ranges.length&&!s;i++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[i];n.doc.nodesBetween(o,a,(l,c)=>{if(s)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)s=!0;else{let u=n.doc.resolve(c),d=u.index();s=u.parent.canReplaceWith(d,d+1,t)}})}if(!s)return!1;if(r){let i=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[o];i.setBlockType(a,l,t,e)}r(i.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function aH(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,o=s.blockRange(i);if(!o)return!1;let a=r?n.tr:null;return lH(a,o,t,e)?(r&&r(a.scrollIntoView()),!0):!1}}function lH(t,e,n,r=null){let s=!1,i=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=o.resolve(e.start-2);i=new Nh(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new Nh(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let a=sb(i,n,r,e);return a?(t&&cH(t,e,a,s,n),!0):!1}function cH(t,e,n,r,s){let i=D.empty;for(let u=n.length-1;u>=0;u--)i=D.from(n[u].type.create(n[u].attrs,i));t.step(new Ot(e.start-(r?2:0),e.end,e.start,e.end,new G(i,0,0),n.length,!0));let o=0;for(let u=0;u<n.length;u++)n[u].type==s&&(o=u+1);let a=n.length-o,l=e.start+n.length-(r?2:0),c=e.parent;for(let u=e.startIndex,d=e.endIndex,f=!0;u<d;u++,f=!1)!f&&Qa(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return t}function uH(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,o=>o.childCount>0&&o.firstChild.type==t);return i?n?r.node(i.depth-1).type==t?dH(e,n,t,i):fH(e,n,i):!0:!1}}function dH(t,e,n,r){let s=t.tr,i=r.end,o=r.$to.end(r.depth);i<o&&(s.step(new Ot(i-1,o,i,o,new G(D.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Nh(s.doc.resolve(r.$from.pos),s.doc.resolve(o),r.depth));const a=Ul(r);if(a==null)return!1;s.lift(r,a);let l=s.doc.resolve(s.mapping.map(i,-1)-1);return Gi(s.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&s.join(l.pos),e(s.scrollIntoView()),!0}function fH(t,e,n){let r=t.tr,s=n.parent;for(let p=n.end,g=n.endIndex-1,m=n.startIndex;g>m;g--)p-=s.child(g).nodeSize,r.delete(p-1,p+1);let i=r.doc.resolve(n.start),o=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==s.childCount,c=i.node(-1),u=i.index(-1);if(!c.canReplace(u+(a?0:1),u+1,o.content.append(l?D.empty:D.from(s))))return!1;let d=i.pos,f=d+o.nodeSize;return r.step(new Ot(d-(a?1:0),f+(l?1:0),d+1,f-1,new G((a?D.empty:D.from(s.copy(D.empty))).append(l?D.empty:D.from(s.copy(D.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function hH(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,c=>c.childCount>0&&c.firstChild.type==t);if(!i)return!1;let o=i.startIndex;if(o==0)return!1;let a=i.parent,l=a.child(o-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=D.from(c?t.create():null),d=new G(D.from(t.create(null,D.from(a.type.create(null,u)))),c?3:1,0),f=i.start,p=i.end;n(e.tr.step(new Ot(f-(c?3:1),p,f,p,d,1,!0)).scrollIntoView())}return!0}}const $t=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Nl=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Lv=null;const ys=function(t,e,n){let r=Lv||(Lv=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},pH=function(){Lv=null},Ko=function(t,e,n,r){return n&&(gS(t,e,n,r,-1)||gS(t,e,n,r,1))},mH=/^(img|br|input|textarea|hr)$/i;function gS(t,e,n,r,s){for(var i;;){if(t==n&&e==r)return!0;if(e==(s<0?0:Xn(t))){let o=t.parentNode;if(!o||o.nodeType!=1||rd(t)||mH.test(t.nodeName)||t.contentEditable=="false")return!1;e=$t(t)+(s<0?0:1),t=o}else if(t.nodeType==1){let o=t.childNodes[e+(s<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((i=o.pmViewDesc)===null||i===void 0)&&i.ignoreForSelection)e+=s;else return!1;else t=o,e=s<0?Xn(t):0}else return!1}}function Xn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function gH(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Xn(t)}else if(t.parentNode&&!rd(t))e=$t(t),t=t.parentNode;else return null}}function yH(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!rd(t))e=$t(t)+1,t=t.parentNode;else return null}}function vH(t,e,n){for(let r=e==0,s=e==Xn(t);r||s;){if(t==n)return!0;let i=$t(t);if(t=t.parentNode,!t)return!1;r=r&&i==0,s=s&&i==Xn(t)}}function rd(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const rm=function(t){return t.focusNode&&Ko(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function po(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function xH(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function bH(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Xn(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Xn(r.startContainer),r.startOffset)}}}const es=typeof navigator<"u"?navigator:null,yS=typeof document<"u"?document:null,Ji=es&&es.userAgent||"",$v=/Edge\/(\d+)/.exec(Ji),jR=/MSIE \d/.exec(Ji),zv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ji),_n=!!(jR||zv||$v),Ri=jR?document.documentMode:zv?+zv[1]:$v?+$v[1]:0,rr=!_n&&/gecko\/(\d+)/i.test(Ji);rr&&+(/Firefox\/(\d+)/.exec(Ji)||[0,0])[1];const Bv=!_n&&/Chrome\/(\d+)/.exec(Ji),Nt=!!Bv,PR=Bv?+Bv[1]:0,Qt=!_n&&!!es&&/Apple Computer/.test(es.vendor),Al=Qt&&(/Mobile\/\w+/.test(Ji)||!!es&&es.maxTouchPoints>2),Jn=Al||(es?/Mac/.test(es.platform):!1),MR=es?/Win/.test(es.platform):!1,Ss=/Android \d/.test(Ji),sd=!!yS&&"webkitFontSmoothing"in yS.documentElement.style,wH=sd?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function kH(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function ls(t,e){return typeof t=="number"?t:t[e]}function SH(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function vS(t,e,n){let r=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let o=n||t.dom;o;){if(o.nodeType!=1){o=Nl(o);continue}let a=o,l=a==i.body,c=l?kH(i):SH(a),u=0,d=0;if(e.top<c.top+ls(r,"top")?d=-(c.top-e.top+ls(s,"top")):e.bottom>c.bottom-ls(r,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+ls(s,"top")-c.top:e.bottom-c.bottom+ls(s,"bottom")),e.left<c.left+ls(r,"left")?u=-(c.left-e.left+ls(s,"left")):e.right>c.right-ls(r,"right")&&(u=e.right-c.right+ls(s,"right")),u||d)if(l)i.defaultView.scrollBy(u,d);else{let p=a.scrollLeft,g=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let m=a.scrollLeft-p,y=a.scrollTop-g;e={left:e.left-m,top:e.top-y,right:e.right-m,bottom:e.bottom-y}}let f=l?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(f))break;o=f=="absolute"?o.offsetParent:Nl(o)}}function EH(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,s;for(let i=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=t.root.elementFromPoint(i,o);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,s=l.top;break}}return{refDOM:r,refTop:s,stack:IR(t.dom)}}function IR(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Nl(r));return e}function _H({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;DR(n,r==0?0:r-e)}function DR(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:s,left:i}=t[n];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=i&&(r.scrollLeft=i)}}let xa=null;function CH(t){if(t.setActive)return t.setActive();if(xa)return t.focus(xa);let e=IR(t);t.focus(xa==null?{get preventScroll(){return xa={preventScroll:!0},!0}}:void 0),xa||(xa=!1,DR(e,0))}function LR(t,e){let n,r=2e8,s,i=0,o=e.top,a=e.top,l,c;for(let u=t.firstChild,d=0;u;u=u.nextSibling,d++){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=ys(u).getClientRects();else continue;for(let p=0;p<f.length;p++){let g=f[p];if(g.top<=o&&g.bottom>=a){o=Math.max(g.bottom,o),a=Math.min(g.top,a);let m=g.left>e.left?g.left-e.left:g.right<e.left?e.left-g.right:0;if(m<r){n=u,r=m,s=m&&n.nodeType==3?{left:g.right<e.left?g.right:g.left,top:e.top}:e,u.nodeType==1&&m&&(i=d+(e.left>=(g.left+g.right)/2?1:0));continue}}else g.top>e.top&&!l&&g.left<=e.left&&g.right>=e.left&&(l=u,c={left:Math.max(g.left,Math.min(g.right,e.left)),top:g.top});!n&&(e.left>=g.right&&e.top>=g.top||e.left>=g.left&&e.top>=g.bottom)&&(i=d+1)}}return!n&&l&&(n=l,s=c,r=0),n&&n.nodeType==3?TH(n,s):!n||r&&n.nodeType==1?{node:t,offset:i}:LR(n,s)}function TH(t,e){let n=t.nodeValue.length,r=document.createRange(),s;for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let o=Ks(r,1);if(o.top!=o.bottom&&lb(e,o)){s={node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)};break}}return r.detach(),s||{node:t,offset:0}}function lb(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function NH(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function AH(t,e,n){let{node:r,offset:s}=LR(e,n),i=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();i=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(r,s,i)}function OH(t,e,n,r){let s=-1;for(let i=e,o=!1;i!=t.dom;){let a=t.docView.nearestDesc(i,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(a.dom.nodeName)&&(!o&&l.left>r.left||l.top>r.top?s=a.posBefore:(!o&&l.right<r.left||l.bottom<r.top)&&(s=a.posAfter),o=!0),!a.contentDOM&&s<0&&!a.node.isText))return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;i=a.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}function $R(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),i=s;;){let o=t.childNodes[i];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(lb(e,c))return $R(o,e,c)}}if((i=(i+1)%r)==s)break}return t}function RH(t,e){let n=t.dom.ownerDocument,r,s=0,i=bH(n,e.left,e.top);i&&({node:r,offset:s}=i);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=t.dom.getBoundingClientRect();if(!lb(e,c)||(o=$R(t.dom,e,c),!o))return null}if(Qt)for(let c=o;r&&c;c=Nl(c))c.draggable&&(r=void 0);if(o=NH(o,e),r){if(rr&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let u=r.childNodes[s],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&s++}let c;sd&&s&&r.nodeType==1&&(c=r.childNodes[s-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&s--,r==t.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(a=OH(t,r,s,e))}a==null&&(a=AH(t,o,e));let l=t.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function xS(t){return t.top<t.bottom||t.left<t.right}function Ks(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(xS(r))return r}return Array.prototype.find.call(n,xS)||t.getBoundingClientRect()}const jH=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function zR(t,e,n){let{node:r,offset:s,atom:i}=t.docView.domFromPos(e,n<0?-1:1),o=sd||rr;if(r.nodeType==3)if(o&&(jH.test(r.nodeValue)||(n<0?!s:s==r.nodeValue.length))){let l=Ks(ys(r,s,s),n);if(rr&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let c=Ks(ys(r,s-1,s-1),-1);if(c.top==l.top){let u=Ks(ys(r,s,s+1),-1);if(u.top!=l.top)return cc(u,u.left<c.left)}}return l}else{let l=s,c=s,u=n<0?1:-1;return n<0&&!s?(c++,u=-1):n>=0&&s==r.nodeValue.length?(l--,u=1):n<0?l--:c++,cc(Ks(ys(r,l,c),u),u<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&s&&(n<0||s==Xn(r))){let l=r.childNodes[s-1];if(l.nodeType==1)return Ag(l.getBoundingClientRect(),!1)}if(i==null&&s<Xn(r)){let l=r.childNodes[s];if(l.nodeType==1)return Ag(l.getBoundingClientRect(),!0)}return Ag(r.getBoundingClientRect(),n>=0)}if(i==null&&s&&(n<0||s==Xn(r))){let l=r.childNodes[s-1],c=l.nodeType==3?ys(l,Xn(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return cc(Ks(c,1),!1)}if(i==null&&s<Xn(r)){let l=r.childNodes[s];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?ys(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return cc(Ks(c,-1),!0)}return cc(Ks(r.nodeType==3?ys(r):r,-n),n>=0)}function cc(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Ag(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function BR(t,e,n){let r=t.state,s=t.root.activeElement;r!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),s!=t.dom&&s&&s.focus()}}function PH(t,e,n){let r=e.selection,s=n=="up"?r.$from:r.$to;return BR(t,e,()=>{let{node:i}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(i,!0);if(!a)break;if(a.node.isBlock){i=a.contentDOM||a.dom;break}i=a.dom.parentNode}let o=zR(t,s.pos,1);for(let a=i.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=ys(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?o.top-u.top>(u.bottom-o.top)*2:u.bottom-o.bottom>(o.bottom-u.top)*2))return!1}}return!0})}const MH=/[\u0590-\u08ac]/;function IH(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,i=!s,o=s==r.parent.content.size,a=t.domSelection();return a?!MH.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?i:o:BR(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=t.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",n,"character");let p=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:g,focusOffset:m}=t.domSelectionRange(),y=g&&!p.contains(g.nodeType==1?g:g.parentNode)||l==g&&c==m;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return f!=null&&(a.caretBidiLevel=f),y}):r.pos==r.start()||r.pos==r.end()}let bS=null,wS=null,kS=!1;function DH(t,e,n){return bS==e&&wS==n?kS:(bS=e,wS=n,kS=n=="up"||n=="down"?PH(t,e,n):IH(t,e,n))}const sr=0,SS=1,xo=2,ts=3;class id{constructor(e,n,r,s){this.parent=e,this.children=n,this.dom=r,this.contentDOM=s,this.dirty=sr,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let s=this.children[n];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let i,o;if(e==this.contentDOM)i=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}else{let i,o;if(e==this.contentDOM)i=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(o):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>$t(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!1;break}if(i.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!0;break}if(i.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,s=e;s;s=s.parentNode){let i=this.getDesc(s),o;if(i&&(!n||i.node))if(r&&(o=i.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return i}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let s=e;s;s=s.parentNode){let i=this.getDesc(s);if(i)return i.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let s=this.children[n],i=r+s.size;if(r==e&&i!=r){for(;!s.border&&s.children.length;)for(let o=0;o<s.children.length;o++){let a=s.children[o];if(a.size){s=a;break}}return s}if(e<i)return s.descAt(e-r-s.border);r=i}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let i=0;r<this.children.length;r++){let o=this.children[r],a=i+o.size;if(a>e||o instanceof UR){s=e-i;break}i=a}if(s)return this.children[r].domFromPos(s-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof FR&&i.side>=0;r--);if(n<=0){let i,o=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,o=!1);return i&&n&&o&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?$t(i.dom)+1:0}}else{let i,o=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,o=!1);return i&&o&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?$t(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,i=-1;for(let o=r,a=0;;a++){let l=this.children[a],c=o+l.size;if(s==-1&&e<=c){let u=o+l.border;if(e>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,u);e=o;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){s=$t(f.dom)+1;break}e-=f.size}s==-1&&(s=0)}if(s>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){i=$t(d.dom);break}n+=d.size}i==-1&&(i=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,s=!1){let i=Math.min(e,n),o=Math.max(e,n);for(let p=0,g=0;p<this.children.length;p++){let m=this.children[p],y=g+m.size;if(i>g&&o<y)return m.setSelection(e-g-m.border,n-g-m.border,r,s);g=y}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),c=r.root.getSelection(),u=r.domSelectionRange(),d=!1;if((rr||Qt)&&e==n){let{node:p,offset:g}=a;if(p.nodeType==3){if(d=!!(g&&p.nodeValue[g-1]==`
`),d&&g==p.nodeValue.length)for(let m=p,y;m;m=m.parentNode){if(y=m.nextSibling){y.nodeName=="BR"&&(a=l={node:y.parentNode,offset:$t(y)+1});break}let v=m.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let m=p.childNodes[g-1];d=m&&(m.nodeName=="BR"||m.contentEditable=="false")}}if(rr&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let p=u.focusNode.childNodes[u.focusOffset];p&&p.contentEditable=="false"&&(s=!0)}if(!(s||d&&Qt)&&Ko(a.node,a.offset,u.anchorNode,u.anchorOffset)&&Ko(l.node,l.offset,u.focusNode,u.focusOffset))return;let f=!1;if((c.extend||e==n)&&!(d&&rr)){c.collapse(a.node,a.offset);try{e!=n&&c.extend(l.node,l.offset),f=!0}catch{}}if(!f){if(e>n){let g=a;a=l,l=g}let p=document.createRange();p.setEnd(l.node,l.offset),p.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(p)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,s=0;s<this.children.length;s++){let i=this.children[s],o=r+i.size;if(r==o?e<=o&&n>=r:e<o&&n>r){let a=r+i.border,l=o-i.border;if(e>=a&&n<=l){this.dirty=e==r||n==o?xo:SS,e==a&&n==l&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=ts:i.markDirty(e-a,n-a);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?xo:ts}r=o}this.dirty=xo}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?xo:SS;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class FR extends id{constructor(e,n,r,s){let i,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!i)return s;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,i=this}matchesWidget(e){return this.dirty==sr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class LH extends id{constructor(e,n,r,s){super(e,[],n,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Go extends id{constructor(e,n,r,s,i){super(e,[],r,s),this.mark=n,this.spec=i}static create(e,n,r,s){let i=s.nodeViews[n.type.name],o=i&&i(n,s,r);return(!o||!o.dom)&&(o=ia.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Go(e,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&ts||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=ts&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=sr){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=sr}}slice(e,n,r){let s=Go.create(this.parent,this.mark,!0,r),i=this.children,o=this.size;n<o&&(i=Uv(i,n,o,r)),e>0&&(i=Uv(i,0,e,r));for(let a=0;a<i.length;a++)i[a].parent=s;return s.children=i,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ji extends id{constructor(e,n,r,s,i,o,a,l,c){super(e,[],i,o),this.node=n,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=a}static create(e,n,r,s,i,o){let a=i.nodeViews[n.type.name],l,c=a&&a(n,i,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},r,s),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=ia.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let f=u;return u=WR(u,r,n),c?l=new $H(e,n,r,s,u,d||null,f,c,i,o+1):n.isText?new sm(e,n,r,s,u,f,i):new ji(e,n,r,s,u,d||null,f,i,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>D.empty)}return e}matchesNode(e,n,r){return this.dirty==sr&&e.eq(this.node)&&Oh(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,s=n,i=e.composing?this.localCompositionInfo(e,n):null,o=i&&i.pos>-1?i:null,a=i&&i.pos<0,l=new BH(this,o&&o.node,e);VH(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?He.none:this.node.child(u).marks,r,e),l.placeWidget(c,e,s)},(c,u,d,f)=>{l.syncToMarks(c.marks,r,e);let p;l.findNodeMatch(c,u,d,f)||a&&e.state.selection.from>s&&e.state.selection.to<s+c.nodeSize&&(p=l.findIndexWithChild(i.node))>-1&&l.updateNodeAt(c,u,d,p,e)||l.updateNextNode(c,u,d,e,f,s)||l.addNode(c,u,d,e,s),s+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==xo)&&(o&&this.protectLocalComposition(e,o),VR(this.contentDOM,this.children,e),Al&&HH(this.dom))}localCompositionInfo(e,n){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof me)||r<n||s>n+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let o=i.nodeValue,a=WH(this.node.content,o,r-n,s-n);return a<0?null:{node:i,pos:a,text:o}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:s}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new LH(this,i,n,s);e.input.compositionNodes.push(o),this.children=Uv(this.children,r,r+s.length,e,o)}update(e,n,r,s){return this.dirty==ts||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,s),!0)}updateInner(e,n,r,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=sr}updateOuterDeco(e){if(Oh(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=HR(this.dom,this.nodeDOM,Fv(this.outerDeco,this.node,n),Fv(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function ES(t,e,n,r,s){WR(r,e,t);let i=new ji(void 0,t,e,n,r,r,r,s,0);return i.contentDOM&&i.updateChildren(s,0),i}class sm extends ji{constructor(e,n,r,s,i,o,a){super(e,n,r,s,i,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,s){return this.dirty==ts||this.dirty!=sr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=sr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=sr,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let s=this.node.cut(e,n),i=document.createTextNode(s.text);return new sm(this.parent,s,this.outerDeco,this.innerDeco,i,i,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=ts)}get domAtom(){return!1}isText(e){return this.node.text==e}}class UR extends id{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==sr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class $H extends ji{constructor(e,n,r,s,i,o,a,l,c,u){super(e,n,r,s,i,o,a,c,u),this.spec=l}update(e,n,r,s){if(this.dirty==ts)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,n,r);return i&&this.updateInner(e,n,r,s),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,s){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function VR(t,e,n){let r=t.firstChild,s=!1;for(let i=0;i<e.length;i++){let o=e[i],a=o.dom;if(a.parentNode==t){for(;a!=r;)r=_S(r),s=!0;r=r.nextSibling}else s=!0,t.insertBefore(a,r);if(o instanceof Go){let l=r?r.previousSibling:t.lastChild;VR(o.contentDOM,o.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=_S(r),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}const Hc=function(t){t&&(this.nodeName=t)};Hc.prototype=Object.create(null);const bo=[new Hc];function Fv(t,e,n){if(t.length==0)return bo;let r=n?bo[0]:new Hc,s=[r];for(let i=0;i<t.length;i++){let o=t[i].type.attrs;if(o){o.nodeName&&s.push(r=new Hc(o.nodeName));for(let a in o){let l=o[a];l!=null&&(n&&s.length==1&&s.push(r=new Hc(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return s}function HR(t,e,n,r){if(n==bo&&r==bo)return e;let s=e;for(let i=0;i<r.length;i++){let o=r[i],a=n[i];if(i){let l;a&&a.nodeName==o.nodeName&&s!=t&&(l=s.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(s),a=bo[0]),s=l}zH(s,a||bo[0],o)}return s}function zH(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)s.indexOf(r[i])==-1&&t.classList.remove(r[i]);for(let i=0;i<s.length;i++)r.indexOf(s[i])==-1&&t.classList.add(s[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}function WR(t,e,n){return HR(t,t,bo,Fv(e,n,t.nodeType!=1))}function Oh(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function _S(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class BH{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=FH(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let s=0,i=this.stack.length>>1,o=Math.min(i,e.length);for(;s<o&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=sr,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[i])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Go.create(this.top,e[i],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,i++}}findNodeMatch(e,n,r,s){let i=-1,o;if(s>=this.preMatch.index&&(o=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,r))i=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){i=a;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,n,r,s,i){let o=this.top.children[s];return o.dirty==ts&&o.dom==o.contentDOM&&(o.dirty=xo),o.update(e,n,r,i)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=n}}updateNextNode(e,n,r,s,i,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof ji){let c=this.preMatch.matched.get(l);if(c!=null&&c!=i)return!1;let u=l.dom,d,f=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=ts&&Oh(n,l.outerDeco));if(!f&&l.update(e,n,r,s))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(l,e,n,r,s,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=xo,d.updateChildren(s,o+1),d.dirty=sr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,s,i,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Oh(r,e.outerDeco)||!s.eq(e.innerDeco))return null;let a=ji.create(this.top,n,r,s,i,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,r,s,i){let o=ji.create(this.top,e,n,r,s,i);o.contentDOM&&o.updateChildren(s,i+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let i=new FR(this.top,e,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Go;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof sm)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Qt||Nt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new UR(this.top,[],r,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function FH(t,e){let n=e,r=n.children.length,s=t.childCount,i=new Map,o=[];e:for(;s>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof Go)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(s-1))break;--s,i.set(a,s),o.push(a)}}return{index:s,matched:i,matches:o.reverse()}}function UH(t,e){return t.type.side-e.type.side}function VH(t,e,n,r){let s=e.locals(t),i=0;if(s.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);r(u,s,e.forChild(i,u),c),i+=u.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let u,d;for(;o<s.length&&s[o].to==i;){let y=s[o++];y.widget&&(u?(d||(d=[u])).push(y):u=y)}if(u)if(d){d.sort(UH);for(let y=0;y<d.length;y++)n(d[y],c,!!l)}else n(u,c,!!l);let f,p;if(l)p=-1,f=l,l=null;else if(c<t.childCount)p=c,f=t.child(c++);else break;for(let y=0;y<a.length;y++)a[y].to<=i&&a.splice(y--,1);for(;o<s.length&&s[o].from<=i&&s[o].to>i;)a.push(s[o++]);let g=i+f.nodeSize;if(f.isText){let y=g;o<s.length&&s[o].from<y&&(y=s[o].from);for(let v=0;v<a.length;v++)a[v].to<y&&(y=a[v].to);y<g&&(l=f.cut(y-i),f=f.cut(0,y-i),g=y,p=-1)}else for(;o<s.length&&s[o].to<g;)o++;let m=f.isInline&&!f.isLeaf?a.filter(y=>!y.inline):a.slice();r(f,m,e.forChild(i,f),p),i=g}}function HH(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function WH(t,e,n,r){for(let s=0,i=0;s<t.childCount&&i<=r;){let o=t.child(s++),a=i;if(i+=o.nodeSize,!o.isText)continue;let l=o.text;for(;s<t.childCount;){let c=t.child(s++);if(i+=c.nodeSize,!c.isText)break;l+=c.text}if(i>=n){if(i>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=n)return a+c;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function Uv(t,e,n,r,s){let i=[];for(let o=0,a=0;o<t.length;o++){let l=t[o],c=a,u=a+=l.size;c>=n||u<=e?i.push(l):(c<e&&i.push(l.slice(0,e-c,r)),s&&(i.push(s),s=void 0),u>n&&i.push(l.slice(n-c,l.size,r)))}return i}function cb(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),i=s&&s.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),l,c;if(rm(n)){for(l=o;s&&!s.node;)s=s.parent;let d=s.node;if(s&&d.isAtom&&ae.isSelectable(d)&&s.parent&&!(d.isInline&&vH(n.focusNode,n.focusOffset,s.dom))){let f=s.posBefore;c=new ae(o==f?a:r.resolve(f))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=o,f=o;for(let p=0;p<n.rangeCount;p++){let g=n.getRangeAt(p);d=Math.min(d,t.docView.posFromDOM(g.startContainer,g.startOffset,1)),f=Math.max(f,t.docView.posFromDOM(g.endContainer,g.endOffset,-1))}if(d<0)return null;[l,o]=f==t.state.selection.anchor?[f,d]:[d,f],a=r.resolve(o)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let u=r.resolve(l);if(!c){let d=e=="pointer"||t.state.selection.head<a.pos&&!i?1:-1;c=ub(t,u,a,d)}return c}function qR(t){return t.editable?t.hasFocus():GR(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function _s(t,e=!1){let n=t.state.selection;if(KR(t,n),!!qR(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Nt){let r=t.domSelectionRange(),s=t.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&Ko(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)KH(t);else{let{anchor:r,head:s}=n,i,o;CS&&!(n instanceof me)&&(n.$from.parent.inlineContent||(i=TS(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=TS(t,n.to))),t.docView.setSelection(r,s,t,e),CS&&(i&&NS(i),o&&NS(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&qH(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const CS=Qt||Nt&&PR<63;function TS(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),s=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(Qt&&s&&s.contentEditable=="false")return Og(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return Og(s);if(i)return Og(i)}}function Og(t){return t.contentEditable="true",Qt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function NS(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function qH(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!qR(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function KH(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,$t(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&_n&&Ri<=11&&(n.disabled=!0,n.disabled=!1)}function KR(t,e){if(e instanceof ae){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(AS(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else AS(t)}function AS(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function ub(t,e,n,r){return t.someProp("createSelectionBetween",s=>s(t,e,n))||me.between(e,n,r)}function OS(t){return t.editable&&!t.hasFocus()?!1:GR(t)}function GR(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function GH(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Ko(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Vv(t,e){let{$anchor:n,$head:r}=t.selection,s=e>0?n.max(r):n.min(r),i=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return i&&Ee.findFrom(i,e)}function Qs(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function RS(t,e,n){let r=t.state.selection;if(r instanceof me)if(n.indexOf("s")>-1){let{$head:s}=r,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let o=t.state.doc.resolve(s.pos+i.nodeSize*(e<0?-1:1));return Qs(t,new me(r.$anchor,o))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=Vv(t.state,e);return s&&s instanceof ae?Qs(t,s):!1}else if(!(Jn&&n.indexOf("m")>-1)){let s=r.$head,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,o;if(!i||i.isText)return!1;let a=e<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM?ae.isSelectable(i)?Qs(t,new ae(e<0?t.state.doc.resolve(s.pos-i.nodeSize):s)):sd?Qs(t,new me(t.state.doc.resolve(e<0?a:a+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ae&&r.node.isInline)return Qs(t,new me(e>0?r.$to:r.$from));{let s=Vv(t.state,e);return s?Qs(t,s):!1}}}function Rh(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Wc(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function ba(t,e){return e<0?JH(t):YH(t)}function JH(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s,i,o=!1;for(rr&&n.nodeType==1&&r<Rh(n)&&Wc(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(Wc(a,-1))s=n,i=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(JR(n))break;{let a=n.previousSibling;for(;a&&Wc(a,-1);)s=n.parentNode,i=$t(a),a=a.previousSibling;if(a)n=a,r=Rh(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}o?Hv(t,n,r):s&&Hv(t,s,i)}function YH(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s=Rh(n),i,o;for(;;)if(r<s){if(n.nodeType!=1)break;let a=n.childNodes[r];if(Wc(a,1))i=n,o=++r;else break}else{if(JR(n))break;{let a=n.nextSibling;for(;a&&Wc(a,1);)i=a.parentNode,o=$t(a)+1,a=a.nextSibling;if(a)n=a,r=0,s=Rh(n);else{if(n=n.parentNode,n==t.dom)break;r=s=0}}}i&&Hv(t,i,o)}function JR(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function QH(t,e){for(;t&&e==t.childNodes.length&&!rd(t);)e=$t(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function ZH(t,e){for(;t&&!e&&!rd(t);)e=$t(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Hv(t,e,n){if(e.nodeType!=3){let i,o;(o=QH(e,n))?(e=o,n=0):(i=ZH(e,n))&&(e=i,n=i.nodeValue.length)}let r=t.domSelection();if(!r)return;if(rm(r)){let i=document.createRange();i.setEnd(e,n),i.setStart(e,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&_s(t)},50)}function jS(t,e){let n=t.state.doc.resolve(e);if(!(Nt||MR)&&n.parent.inlineContent){let s=t.coordsAtPos(e);if(e>n.start()){let i=t.coordsAtPos(e-1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left<s.left?"ltr":"rtl"}if(e<n.end()){let i=t.coordsAtPos(e+1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function PS(t,e,n){let r=t.state.selection;if(r instanceof me&&!r.empty||n.indexOf("s")>-1||Jn&&n.indexOf("m")>-1)return!1;let{$from:s,$to:i}=r;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=Vv(t.state,e);if(o&&o instanceof ae)return Qs(t,o)}if(!s.parent.inlineContent){let o=e<0?s:i,a=r instanceof nr?Ee.near(o,e):Ee.findFrom(o,e);return a?Qs(t,a):!1}return!1}function MS(t,e){if(!(t.state.selection instanceof me))return!0;let{$head:n,$anchor:r,empty:s}=t.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let o=t.state.tr;return e<0?o.delete(n.pos-i.nodeSize,n.pos):o.delete(n.pos,n.pos+i.nodeSize),t.dispatch(o),!0}return!1}function IS(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function XH(t){if(!Qt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;IS(t,r,"true"),setTimeout(()=>IS(t,r,"false"),20)}return!1}function eW(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function tW(t,e){let n=e.keyCode,r=eW(e);if(n==8||Jn&&n==72&&r=="c")return MS(t,-1)||ba(t,-1);if(n==46&&!e.shiftKey||Jn&&n==68&&r=="c")return MS(t,1)||ba(t,1);if(n==13||n==27)return!0;if(n==37||Jn&&n==66&&r=="c"){let s=n==37?jS(t,t.state.selection.from)=="ltr"?-1:1:-1;return RS(t,s,r)||ba(t,s)}else if(n==39||Jn&&n==70&&r=="c"){let s=n==39?jS(t,t.state.selection.from)=="ltr"?1:-1:1;return RS(t,s,r)||ba(t,s)}else{if(n==38||Jn&&n==80&&r=="c")return PS(t,-1,r)||ba(t,-1);if(n==40||Jn&&n==78&&r=="c")return XH(t)||PS(t,1,r)||ba(t,1);if(r==(Jn?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function db(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let n=[],{content:r,openStart:s,openEnd:i}=e;for(;s>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,i--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let o=t.someProp("clipboardSerializer")||ia.fromSchema(t.state.schema),a=tj(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=ej[c.nodeName.toLowerCase()]);){for(let p=u.length-1;p>=0;p--){let g=a.createElement(u[p]);for(;l.firstChild;)g.appendChild(l.firstChild);l.appendChild(g),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${s} ${i}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:f,slice:e}}function YR(t,e,n,r,s){let i=s.parent.type.spec.code,o,a;if(!n&&!e)return null;let l=!!e&&(r||i||!n);if(l){if(t.someProp("transformPastedText",f=>{e=f(e,i||r,t)}),i)return a=new G(D.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",f=>{a=f(a,t,!0)}),a;let d=t.someProp("clipboardTextParser",f=>f(e,s,r,t));if(d)a=d;else{let f=s.marks(),{schema:p}=t.state,g=ia.fromSchema(p);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(m=>{let y=o.appendChild(document.createElement("p"));m&&y.appendChild(g.serializeNode(p.text(m,f)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),o=iW(n),sd&&oW(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let f=o.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;o=f}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||Oi.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||u),context:s,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!nW.test(f.parentNode.nodeName)?{ignore:!0}:null}})),u)a=aW(DS(a,+u[1],+u[2]),u[4]);else if(a=G.maxOpen(rW(a.content,s),!0),a.openStart||a.openEnd){let d=0,f=0;for(let p=a.content.firstChild;d<a.openStart&&!p.type.spec.isolating;d++,p=p.firstChild);for(let p=a.content.lastChild;f<a.openEnd&&!p.type.spec.isolating;f++,p=p.lastChild);a=DS(a,d,f)}return t.someProp("transformPasted",d=>{a=d(a,t,l)}),a}const nW=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function rW(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.index(n)),i,o=[];if(t.forEach(a=>{if(!o)return;let l=s.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&i.length&&ZR(l,i,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=XR(o[o.length-1],i.length));let u=QR(a,l);o.push(u),s=s.matchType(u.type),i=l}}),o)return D.from(o)}return t}function QR(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,D.from(t));return t}function ZR(t,e,n,r,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let i=ZR(t,e,n,r.lastChild,s+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(s==t.length-1?n.type:t[s+1]))return r.copy(r.content.append(D.from(QR(n,t,s+1))))}}function XR(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,XR(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(D.empty,!0);return t.copy(n.append(r))}function Wv(t,e,n,r,s,i){let o=e<0?t.firstChild:t.lastChild,a=o.content;return t.childCount>1&&(i=0),s<r-1&&(a=Wv(a,e,n,r,s+1,i)),s>=n&&(a=e<0?o.contentMatchAt(0).fillBefore(a,i<=s).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(D.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(a))}function DS(t,e,n){return e<t.openStart&&(t=new G(Wv(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new G(Wv(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const ej={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let LS=null;function tj(){return LS||(LS=document.implementation.createHTMLDocument("title"))}let Rg=null;function sW(t){let e=window.trustedTypes;return e?(Rg||(Rg=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Rg.createHTML(t)):t}function iW(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=tj().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),s;if((s=r&&ej[r[1].toLowerCase()])&&(t=s.map(i=>"<"+i+">").join("")+t+s.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=sW(t),s)for(let i=0;i<s.length;i++)n=n.querySelector(s[i])||n;return n}function oW(t){let e=t.querySelectorAll(Nt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function aW(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:s,openStart:i,openEnd:o}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;s=D.from(l.create(r[a+1],s)),i++,o++}return new G(s,i,o)}const an={},ln={},lW={touchstart:!0,touchmove:!0};class cW{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function uW(t){for(let e in an){let n=an[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{fW(t,r)&&!fb(t,r)&&(t.editable||!(r.type in ln))&&n(t,r)},lW[e]?{passive:!0}:void 0)}Qt&&t.dom.addEventListener("input",()=>null),qv(t)}function yi(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function dW(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function qv(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>fb(t,r))})}function fb(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function fW(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function hW(t,e){!fb(t,e)&&an[e.type]&&(t.editable||!(e.type in ln))&&an[e.type](t,e)}ln.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!rj(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Ss&&Nt&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Al&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",s=>s(t,po(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||tW(t,n)?n.preventDefault():yi(t,"key")};ln.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};ln.keypress=(t,e)=>{let n=e;if(rj(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Jn&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof me)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(n.charCode),i=()=>t.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,s,i))&&t.dispatch(i()),n.preventDefault()}};function im(t){return{left:t.clientX,top:t.clientY}}function pW(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function hb(t,e,n,r,s){if(r==-1)return!1;let i=t.state.doc.resolve(r);for(let o=i.depth+1;o>0;o--)if(t.someProp(e,a=>o>i.depth?a(t,n,i.nodeAfter,i.before(o),s,!0):a(t,n,i.node(o),i.before(o),s,!1)))return!0;return!1}function Xa(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function mW(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&ae.isSelectable(r)?(Xa(t,new ae(n)),!0):!1}function gW(t,e){if(e==-1)return!1;let n=t.state.selection,r,s;n instanceof ae&&(r=n.node);let i=t.state.doc.resolve(e);for(let o=i.depth+1;o>0;o--){let a=o>i.depth?i.nodeAfter:i.node(o);if(ae.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?s=i.before(n.$from.depth):s=i.before(o);break}}return s!=null?(Xa(t,ae.create(t.state.doc,s)),!0):!1}function yW(t,e,n,r,s){return hb(t,"handleClickOn",e,n,r)||t.someProp("handleClick",i=>i(t,e,r))||(s?gW(t,n):mW(t,n))}function vW(t,e,n,r){return hb(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",s=>s(t,e,r))}function xW(t,e,n,r){return hb(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",s=>s(t,e,r))||bW(t,n,r)}function bW(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Xa(t,me.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let i=s.depth+1;i>0;i--){let o=i>s.depth?s.nodeAfter:s.node(i),a=s.before(i);if(o.inlineContent)Xa(t,me.create(r,a+1,a+1+o.content.size));else if(ae.isSelectable(o))Xa(t,ae.create(r,a));else continue;return!0}}function pb(t){return jh(t)}const nj=Jn?"metaKey":"ctrlKey";an.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=pb(t),s=Date.now(),i="singleClick";s-t.input.lastClick.time<500&&pW(n,t.input.lastClick)&&!n[nj]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:i,button:n.button};let o=t.posAtCoords(im(n));o&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new wW(t,o,n,!!r)):(i=="doubleClick"?vW:xW)(t,o.pos,o.inside,n)?n.preventDefault():yi(t,"pointer"))};class wW{constructor(e,n,r,s){this.view=e,this.pos=n,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[nj],this.allowDefault=r.shiftKey;let i,o;if(n.inside>-1)i=e.state.doc.nodeAt(n.inside),o=n.inside;else{let u=e.state.doc.resolve(n.pos);i=u.parent,o=u.depth?u.before():0}const a=s?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:c}=e.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||c instanceof ae&&c.from<=o&&c.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&rr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),yi(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>_s(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(im(e))),this.updateAllowDefault(e),this.allowDefault||!n?yi(this.view,"pointer"):yW(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Qt&&this.mightDrag&&!this.mightDrag.node.isAtom||Nt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Xa(this.view,Ee.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):yi(this.view,"pointer")}move(e){this.updateAllowDefault(e),yi(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}an.touchstart=t=>{t.input.lastTouch=Date.now(),pb(t),yi(t,"pointer")};an.touchmove=t=>{t.input.lastTouch=Date.now(),yi(t,"pointer")};an.contextmenu=t=>pb(t);function rj(t,e){return t.composing?!0:Qt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const kW=Ss?5e3:-1;ln.compositionstart=ln.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof me&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||Nt&&MR&&SW(t)))t.markCursor=t.state.storedMarks||n.marks(),jh(t,!0),t.markCursor=null;else if(jh(t,!e.selection.empty),rr&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let s=r.focusNode,i=r.focusOffset;s&&s.nodeType==1&&i!=0;){let o=i<0?s.lastChild:s.childNodes[i-1];if(!o)break;if(o.nodeType==3){let a=t.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else s=o,i=-1}}t.input.composing=!0}sj(t,kW)};function SW(t){let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(!e||e.nodeType!=1||n>=e.childNodes.length)return!1;let r=e.childNodes[n];return r.nodeType==1&&r.contentEditable=="false"}ln.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,sj(t,20))};function sj(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>jh(t),e))}function ij(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=_W());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function EW(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=gH(e.focusNode,e.focusOffset),r=yH(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let s=r.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!s||!s.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function _W(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function jh(t,e=!1){if(!(Ss&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),ij(t),e||t.docView&&t.docView.dirty){let n=cb(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function CW(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Mu=_n&&Ri<15||Al&&wH<604;an.copy=ln.cut=(t,e)=>{let n=e,r=t.state.selection,s=n.type=="cut";if(r.empty)return;let i=Mu?null:n.clipboardData,o=r.content(),{dom:a,text:l}=db(t,o);i?(n.preventDefault(),i.clearData(),i.setData("text/html",a.innerHTML),i.setData("text/plain",l)):CW(t,a),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function TW(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function NW(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Iu(t,r.value,null,s,e):Iu(t,r.textContent,r.innerHTML,s,e)},50)}function Iu(t,e,n,r,s){let i=YR(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,s,i||G.empty)))return!0;if(!i)return!1;let o=TW(i),a=o?t.state.tr.replaceSelectionWith(o,r):t.state.tr.replaceSelection(i);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function oj(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}ln.paste=(t,e)=>{let n=e;if(t.composing&&!Ss)return;let r=Mu?null:n.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Iu(t,oj(r),r.getData("text/html"),s,n)?n.preventDefault():NW(t,n)};class aj{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const AW=Jn?"altKey":"ctrlKey";function lj(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[AW]}an.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s=t.state.selection,i=s.empty?null:t.posAtCoords(im(n)),o;if(!(i&&i.pos>=s.from&&i.pos<=(s instanceof ae?s.to-1:s.to))){if(r&&r.mightDrag)o=ae.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=t.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(o=ae.create(t.state.doc,d.posBefore))}}let a=(o||t.state.selection).content(),{dom:l,text:c,slice:u}=db(t,a);(!n.dataTransfer.files.length||!Nt||PR>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Mu?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Mu||n.dataTransfer.setData("text/plain",c),t.dragging=new aj(u,lj(t,n),o)};an.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};ln.dragover=ln.dragenter=(t,e)=>e.preventDefault();ln.drop=(t,e)=>{try{OW(t,e,t.dragging)}finally{t.dragging=null}};function OW(t,e,n){if(!e.dataTransfer)return;let r=t.posAtCoords(im(e));if(!r)return;let s=t.state.doc.resolve(r.pos),i=n&&n.slice;i?t.someProp("transformPasted",p=>{i=p(i,t,!1)}):i=YR(t,oj(e.dataTransfer),Mu?null:e.dataTransfer.getData("text/html"),!1,s);let o=!!(n&&lj(t,e));if(t.someProp("handleDrop",p=>p(t,e,i||G.empty,o))){e.preventDefault();return}if(!i)return;e.preventDefault();let a=i?vR(t.state.doc,s.pos,i):s.pos;a==null&&(a=s.pos);let l=t.state.tr;if(o){let{node:p}=n;p?p.replace(l):l.deleteSelection()}let c=l.mapping.map(a),u=i.openStart==0&&i.openEnd==0&&i.content.childCount==1,d=l.doc;if(u?l.replaceRangeWith(c,c,i.content.firstChild):l.replaceRange(c,c,i),l.doc.eq(d))return;let f=l.doc.resolve(c);if(u&&ae.isSelectable(i.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(i.content.firstChild))l.setSelection(new ae(f));else{let p=l.mapping.map(a);l.mapping.maps[l.mapping.maps.length-1].forEach((g,m,y,v)=>p=v),l.setSelection(ub(t,f,l.doc.resolve(p)))}t.focus(),t.dispatch(l.setMeta("uiEvent","drop"))}an.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&_s(t)},20))};an.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};an.beforeinput=(t,e)=>{if(Nt&&Ss&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,po(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in ln)an[t]=ln[t];function Du(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Ph{constructor(e,n){this.toDOM=e,this.spec=n||Po,this.side=this.spec.side||0}map(e,n,r,s){let{pos:i,deleted:o}=e.mapResult(n.from+s,this.side<0?-1:1);return o?null:new sn(i-r,i-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Ph&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Du(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Pi{constructor(e,n){this.attrs=e,this.spec=n||Po}map(e,n,r,s){let i=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-r,o=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-r;return i>=o?null:new sn(i,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Pi&&Du(this.attrs,e.attrs)&&Du(this.spec,e.spec)}static is(e){return e.type instanceof Pi}destroy(){}}class mb{constructor(e,n){this.attrs=e,this.spec=n||Po}map(e,n,r,s){let i=e.mapResult(n.from+s,1);if(i.deleted)return null;let o=e.mapResult(n.to+s,-1);return o.deleted||o.pos<=i.pos?null:new sn(i.pos-r,o.pos-r,this)}valid(e,n){let{index:r,offset:s}=e.content.findIndex(n.from),i;return s==n.from&&!(i=e.child(r)).isText&&s+i.nodeSize==n.to}eq(e){return this==e||e instanceof mb&&Du(this.attrs,e.attrs)&&Du(this.spec,e.spec)}destroy(){}}class sn{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new sn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new sn(e,e,new Ph(n,r))}static inline(e,n,r,s){return new sn(e,n,new Pi(r,s))}static node(e,n,r,s){return new sn(e,n,new mb(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof Pi}get widget(){return this.type instanceof Ph}}const _a=[],Po={};class rt{constructor(e,n){this.local=e.length?e:_a,this.children=n.length?n:_a}static create(e,n){return n.length?Mh(n,e,0,Po):Gt}find(e,n,r){let s=[];return this.findInner(e??0,n??1e9,s,0,r),s}findInner(e,n,r,s,i){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=e&&(!i||i(a.spec))&&r.push(a.copy(a.from+s,a.to+s))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,n-a,r,s+a,i)}}map(e,n,r){return this==Gt||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Po)}mapInner(e,n,r,s,i){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,s);l&&l.type.valid(n,l)?(o||(o=[])).push(l):i.onRemove&&i.onRemove(this.local[a].spec)}return this.children.length?RW(this.children,o||[],e,n,r,s,i):o?new rt(o.sort(Mo),_a):Gt}add(e,n){return n.length?this==Gt?rt.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let s,i=0;e.forEach((a,l)=>{let c=l+r,u;if(u=uj(n,a,c)){for(s||(s=this.children.slice());i<s.length&&s[i]<l;)i+=3;s[i]==l?s[i+2]=s[i+2].addInner(a,u,c+1):s.splice(i,0,l,l+a.nodeSize,Mh(u,a,c+1,Po)),i+=3}});let o=cj(i?dj(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new rt(o.length?this.local.concat(o).sort(Mo):this.local,s||this.children)}remove(e){return e.length==0||this==Gt?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,s=this.local;for(let i=0;i<r.length;i+=3){let o,a=r[i]+n,l=r[i+1]+n;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>a&&d.to<l&&(e[u]=null,(o||(o=[])).push(d));if(!o)continue;r==this.children&&(r=this.children.slice());let c=r[i+2].removeInner(o,a+1);c!=Gt?r[i+2]=c:(r.splice(i,3),i-=3)}if(s.length){for(let i=0,o;i<e.length;i++)if(o=e[i])for(let a=0;a<s.length;a++)s[a].eq(o,n)&&(s==this.local&&(s=this.local.slice()),s.splice(a--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new rt(s,r):Gt}forChild(e,n){if(this==Gt)return this;if(n.isLeaf)return rt.empty;let r,s;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let i=e+1,o=i+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>i&&l.type instanceof Pi){let c=Math.max(i,l.from)-i,u=Math.min(o,l.to)-i;c<u&&(s||(s=[])).push(l.copy(c,u))}}if(s){let a=new rt(s.sort(Mo),_a);return r?new ri([a,r]):a}return r||Gt}eq(e){if(this==e)return!0;if(!(e instanceof rt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return gb(this.localsInner(e))}localsInner(e){if(this==Gt)return _a;if(e.inlineContent||!this.local.some(Pi.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Pi||n.push(this.local[r]);return n}forEachSet(e){e(this)}}rt.empty=new rt([],[]);rt.removeOverlap=gb;const Gt=rt.empty;class ri{constructor(e){this.members=e}map(e,n){const r=this.members.map(s=>s.map(e,n,Po));return ri.from(r)}forChild(e,n){if(n.isLeaf)return rt.empty;let r=[];for(let s=0;s<this.members.length;s++){let i=this.members[s].forChild(e,n);i!=Gt&&(i instanceof ri?r=r.concat(i.members):r.push(i))}return ri.from(r)}eq(e){if(!(e instanceof ri)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let s=0;s<this.members.length;s++){let i=this.members[s].localsInner(e);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let o=0;o<i.length;o++)n.push(i[o])}}return n?gb(r?n:n.sort(Mo)):_a}static from(e){switch(e.length){case 0:return Gt;case 1:return e[0];default:return new ri(e.every(n=>n instanceof rt)?e:e.reduce((n,r)=>n.concat(r instanceof rt?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function RW(t,e,n,r,s,i,o){let a=t.slice();for(let c=0,u=i;c<n.maps.length;c++){let d=0;n.maps[c].forEach((f,p,g,m)=>{let y=m-g-(p-f);for(let v=0;v<a.length;v+=3){let x=a[v+1];if(x<0||f>x+u-d)continue;let w=a[v]+u-d;p>=w?a[v+1]=f<=w?-2:-1:f>=u&&y&&(a[v]+=y,a[v+1]+=y)}d+=y}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(t[c]+i),d=u-s;if(d<0||d>=r.content.size){l=!0;continue}let f=n.map(t[c+1]+i,-1),p=f-s,{index:g,offset:m}=r.content.findIndex(d),y=r.maybeChild(g);if(y&&m==d&&m+y.nodeSize==p){let v=a[c+2].mapInner(n,y,u+1,t[c]+i+1,o);v!=Gt?(a[c]=d,a[c+1]=p,a[c+2]=v):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=jW(a,t,e,n,s,i,o),u=Mh(c,r,0,o);e=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<u.children.length;d+=3){let p=u.children[d];for(;f<a.length&&a[f]<p;)f+=3;a.splice(f,0,u.children[d],u.children[d+1],u.children[d+2])}}return new rt(e.sort(Mo),a)}function cj(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let s=t[r];n.push(new sn(s.from+e,s.to+e,s.type))}return n}function jW(t,e,n,r,s,i,o){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,s,c);d?n.push(d):o.onRemove&&o.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+i+1);return n}function uj(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,s=null;for(let i=0,o;i<t.length;i++)(o=t[i])&&o.from>n&&o.to<r&&((s||(s=[])).push(o),t[i]=null);return s}function dj(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Mh(t,e,n,r){let s=[],i=!1;e.forEach((a,l)=>{let c=uj(t,a,l+n);if(c){i=!0;let u=Mh(c,a,n+l+1,r);u!=Gt&&s.push(l,l+a.nodeSize,u)}});let o=cj(i?dj(t):t,-n).sort(Mo);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||s.length?new rt(o,s):Gt}function Mo(t,e){return t.from-e.from||t.to-e.to}function gb(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let s=n+1;s<e.length;s++){let i=e[s];if(i.from==r.from){i.to!=r.to&&(e==t&&(e=t.slice()),e[s]=i.copy(i.from,r.to),$S(e,s+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),$S(e,s,r.copy(i.from,r.to)));break}}}return e}function $S(t,e,n){for(;e<t.length&&Mo(n,t[e])>0;)e++;t.splice(e,0,n)}function jg(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Gt&&e.push(r)}),t.cursorWrapper&&e.push(rt.create(t.state.doc,[t.cursorWrapper.deco])),ri.from(e)}const PW={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},MW=_n&&Ri<=11;class IW{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class DW{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new IW,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);_n&&Ri<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),MW&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,PW)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(OS(this.view)){if(this.suppressingSelectionUpdates)return _s(this.view);if(_n&&Ri<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Ko(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let i=e.focusNode;i;i=Nl(i))n.add(i);for(let i=e.anchorNode;i;i=Nl(i))if(n.has(i)){r=i;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&OS(e)&&!this.ignoreSelectionChange(r),i=-1,o=-1,a=!1,l=[];if(e.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],l);d&&(i=i<0?d.from:Math.min(d.from,i),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(a=!0))}if(rr&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,f]=u;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of u){let p=f.parentNode;p&&p.nodeName=="LI"&&(!d||zW(e,d)!=p)&&f.remove()}}}else if((Nt||Qt)&&l.some(u=>u.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let u of l)if(u.nodeName=="BR"&&u.parentNode){let d=u.nextSibling;d&&d.nodeType==1&&d.contentEditable=="false"&&u.parentNode.removeChild(u)}}let c=null;i<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&rm(r)&&(c=cb(e))&&c.eq(Ee.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,_s(e),this.currentSelection.set(r),e.scrollToSelection()):(i>-1||s)&&(i>-1&&(e.docView.markDirty(i,o),LW(e)),this.handleDOMChange(i,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||_s(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let d=e.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,i=e.nextSibling;if(_n&&Ri<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:f}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(s=d),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f)}let o=s&&s.parentNode==e.target?$t(s)+1:0,a=r.localPosFromDOM(e.target,o,-1),l=i&&i.parentNode==e.target?$t(i):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let zS=new WeakMap,BS=!1;function LW(t){if(!zS.has(t)&&(zS.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=rr,BS)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),BS=!0}}function FS(t,e){let n=e.startContainer,r=e.startOffset,s=e.endContainer,i=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return Ko(o.node,o.offset,s,i)&&([n,r,s,i]=[s,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:i}}function $W(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return FS(t,s)}let n;function r(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?FS(t,n):null}function zW(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function BW(t,e,n){let{node:r,fromOffset:s,toOffset:i,from:o,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),c,u=l.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],rm(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Nt&&t.input.lastKeyCode===8)for(let y=i;y>s;y--){let v=r.childNodes[y-1],x=v.pmViewDesc;if(v.nodeName=="BR"&&!x){i=y;break}if(!x||x.size)break}let d=t.state.doc,f=t.someProp("domParser")||Oi.fromSchema(t.state.schema),p=d.resolve(o),g=null,m=f.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:s,to:i,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:FW,context:p});if(c&&c[0].pos!=null){let y=c[0].pos,v=c[1]&&c[1].pos;v==null&&(v=y),g={anchor:y+o,head:v+o}}return{doc:m,sel:g,from:o,to:a}}function FW(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Qt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Qt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const UW=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function VW(t,e,n,r,s){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let E=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,C=cb(t,E);if(C&&!t.state.selection.eq(C)){if(Nt&&Ss&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",R=>R(t,po(13,"Enter"))))return;let N=t.state.tr.setSelection(C);E=="pointer"?N.setMeta("pointer",!0):E=="key"&&N.scrollIntoView(),i&&N.setMeta("composition",i),t.dispatch(N)}return}let o=t.state.doc.resolve(e),a=o.sharedDepth(n);e=o.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,c=BW(t,e,n),u=t.state.doc,d=u.slice(c.from,c.to),f,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,p="end"):(f=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let g=qW(d.content,c.doc.content,c.from,f,p);if(g&&t.input.domChangeCount++,(Al&&t.input.lastIOSEnter>Date.now()-225||Ss)&&s.some(E=>E.nodeType==1&&!UW.test(E.nodeName))&&(!g||g.endA>=g.endB)&&t.someProp("handleKeyDown",E=>E(t,po(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!g)if(r&&l instanceof me&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))g={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let E=US(t,t.state.doc,c.sel);if(E&&!E.eq(t.state.selection)){let C=t.state.tr.setSelection(E);i&&C.setMeta("composition",i),t.dispatch(C)}}return}t.state.selection.from<t.state.selection.to&&g.start==g.endB&&t.state.selection instanceof me&&(g.start>t.state.selection.from&&g.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?g.start=t.state.selection.from:g.endA<t.state.selection.to&&g.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(g.endB+=t.state.selection.to-g.endA,g.endA=t.state.selection.to)),_n&&Ri<=11&&g.endB==g.start+1&&g.endA==g.start&&g.start>c.from&&c.doc.textBetween(g.start-c.from-1,g.start-c.from+1)==" "&&(g.start--,g.endA--,g.endB--);let m=c.doc.resolveNoCache(g.start-c.from),y=c.doc.resolveNoCache(g.endB-c.from),v=u.resolve(g.start),x=m.sameParent(y)&&m.parent.inlineContent&&v.end()>=g.endA;if((Al&&t.input.lastIOSEnter>Date.now()-225&&(!x||s.some(E=>E.nodeName=="DIV"||E.nodeName=="P"))||!x&&m.pos<c.doc.content.size&&(!m.sameParent(y)||!m.parent.inlineContent)&&m.pos<y.pos&&!/\S/.test(c.doc.textBetween(m.pos,y.pos,"","")))&&t.someProp("handleKeyDown",E=>E(t,po(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>g.start&&WW(u,g.start,g.endA,m,y)&&t.someProp("handleKeyDown",E=>E(t,po(8,"Backspace")))){Ss&&Nt&&t.domObserver.suppressSelectionUpdates();return}Nt&&g.endB==g.start&&(t.input.lastChromeDelete=Date.now()),Ss&&!x&&m.start()!=y.start()&&y.parentOffset==0&&m.depth==y.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==g.endA&&(g.endB-=2,y=c.doc.resolveNoCache(g.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(E){return E(t,po(13,"Enter"))})},20));let w=g.start,k=g.endA,S=E=>{let C=E||t.state.tr.replace(w,k,c.doc.slice(g.start-c.from,g.endB-c.from));if(c.sel){let N=US(t,C.doc,c.sel);N&&!(Nt&&t.composing&&N.empty&&(g.start!=g.endB||t.input.lastChromeDelete<Date.now()-100)&&(N.head==w||N.head==C.mapping.map(k)-1)||_n&&N.empty&&N.head==w)&&C.setSelection(N)}return i&&C.setMeta("composition",i),C.scrollIntoView()},_;if(x)if(m.pos==y.pos){_n&&Ri<=11&&m.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>_s(t),20));let E=S(t.state.tr.delete(w,k)),C=u.resolve(g.start).marksAcross(u.resolve(g.endA));C&&E.ensureMarks(C),t.dispatch(E)}else if(g.endA==g.endB&&(_=HW(m.parent.content.cut(m.parentOffset,y.parentOffset),v.parent.content.cut(v.parentOffset,g.endA-v.start())))){let E=S(t.state.tr);_.type=="add"?E.addMark(w,k,_.mark):E.removeMark(w,k,_.mark),t.dispatch(E)}else if(m.parent.child(m.index()).isText&&m.index()==y.index()-(y.textOffset?0:1)){let E=m.parent.textBetween(m.parentOffset,y.parentOffset),C=()=>S(t.state.tr.insertText(E,w,k));t.someProp("handleTextInput",N=>N(t,w,k,E,C))||t.dispatch(C())}else t.dispatch(S());else t.dispatch(S())}function US(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:ub(t,e.resolve(n.anchor),e.resolve(n.head))}function HW(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,s=n,i=r,o,a,l;for(let u=0;u<r.length;u++)s=r[u].removeFromSet(s);for(let u=0;u<n.length;u++)i=n[u].removeFromSet(i);if(s.length==1&&i.length==0)a=s[0],o="add",l=u=>u.mark(a.addToSet(u.marks));else if(s.length==0&&i.length==1)a=i[0],o="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(D.from(c).eq(t))return{mark:a,type:o}}function WW(t,e,n,r,s){if(n-e<=s.pos-r.pos||Pg(r,!0,!1)<s.pos)return!1;let i=t.resolve(e);if(!r.parent.isTextblock){let a=i.nodeAfter;return a!=null&&n==e+a.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let o=t.resolve(Pg(i,!0,!0));return!o.parent.isTextblock||o.pos>n||Pg(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function Pg(t,e,n){let r=t.depth,s=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,s++,e=!1;if(n){let i=t.node(r).maybeChild(t.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,s++}return s}function qW(t,e,n,r,s){let i=t.findDiffStart(e,n);if(i==null)return null;let{a:o,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let l=Math.max(0,i-Math.min(o,a));r-=o+l-i}if(o<i&&t.size<e.size){let l=r<=i&&r>=o?i-r:0;i-=l,i&&i<e.size&&VS(e.textBetween(i-1,i+1))&&(i+=l?1:-1),a=i+(a-o),o=i}else if(a<i){let l=r<=i&&r>=a?i-r:0;i-=l,i&&i<t.size&&VS(t.textBetween(i-1,i+1))&&(i+=l?1:-1),o=i+(o-a),a=i}return{start:i,endA:o,endB:a}}function VS(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class fj{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new cW,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(GS),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=qS(this),WS(this),this.nodeViews=KS(this),this.docView=ES(this.state.doc,HS(this),jg(this),this.dom,this),this.domObserver=new DW(this,(r,s,i,o)=>VW(this,r,s,i,o)),this.domObserver.start(),uW(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&qv(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(GS),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let s=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(ij(this),o=!0),this.state=e;let a=s.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let p=KS(this);GW(p,this.nodeViews)&&(this.nodeViews=p,i=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&qv(this),this.editable=qS(this),WS(this);let l=jg(this),c=HS(this),u=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",d=i||!this.docView.matchesNode(e.doc,c,l);(d||!e.selection.eq(s.selection))&&(o=!0);let f=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&EH(this);if(o){this.domObserver.stop();let p=d&&(_n||Nt)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&KW(s.selection,e.selection);if(d){let g=Nt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=EW(this)),(i||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=ES(e.doc,c,l,this.dom,this)),g&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&GH(this))?_s(this,p):(KR(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&_H(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof ae){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&vS(this,n.getBoundingClientRect(),e)}else vS(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(s=i)}this.dragging=new aj(e.slice,e.move,s<0?void 0:ae.create(this.state.doc,s))}someProp(e,n){let r=this._props&&this._props[e],s;if(r!=null&&(s=n?n(r):r))return s;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(s=n?n(a):a))return s}let i=this.state.plugins;if(i)for(let o=0;o<i.length;o++){let a=i[o].props[e];if(a!=null&&(s=n?n(a):a))return s}}hasFocus(){if(_n){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&CH(this.dom),_s(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return RH(this,e)}coordsAtPos(e,n=1){return zR(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let s=this.docView.posFromDOM(e,n,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return DH(this,n||this.state,e)}pasteHTML(e,n){return Iu(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Iu(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return db(this,e)}destroy(){this.docView&&(dW(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],jg(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,pH())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return hW(this,e)}domSelectionRange(){let e=this.domSelection();return e?Qt&&this.root.nodeType===11&&xH(this.dom.ownerDocument)==this.dom&&$W(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}fj.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function HS(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[sn.node(0,t.state.doc.content.size,e)]}function WS(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:sn.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function qS(t){return!t.someProp("editable",e=>e(t.state)===!1)}function KW(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function KS(t){let e=Object.create(null);function n(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function GW(t,e){let n=0,r=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)r++;return n!=r}function GS(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Bi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ih={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},JW=typeof navigator<"u"&&/Mac/.test(navigator.platform),YW=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var zt=0;zt<10;zt++)Bi[48+zt]=Bi[96+zt]=String(zt);for(var zt=1;zt<=24;zt++)Bi[zt+111]="F"+zt;for(var zt=65;zt<=90;zt++)Bi[zt]=String.fromCharCode(zt+32),Ih[zt]=String.fromCharCode(zt);for(var Mg in Bi)Ih.hasOwnProperty(Mg)||(Ih[Mg]=Bi[Mg]);function QW(t){var e=JW&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||YW&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Ih:Bi)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const ZW=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),XW=typeof navigator<"u"&&/Win/.test(navigator.platform);function e8(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,s,i,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))s=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))ZW?o=!0:s=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),o&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function t8(t){let e=Object.create(null);for(let n in t)e[e8(n)]=t[n];return e}function Ig(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function n8(t){return new ot({props:{handleKeyDown:hj(t)}})}function hj(t){let e=t8(t);return function(n,r){let s=QW(r),i,o=e[Ig(s,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let a=e[Ig(s,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(XW&&r.ctrlKey&&r.altKey)&&(i=Bi[r.keyCode])&&i!=s){let a=e[Ig(i,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}var r8=Object.defineProperty,yb=(t,e)=>{for(var n in e)r8(t,n,{get:e[n],enumerable:!0})};function om(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:s}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return r},get doc(){return s},get tr(){return r=n.selection,s=n.doc,i=n.storedMarks,n}}}var am=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:s}=n,i=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([o,a])=>[o,(...c)=>{const u=a(...c)(i);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(s),u}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:s}=this,{view:i}=r,o=[],a=!!t,l=t||s.tr,c=()=>(!a&&e&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(l),o.every(d=>d===!0)),u={...Object.fromEntries(Object.entries(n).map(([d,f])=>[d,(...g)=>{const m=this.buildProps(l,e),y=f(...g)(m);return o.push(y),u}])),run:c};return u}createCan(t){const{rawCommands:e,state:n}=this,r=!1,s=t||n.tr,i=this.buildProps(s,r);return{...Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...c)=>l(...c)({...i,dispatch:void 0})])),chain:()=>this.createChain(s,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:s}=this,{view:i}=r,o={tr:t,editor:r,view:i,state:om({state:s,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([a,l])=>[a,(...c)=>l(...c)(o)]))}};return o}},pj={};yb(pj,{blur:()=>s8,clearContent:()=>i8,clearNodes:()=>o8,command:()=>a8,createParagraphNear:()=>l8,cut:()=>c8,deleteCurrentNode:()=>u8,deleteNode:()=>d8,deleteRange:()=>f8,deleteSelection:()=>h8,enter:()=>p8,exitCode:()=>m8,extendMarkRange:()=>g8,first:()=>y8,focus:()=>x8,forEach:()=>b8,insertContent:()=>w8,insertContentAt:()=>E8,joinBackward:()=>T8,joinDown:()=>C8,joinForward:()=>N8,joinItemBackward:()=>A8,joinItemForward:()=>O8,joinTextblockBackward:()=>R8,joinTextblockForward:()=>j8,joinUp:()=>_8,keyboardShortcut:()=>M8,lift:()=>I8,liftEmptyBlock:()=>D8,liftListItem:()=>L8,newlineInCode:()=>$8,resetAttributes:()=>z8,scrollIntoView:()=>B8,selectAll:()=>F8,selectNodeBackward:()=>U8,selectNodeForward:()=>V8,selectParentNode:()=>H8,selectTextblockEnd:()=>W8,selectTextblockStart:()=>q8,setContent:()=>K8,setMark:()=>h9,setMeta:()=>p9,setNode:()=>m9,setNodeSelection:()=>g9,setTextDirection:()=>y9,setTextSelection:()=>v9,sinkListItem:()=>x9,splitBlock:()=>b9,splitListItem:()=>w9,toggleList:()=>k9,toggleMark:()=>S9,toggleNode:()=>E9,toggleWrap:()=>_9,undoInputRule:()=>C9,unsetAllMarks:()=>T9,unsetMark:()=>N9,unsetTextDirection:()=>A9,updateAttributes:()=>O9,wrapIn:()=>R9,wrapInList:()=>j9});var s8=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),i8=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),o8=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:s}=r;return n&&s.forEach(({$from:i,$to:o})=>{t.doc.nodesBetween(i.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+a.nodeSize)),p=d.blockRange(f);if(!p)return;const g=Ul(p);if(a.type.isTextblock){const{defaultType:m}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(p.start,m)}(g||g===0)&&e.lift(p,g)})}),!0},a8=t=>e=>t(e),l8=()=>({state:t,dispatch:e})=>eH(t,e),c8=(t,e)=>({editor:n,tr:r})=>{const{state:s}=n,i=s.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const o=r.mapping.map(e);return r.insert(o,i.content),r.setSelection(new me(r.doc.resolve(Math.max(o-1,0)))),!0},u8=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const s=t.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===r.type){if(e){const a=s.before(i),l=s.after(i);t.delete(a,l).scrollIntoView()}return!0}return!1};function bt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var d8=t=>({tr:e,state:n,dispatch:r})=>{const s=bt(t,n.schema),i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===s){if(r){const l=i.before(o),c=i.after(o);e.delete(l,c).scrollIntoView()}return!0}return!1},f8=t=>({tr:e,dispatch:n})=>{const{from:r,to:s}=t;return n&&e.delete(r,s),!0},h8=()=>({state:t,dispatch:e})=>UV(t,e),p8=()=>({commands:t})=>t.keyboardShortcut("Enter"),m8=()=>({state:t,dispatch:e})=>XV(t,e);function vb(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Dh(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>n.strict?e[s]===t[s]:vb(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function mj(t,e,n={}){return t.find(r=>r.type===e&&Dh(Object.fromEntries(Object.keys(n).map(s=>[s,r.attrs[s]])),n))}function JS(t,e,n={}){return!!mj(t,e,n)}function xb(t,e,n){var r;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(u=>u.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(u=>u.type===e)||(n=n||((r=s.node.marks[0])==null?void 0:r.attrs),!mj([...s.node.marks],e,n)))return;let o=s.index,a=t.start()+s.offset,l=o+1,c=a+s.node.nodeSize;for(;o>0&&JS([...t.parent.child(o-1).marks],e,n);)o-=1,a-=t.parent.child(o).nodeSize;for(;l<t.parent.childCount&&JS([...t.parent.child(l).marks],e,n);)c+=t.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function Is(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var g8=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const i=Is(t,r.schema),{doc:o,selection:a}=n,{$from:l,from:c,to:u}=a;if(s){const d=xb(l,i,e);if(d&&d.from<=c&&d.to>=u){const f=me.create(o,d.from,d.to);n.setSelection(f)}}return!0},y8=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function gj(t){return t instanceof me}function wo(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function yj(t,e=null){if(!e)return null;const n=Ee.atStart(t),r=Ee.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const s=n.from,i=r.to;return e==="all"?me.create(t,wo(0,s,i),wo(t.content.size,s,i)):me.create(t,wo(e,s,i),wo(e,s,i))}function v8(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function bb(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var x8=(t=null,e={})=>({editor:n,view:r,tr:s,dispatch:i})=>{e={scrollIntoView:!0,...e};const o=()=>{(bb()||v8())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!gj(n.state.selection))return o(),!0;const a=yj(s.doc,t)||n.state.selection,l=n.state.selection.eq(a);return i&&(l||s.setSelection(a),l&&s.storedMarks&&s.setStoredMarks(s.storedMarks),o()),!0},b8=(t,e)=>n=>t.every((r,s)=>e(r,{...n,index:s})),w8=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),vj=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&vj(r)}return t};function Jd(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return vj(n)}function Lu(t,e,n){if(t instanceof Ai||t instanceof D)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,s=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return D.fromArray(t.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(t);return n.errorOnInvalidContent&&o.check(),o}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),Lu("",e,n)}if(s){if(n.errorOnInvalidContent){let o=!1,a="";const l=new aR({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?Oi.fromSchema(l).parseSlice(Jd(t),n.parseOptions):Oi.fromSchema(l).parse(Jd(t),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const i=Oi.fromSchema(e);return n.slice?i.parseSlice(Jd(t),n.parseOptions).content:i.parse(Jd(t),n.parseOptions)}return Lu("",e,n)}function k8(t,e,n){const r=t.steps.length-1;if(r<e)return;const s=t.steps[r];if(!(s instanceof Tt||s instanceof Ot))return;const i=t.mapping.maps[r];let o=0;i.forEach((a,l,c,u)=>{o===0&&(o=u)}),t.setSelection(Ee.near(t.doc.resolve(o),n))}var S8=t=>!("type"in t),E8=(t,e,n)=>({tr:r,dispatch:s,editor:i})=>{var o;if(s){n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;const l=y=>{i.emit("contentError",{editor:i,error:y,disableCollaboration:()=>{"collaboration"in i.storage&&typeof i.storage.collaboration=="object"&&i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{Lu(e,i.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(y){l(y)}try{a=Lu(e,i.schema,{parseOptions:c,errorOnInvalidContent:(o=n.errorOnInvalidContent)!=null?o:i.options.enableContentCheck})}catch(y){return l(y),!1}let{from:u,to:d}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},f=!0,p=!0;if((S8(a)?a:[a]).forEach(y=>{y.check(),f=f?y.isText&&y.marks.length===0:!1,p=p?y.isBlock:!1}),u===d&&p){const{parent:y}=r.doc.resolve(u);y.isTextblock&&!y.type.spec.code&&!y.childCount&&(u-=1,d+=1)}let m;if(f){if(Array.isArray(e))m=e.map(y=>y.text||"").join("");else if(e instanceof D){let y="";e.forEach(v=>{v.text&&(y+=v.text)}),m=y}else typeof e=="object"&&e&&e.text?m=e.text:m=e;r.insertText(m,u,d)}else{m=a;const y=r.doc.resolve(u),v=y.node(),x=y.parentOffset===0,w=v.isText||v.isTextblock,k=v.content.size>0;x&&w&&k&&(u=Math.max(0,u-1)),r.replaceWith(u,d,m)}n.updateSelection&&k8(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:m}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:m})}return!0},_8=()=>({state:t,dispatch:e})=>JV(t,e),C8=()=>({state:t,dispatch:e})=>YV(t,e),T8=()=>({state:t,dispatch:e})=>VV(t,e),N8=()=>({state:t,dispatch:e})=>KV(t,e),A8=()=>({state:t,dispatch:e,tr:n})=>{try{const r=em(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},O8=()=>({state:t,dispatch:e,tr:n})=>{try{const r=em(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},R8=()=>({state:t,dispatch:e})=>HV(t,e),j8=()=>({state:t,dispatch:e})=>WV(t,e);function xj(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function P8(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,s,i,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))s=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))bb()||xj()?o=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}var M8=t=>({editor:e,view:n,tr:r,dispatch:s})=>{const i=P8(t).split(/-(?!$)/),o=i.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l==null||l.steps.forEach(c=>{const u=c.map(r.mapping);u&&s&&r.maybeStep(u)}),!0};function Fi(t,e,n={}){const{from:r,to:s,empty:i}=t.selection,o=e?bt(e,t.schema):null,a=[];t.doc.nodesBetween(r,s,(d,f)=>{if(d.isText)return;const p=Math.max(r,f),g=Math.min(s,f+d.nodeSize);a.push({node:d,from:p,to:g})});const l=s-r,c=a.filter(d=>o?o.name===d.node.type.name:!0).filter(d=>Dh(d.node.attrs,n,{strict:!1}));return i?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=l}var I8=(t,e={})=>({state:n,dispatch:r})=>{const s=bt(t,n.schema);return Fi(n,s,e)?QV(n,r):!1},D8=()=>({state:t,dispatch:e})=>tH(t,e),L8=t=>({state:e,dispatch:n})=>{const r=bt(t,e.schema);return uH(r)(e,n)},$8=()=>({state:t,dispatch:e})=>ZV(t,e);function lm(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function YS(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,s)=>(n.includes(s)||(r[s]=t[s]),r),{})}var z8=(t,e)=>({tr:n,state:r,dispatch:s})=>{let i=null,o=null;const a=lm(typeof t=="string"?t:t.name,r.schema);if(!a)return!1;a==="node"&&(i=bt(t,r.schema)),a==="mark"&&(o=Is(t,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,d)=>{i&&i===u.type&&(l=!0,s&&n.setNodeMarkup(d,void 0,YS(u.attrs,e))),o&&u.marks.length&&u.marks.forEach(f=>{o===f.type&&(l=!0,s&&n.addMark(d,d+u.nodeSize,o.create(YS(f.attrs,e))))})})}),l},B8=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),F8=()=>({tr:t,dispatch:e})=>{if(e){const n=new nr(t.doc);t.setSelection(n)}return!0},U8=()=>({state:t,dispatch:e})=>qV(t,e),V8=()=>({state:t,dispatch:e})=>GV(t,e),H8=()=>({state:t,dispatch:e})=>nH(t,e),W8=()=>({state:t,dispatch:e})=>iH(t,e),q8=()=>({state:t,dispatch:e})=>sH(t,e);function Kv(t,e,n={},r={}){return Lu(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var K8=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:s,tr:i,dispatch:o,commands:a})=>{const{doc:l}=i;if(r.preserveWhitespace!=="full"){const c=Kv(t,s.schema,r,{errorOnInvalidContent:e??s.options.enableContentCheck});return o&&i.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return o&&i.setMeta("preventUpdate",!n),a.insertContentAt({from:0,to:l.content.size},t,{parseOptions:r,errorOnInvalidContent:e??s.options.enableContentCheck})};function bj(t,e){const n=Is(e,t.schema),{from:r,to:s,empty:i}=t.selection,o=[];i?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,s,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function wj(t,e){const n=new SR(t);return e.forEach(r=>{r.steps.forEach(s=>{n.step(s)})}),n}function G8(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function J8(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(s,i)=>{n(s)&&r.push({node:s,pos:i})}),r}function Y8(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function cm(t){return e=>Y8(e.$from,t)}function ie(t,e,n){return t.config[e]===void 0&&t.parent?ie(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?ie(t.parent,e,n):null}):t.config[e]}function wb(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=ie(e,"addExtensions",n);return r?[e,...wb(r())]:e}).flat(10)}function kb(t,e){const n=ia.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}function kj(t){return typeof t=="function"}function Fe(t,e=void 0,...n){return kj(t)?e?t.bind(e)(...n):t(...n):t}function Q8(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Ol(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),r=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function Sj(t){const e=[],{nodeExtensions:n,markExtensions:r}=Ol(t),s=[...n,...r],i={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:s},l=ie(o,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([f,p])=>{e.push({type:d,name:f,attribute:{...i,...p}})})})})}),s.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=ie(o,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,d])=>{const f={...i,...d};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,e.push({type:o.name,name:u,attribute:f})})}),e}function ht(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([s,i])=>{if(!r[s]){r[s]=i;return}if(s==="class"){const a=i?String(i).split(" "):[],l=r[s]?r[s].split(" "):[],c=a.filter(u=>!l.includes(u));r[s]=[...l,...c].join(" ")}else if(s==="style"){const a=i?i.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[s]?r[s].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),a.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),r[s]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[s]=i}),r},{})}function Lh(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>ht(n,r),{})}function Z8(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function QS(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const s=e.reduce((i,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(n):Z8(n.getAttribute(o.name));return a==null?i:{...i,[o.name]:a}},{});return{...r,...s}}}}function ZS(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&Q8(n)?!1:n!=null))}function XS(t){var e,n;const r={};return!((e=t==null?void 0:t.attribute)!=null&&e.isRequired)&&"default"in((t==null?void 0:t.attribute)||{})&&(r.default=t.attribute.default),((n=t==null?void 0:t.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=t.attribute.validate),[t.name,r]}function X8(t,e){var n;const r=Sj(t),{nodeExtensions:s,markExtensions:i}=Ol(t),o=(n=s.find(c=>ie(c,"topNode")))==null?void 0:n.name,a=Object.fromEntries(s.map(c=>{const u=r.filter(v=>v.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},f=t.reduce((v,x)=>{const w=ie(x,"extendNodeSchema",d);return{...v,...w?w(c):{}}},{}),p=ZS({...f,content:Fe(ie(c,"content",d)),marks:Fe(ie(c,"marks",d)),group:Fe(ie(c,"group",d)),inline:Fe(ie(c,"inline",d)),atom:Fe(ie(c,"atom",d)),selectable:Fe(ie(c,"selectable",d)),draggable:Fe(ie(c,"draggable",d)),code:Fe(ie(c,"code",d)),whitespace:Fe(ie(c,"whitespace",d)),linebreakReplacement:Fe(ie(c,"linebreakReplacement",d)),defining:Fe(ie(c,"defining",d)),isolating:Fe(ie(c,"isolating",d)),attrs:Object.fromEntries(u.map(XS))}),g=Fe(ie(c,"parseHTML",d));g&&(p.parseDOM=g.map(v=>QS(v,u)));const m=ie(c,"renderHTML",d);m&&(p.toDOM=v=>m({node:v,HTMLAttributes:Lh(v,u)}));const y=ie(c,"renderText",d);return y&&(p.toText=y),[c.name,p]})),l=Object.fromEntries(i.map(c=>{const u=r.filter(y=>y.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},f=t.reduce((y,v)=>{const x=ie(v,"extendMarkSchema",d);return{...y,...x?x(c):{}}},{}),p=ZS({...f,inclusive:Fe(ie(c,"inclusive",d)),excludes:Fe(ie(c,"excludes",d)),group:Fe(ie(c,"group",d)),spanning:Fe(ie(c,"spanning",d)),code:Fe(ie(c,"code",d)),attrs:Object.fromEntries(u.map(XS))}),g=Fe(ie(c,"parseHTML",d));g&&(p.parseDOM=g.map(y=>QS(y,u)));const m=ie(c,"renderHTML",d);return m&&(p.toDOM=y=>m({mark:y,HTMLAttributes:Lh(y,u)})),[c.name,p]}));return new aR({topNode:o,nodes:a,marks:l})}function e9(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function $h(t){return t.sort((n,r)=>{const s=ie(n,"priority")||100,i=ie(r,"priority")||100;return s>i?-1:s<i?1:0})}function Ej(t){const e=$h(wb(t)),n=e9(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function _j(t,e,n){const{from:r,to:s}=e,{blockSeparator:i=`

`,textSerializers:o={}}=n||{};let a="";return t.nodesBetween(r,s,(l,c,u,d)=>{var f;l.isBlock&&c>r&&(a+=i);const p=o==null?void 0:o[l.type.name];if(p)return u&&(a+=p({node:l,pos:c,parent:u,index:d,range:e})),!1;l.isText&&(a+=(f=l==null?void 0:l.text)==null?void 0:f.slice(Math.max(r,c)-c,s-c))}),a}function t9(t,e){const n={from:0,to:t.content.size};return _j(t,n,e)}function Cj(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function n9(t,e){const n=bt(e,t.schema),{from:r,to:s}=t.selection,i=[];t.doc.nodesBetween(r,s,a=>{i.push(a)});const o=i.reverse().find(a=>a.type.name===n.name);return o?{...o.attrs}:{}}function Tj(t,e){const n=lm(typeof e=="string"?e:e.name,t.schema);return n==="node"?n9(t,e):n==="mark"?bj(t,e):{}}function r9(t,e=JSON.stringify){const n={};return t.filter(r=>{const s=e(r);return Object.prototype.hasOwnProperty.call(n,s)?!1:n[s]=!0})}function s9(t){const e=r9(t);return e.length===1?e:e.filter((n,r)=>!e.filter((i,o)=>o!==r).some(i=>n.oldRange.from>=i.oldRange.from&&n.oldRange.to<=i.oldRange.to&&n.newRange.from>=i.newRange.from&&n.newRange.to<=i.newRange.to))}function Nj(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((s,i)=>{const o=[];if(s.ranges.length)s.forEach((a,l)=>{o.push({from:a,to:l})});else{const{from:a,to:l}=n[i];if(a===void 0||l===void 0)return;o.push({from:a,to:l})}o.forEach(({from:a,to:l})=>{const c=e.slice(i).map(a,-1),u=e.slice(i).map(l),d=e.invert().map(c,-1),f=e.invert().map(u);r.push({oldRange:{from:d,to:f},newRange:{from:c,to:u}})})}),s9(r)}function Sb(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(s=>{const i=n.resolve(t),o=xb(i,s.type);o&&r.push({mark:s,...o})}):n.nodesBetween(t,e,(s,i)=>{!s||(s==null?void 0:s.nodeSize)===void 0||r.push(...s.marks.map(o=>({from:i,to:i+s.nodeSize,mark:o})))}),r}var i9=(t,e,n,r=20)=>{const s=t.doc.resolve(n);let i=r,o=null;for(;i>0&&o===null;){const a=s.node(i);(a==null?void 0:a.type.name)===e?o=a:i-=1}return[o,i]};function Yd(t,e){return e.nodes[t]||e.marks[t]||null}function Af(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const s=t.find(i=>i.type===e&&i.name===r);return s?s.attribute.keepOnSplit:!1}))}var o9=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(s,i,o,a)=>{var l,c;const u=((c=(l=s.type.spec).toText)==null?void 0:c.call(l,{node:s,pos:i,parent:o,index:a}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?u:u.slice(0,Math.max(0,r-i))}),n};function Gv(t,e,n={}){const{empty:r,ranges:s}=t.selection,i=e?Is(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>i?i.name===d.type.name:!0).find(d=>Dh(d.attrs,n,{strict:!1}));let o=0;const a=[];if(s.forEach(({$from:d,$to:f})=>{const p=d.pos,g=f.pos;t.doc.nodesBetween(p,g,(m,y)=>{if(!m.isText&&!m.marks.length)return;const v=Math.max(p,y),x=Math.min(g,y+m.nodeSize),w=x-v;o+=w,a.push(...m.marks.map(k=>({mark:k,from:v,to:x})))})}),o===0)return!1;const l=a.filter(d=>i?i.name===d.mark.type.name:!0).filter(d=>Dh(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=a.filter(d=>i?d.mark.type!==i&&d.mark.type.excludes(i):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+c:l)>=o}function a9(t,e,n={}){if(!e)return Fi(t,null,n)||Gv(t,null,n);const r=lm(e,t.schema);return r==="node"?Fi(t,e,n):r==="mark"?Gv(t,e,n):!1}var l9=(t,e)=>{const{$from:n,$to:r,$anchor:s}=t.selection;if(e){const i=cm(a=>a.type.name===e)(t.selection);if(!i)return!1;const o=t.doc.resolve(i.pos+1);return s.pos+1===o.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},c9=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function eE(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function tE(t,e){const{nodeExtensions:n}=Ol(e),r=n.find(o=>o.name===t);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},i=Fe(ie(r,"group",s));return typeof i!="string"?!1:i.split(" ").includes("list")}function um(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(i=>{s!==!1&&(um(i,{ignoreWhitespace:n,checkChildren:e})||(s=!1))}),s}return!1}function Aj(t){return t instanceof ae}var Oj=class Rj{constructor(e){this.position=e}static fromJSON(e){return new Rj(e.position)}toJSON(){return{position:this.position}}};function u9(t,e){const n=e.mapping.mapResult(t.position);return{position:new Oj(n.pos),mapResult:n}}function d9(t){return new Oj(t)}function f9(t,e,n){var r;const{selection:s}=e;let i=null;if(gj(s)&&(i=s.$cursor),i){const a=(r=t.storedMarks)!=null?r:i.marks();return i.parent.type.allowsMarkType(n)&&(!!n.isInSet(a)||!a.some(c=>c.type.excludes(n)))}const{ranges:o}=s;return o.some(({$from:a,$to:l})=>{let c=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const p=!f||f.type.allowsMarkType(n),g=!!n.isInSet(u.marks)||!u.marks.some(m=>m.type.excludes(n));c=p&&g}return!c}),c})}var h9=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const{selection:i}=n,{empty:o,ranges:a}=i,l=Is(t,r.schema);if(s)if(o){const c=bj(r,l);n.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(f,p)=>{const g=Math.max(p,u),m=Math.min(p+f.nodeSize,d);f.marks.find(v=>v.type===l)?f.marks.forEach(v=>{l===v.type&&n.addMark(g,m,l.create({...v.attrs,...e}))}):n.addMark(g,m,l.create(e))})});return f9(r,n,l)},p9=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),m9=(t,e={})=>({state:n,dispatch:r,chain:s})=>{const i=bt(t,n.schema);let o;return n.selection.$anchor.sameParent(n.selection.$head)&&(o=n.selection.$anchor.parent.attrs),i.isTextblock?s().command(({commands:a})=>mS(i,{...o,...e})(n)?!0:a.clearNodes()).command(({state:a})=>mS(i,{...o,...e})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},g9=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,s=wo(t,0,r.content.size),i=ae.create(r,s);e.setSelection(i)}return!0},y9=(t,e)=>({tr:n,state:r,dispatch:s})=>{const{selection:i}=r;let o,a;return typeof e=="number"?(o=e,a=e):e&&"from"in e&&"to"in e?(o=e.from,a=e.to):(o=i.from,a=i.to),s&&n.doc.nodesBetween(o,a,(l,c)=>{l.isText||n.setNodeMarkup(c,void 0,{...l.attrs,dir:t})}),!0},v9=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:s,to:i}=typeof t=="number"?{from:t,to:t}:t,o=me.atStart(r).from,a=me.atEnd(r).to,l=wo(s,o,a),c=wo(i,o,a),u=me.create(r,l,c);e.setSelection(u)}return!0},x9=t=>({state:e,dispatch:n})=>{const r=bt(t,e.schema);return hH(r)(e,n)};function nE(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(s=>e==null?void 0:e.includes(s.type.name));t.tr.ensureMarks(r)}}var b9=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:s})=>{const{selection:i,doc:o}=e,{$from:a,$to:l}=i,c=s.extensionManager.attributes,u=Af(c,a.node().type.name,a.node().attrs);if(i instanceof ae&&i.node.isBlock)return!a.parentOffset||!Qa(o,a.pos)?!1:(r&&(t&&nE(n,s.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,f=a.depth===0?void 0:G8(a.node(-1).contentMatchAt(a.indexAfter(-1)));let p=d&&f?[{type:f,attrs:u}]:void 0,g=Qa(e.doc,e.mapping.map(a.pos),1,p);if(!p&&!g&&Qa(e.doc,e.mapping.map(a.pos),1,f?[{type:f}]:void 0)&&(g=!0,p=f?[{type:f,attrs:u}]:void 0),r){if(g&&(i instanceof me&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,p),f&&!d&&!a.parentOffset&&a.parent.type!==f)){const m=e.mapping.map(a.before()),y=e.doc.resolve(m);a.node(-1).canReplaceWith(y.index(),y.index()+1,f)&&e.setNodeMarkup(e.mapping.map(a.before()),f)}t&&nE(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return g},w9=(t,e={})=>({tr:n,state:r,dispatch:s,editor:i})=>{var o;const a=bt(t,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==a)return!1;const f=i.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(s){let v=D.empty;const x=l.index(-1)?1:l.index(-2)?2:3;for(let C=l.depth-x;C>=l.depth-3;C-=1)v=D.from(l.node(C).copy(v));const w=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,k={...Af(f,l.node().type.name,l.node().attrs),...e},S=((o=a.contentMatch.defaultType)==null?void 0:o.createAndFill(k))||void 0;v=v.append(D.from(a.createAndFill(null,S)||void 0));const _=l.before(l.depth-(x-1));n.replace(_,l.after(-w),new G(v,4-x,0));let E=-1;n.doc.nodesBetween(_,n.doc.content.size,(C,N)=>{if(E>-1)return!1;C.isTextblock&&C.content.size===0&&(E=N+1)}),E>-1&&n.setSelection(me.near(n.doc.resolve(E))),n.scrollIntoView()}return!0}const p=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,g={...Af(f,d.type.name,d.attrs),...e},m={...Af(f,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,c.pos);const y=p?[{type:a,attrs:g},{type:p,attrs:m}]:[{type:a,attrs:g}];if(!Qa(n.doc,l.pos,2))return!1;if(s){const{selection:v,storedMarks:x}=r,{splittableMarks:w}=i.extensionManager,k=x||v.$to.parentOffset&&v.$from.marks();if(n.split(l.pos,2,y).scrollIntoView(),!k||!s)return!0;const S=k.filter(_=>w.includes(_.type.name));n.ensureMarks(S)}return!0},Dg=(t,e)=>{const n=cm(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&Gi(t.doc,n.pos)&&t.join(n.pos),!0},Lg=(t,e)=>{const n=cm(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&Gi(t.doc,r)&&t.join(r),!0},k9=(t,e,n,r={})=>({editor:s,tr:i,state:o,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=s.extensionManager,p=bt(t,o.schema),g=bt(e,o.schema),{selection:m,storedMarks:y}=o,{$from:v,$to:x}=m,w=v.blockRange(x),k=y||m.$to.parentOffset&&m.$from.marks();if(!w)return!1;const S=cm(_=>tE(_.type.name,d))(m);if(w.depth>=1&&S&&w.depth-S.depth<=1){if(S.node.type===p)return c.liftListItem(g);if(tE(S.node.type.name,d)&&p.validContent(S.node.content)&&a)return l().command(()=>(i.setNodeMarkup(S.pos,p),!0)).command(()=>Dg(i,p)).command(()=>Lg(i,p)).run()}return!n||!k||!a?l().command(()=>u().wrapInList(p,r)?!0:c.clearNodes()).wrapInList(p,r).command(()=>Dg(i,p)).command(()=>Lg(i,p)).run():l().command(()=>{const _=u().wrapInList(p,r),E=k.filter(C=>f.includes(C.type.name));return i.ensureMarks(E),_?!0:c.clearNodes()}).wrapInList(p,r).command(()=>Dg(i,p)).command(()=>Lg(i,p)).run()},S9=(t,e={},n={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:i=!1}=n,o=Is(t,r.schema);return Gv(r,o,e)?s.unsetMark(o,{extendEmptyMarkRange:i}):s.setMark(o,e)},E9=(t,e,n={})=>({state:r,commands:s})=>{const i=bt(t,r.schema),o=bt(e,r.schema),a=Fi(r,i,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?s.setNode(o,l):s.setNode(i,{...l,...n})},_9=(t,e={})=>({state:n,commands:r})=>{const s=bt(t,n.schema);return Fi(n,s,e)?r.lift(s):r.wrapIn(s,e)},C9=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const s=n[r];let i;if(s.spec.isInputRules&&(i=s.getState(t))){if(e){const o=t.tr,a=i.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(i.text){const l=o.doc.resolve(i.from).marks();o.replaceWith(i.from,i.to,t.schema.text(i.text,l))}else o.delete(i.from,i.to)}return!0}}return!1},T9=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:s}=n;return r||e&&s.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},N9=(t,e={})=>({tr:n,state:r,dispatch:s})=>{var i;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=n,l=Is(t,r.schema),{$from:c,empty:u,ranges:d}=a;if(!s)return!0;if(u&&o){let{from:f,to:p}=a;const g=(i=c.marks().find(y=>y.type===l))==null?void 0:i.attrs,m=xb(c,l,g);m&&(f=m.from,p=m.to),n.removeMark(f,p,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},A9=t=>({tr:e,state:n,dispatch:r})=>{const{selection:s}=n;let i,o;return typeof t=="number"?(i=t,o=t):t&&"from"in t&&"to"in t?(i=t.from,o=t.to):(i=s.from,o=s.to),r&&e.doc.nodesBetween(i,o,(a,l)=>{if(a.isText)return;const c={...a.attrs};delete c.dir,e.setNodeMarkup(l,void 0,c)}),!0},O9=(t,e={})=>({tr:n,state:r,dispatch:s})=>{let i=null,o=null;const a=lm(typeof t=="string"?t:t.name,r.schema);if(!a)return!1;a==="node"&&(i=bt(t,r.schema)),a==="mark"&&(o=Is(t,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;let f,p,g,m;n.selection.empty?r.doc.nodesBetween(u,d,(y,v)=>{i&&i===y.type&&(l=!0,g=Math.max(v,u),m=Math.min(v+y.nodeSize,d),f=v,p=y)}):r.doc.nodesBetween(u,d,(y,v)=>{v<u&&i&&i===y.type&&(l=!0,g=Math.max(v,u),m=Math.min(v+y.nodeSize,d),f=v,p=y),v>=u&&v<=d&&(i&&i===y.type&&(l=!0,s&&n.setNodeMarkup(v,void 0,{...y.attrs,...e})),o&&y.marks.length&&y.marks.forEach(x=>{if(o===x.type&&(l=!0,s)){const w=Math.max(v,u),k=Math.min(v+y.nodeSize,d);n.addMark(w,k,o.create({...x.attrs,...e}))}}))}),p&&(f!==void 0&&s&&n.setNodeMarkup(f,void 0,{...p.attrs,...e}),o&&p.marks.length&&p.marks.forEach(y=>{o===y.type&&s&&n.addMark(g,m,o.create({...y.attrs,...e}))}))}),l},R9=(t,e={})=>({state:n,dispatch:r})=>{const s=bt(t,n.schema);return oH(s,e)(n,r)},j9=(t,e={})=>({state:n,dispatch:r})=>{const s=bt(t,n.schema);return aH(s,e)(n,r)},P9=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},dm=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},M9=(t,e)=>{if(vb(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Qd(t){var e;const{editor:n,from:r,to:s,text:i,rules:o,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(e=c.nodeBefore||c.nodeAfter)!=null&&e.marks.find(f=>f.type.spec.code))return!1;let u=!1;const d=o9(c)+i;return o.forEach(f=>{if(u)return;const p=M9(d,f.find);if(!p)return;const g=l.state.tr,m=om({state:l.state,transaction:g}),y={from:r-(p[0].length-i.length),to:s},{commands:v,chain:x,can:w}=new am({editor:n,state:m});f.handler({state:m,range:y,match:p,commands:v,chain:x,can:w})===null||!g.steps.length||(f.undoable&&g.setMeta(a,{transform:g,from:r,to:s,text:i}),l.dispatch(g),u=!0)}),u}function I9(t){const{editor:e,rules:n}=t,r=new ot({state:{init(){return null},apply(s,i,o){const a=s.getMeta(r);if(a)return a;const l=s.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:u}=l;typeof u=="string"?u=u:u=kb(D.from(u),o.schema);const{from:d}=l,f=d+u.length;Qd({editor:e,from:d,to:f,text:u,rules:n,plugin:r})}),s.selectionSet||s.docChanged?null:i}},props:{handleTextInput(s,i,o,a){return Qd({editor:e,from:i,to:o,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:i}=s.state.selection;i&&Qd({editor:e,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(s,i){if(i.key!=="Enter")return!1;const{$cursor:o}=s.state.selection;return o?Qd({editor:e,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function D9(t){return Object.prototype.toString.call(t).slice(8,-1)}function Zd(t){return D9(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function jj(t,e){const n={...t};return Zd(t)&&Zd(e)&&Object.keys(e).forEach(r=>{Zd(e[r])&&Zd(t[r])?n[r]=jj(t[r],e[r]):n[r]=e[r]}),n}var Eb=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Fe(ie(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Fe(ie(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>jj(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},oa=class Pj extends Eb{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new Pj(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const o=s.marks();if(!!!o.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const l=o.find(c=>(c==null?void 0:c.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function L9(t){return typeof t=="number"}var $9=class{constructor(t){this.find=t.find,this.handler=t.handler}},z9=(t,e,n)=>{if(vb(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(s=>{const i=[s.text];return i.index=s.index,i.input=t,i.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(s.replaceWith)),i}):[]};function B9(t){const{editor:e,state:n,from:r,to:s,rule:i,pasteEvent:o,dropEvent:a}=t,{commands:l,chain:c,can:u}=new am({editor:e,state:n}),d=[];return n.doc.nodesBetween(r,s,(p,g)=>{var m,y,v,x,w;if((y=(m=p.type)==null?void 0:m.spec)!=null&&y.code||!(p.isText||p.isTextblock||p.isInline))return;const k=(w=(x=(v=p.content)==null?void 0:v.size)!=null?x:p.nodeSize)!=null?w:0,S=Math.max(r,g),_=Math.min(s,g+k);if(S>=_)return;const E=p.isText?p.text||"":p.textBetween(S-g,_-g,void 0,"");z9(E,i.find,o).forEach(N=>{if(N.index===void 0)return;const R=S+N.index+1,L=R+N[0].length,I={from:n.tr.mapping.map(R),to:n.tr.mapping.map(L)},Z=i.handler({state:n,range:I,match:N,commands:l,chain:c,can:u,pasteEvent:o,dropEvent:a});d.push(Z)})}),d.every(p=>p!==null)}var Xd=null,F9=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function U9(t){const{editor:e,rules:n}=t;let r=null,s=!1,i=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:u,from:d,to:f,rule:p,pasteEvt:g})=>{const m=u.tr,y=om({state:u,transaction:m});if(!(!B9({editor:e,state:y,from:Math.max(d-1,0),to:f.b-1,rule:p,pasteEvent:g,dropEvent:a})||!m.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,m}};return n.map(u=>new ot({view(d){const f=g=>{var m;r=(m=d.dom.parentElement)!=null&&m.contains(g.target)?d.dom.parentElement:null,r&&(Xd=e)},p=()=>{Xd&&(Xd=null)};return window.addEventListener("dragstart",f),window.addEventListener("dragend",p),{destroy(){window.removeEventListener("dragstart",f),window.removeEventListener("dragend",p)}}},props:{handleDOMEvents:{drop:(d,f)=>{if(i=r===d.dom.parentElement,a=f,!i){const p=Xd;p!=null&&p.isEditable&&setTimeout(()=>{const g=p.state.selection;g&&p.commands.deleteRange({from:g.from,to:g.to})},10)}return!1},paste:(d,f)=>{var p;const g=(p=f.clipboardData)==null?void 0:p.getData("text/html");return o=f,s=!!(g!=null&&g.includes("data-pm-slice")),!1}}},appendTransaction:(d,f,p)=>{const g=d[0],m=g.getMeta("uiEvent")==="paste"&&!s,y=g.getMeta("uiEvent")==="drop"&&!i,v=g.getMeta("applyPasteRules"),x=!!v;if(!m&&!y&&!x)return;if(x){let{text:S}=v;typeof S=="string"?S=S:S=kb(D.from(S),p.schema);const{from:_}=v,E=_+S.length,C=F9(S);return l({rule:u,state:p,from:_,to:{b:E},pasteEvt:C})}const w=f.doc.content.findDiffStart(p.doc.content),k=f.doc.content.findDiffEnd(p.doc.content);if(!(!L9(w)||!k||w===k.b))return l({rule:u,state:p,from:w,to:k,pasteEvt:o})}}))}var fm=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=Ej(t),this.schema=X8(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Yd(e.name,this.schema)},r=ie(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return $h([...this.extensions].reverse()).flatMap(r=>{const s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:Yd(r.name,this.schema)},i=[],o=ie(r,"addKeyboardShortcuts",s);let a={};if(r.type==="mark"&&ie(r,"exitable",s)&&(a.ArrowRight=()=>oa.handleExit({editor:t,mark:r})),o){const f=Object.fromEntries(Object.entries(o()).map(([p,g])=>[p,()=>g({editor:t})]));a={...a,...f}}const l=n8(a);i.push(l);const c=ie(r,"addInputRules",s);if(eE(r,t.options.enableInputRules)&&c){const f=c();if(f&&f.length){const p=I9({editor:t,rules:f}),g=Array.isArray(p)?p:[p];i.push(...g)}}const u=ie(r,"addPasteRules",s);if(eE(r,t.options.enablePasteRules)&&u){const f=u();if(f&&f.length){const p=U9({editor:t,rules:f});i.push(...p)}}const d=ie(r,"addProseMirrorPlugins",s);if(d){const f=d();i.push(...f)}return i})}get attributes(){return Sj(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=Ol(this.extensions);return Object.fromEntries(e.filter(n=>!!ie(n,"addNodeView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:bt(n.name,this.schema)},i=ie(n,"addNodeView",s);if(!i)return[];const o=i();if(!o)return[];const a=(l,c,u,d,f)=>{const p=Lh(l,r);return o({node:l,view:c,getPos:u,decorations:d,innerDecorations:f,editor:t,extension:n,HTMLAttributes:p})};return[n.name,a]}))}dispatchTransaction(t){const{editor:e}=this;return $h([...this.extensions].reverse()).reduceRight((r,s)=>{const i={name:s.name,options:s.options,storage:this.editor.extensionStorage[s.name],editor:e,type:Yd(s.name,this.schema)},o=ie(s,"dispatchTransaction",i);return o?a=>{o.call(i,{transaction:a,next:r})}:r},t)}get markViews(){const{editor:t}=this,{markExtensions:e}=Ol(this.extensions);return Object.fromEntries(e.filter(n=>!!ie(n,"addMarkView")).map(n=>{const r=this.attributes.filter(a=>a.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Is(n.name,this.schema)},i=ie(n,"addMarkView",s);if(!i)return[];const o=(a,l,c)=>{const u=Lh(a,r);return i()({mark:a,view:l,inline:c,editor:t,extension:n,HTMLAttributes:u,updateAttributes:d=>{rq(a,t,d)}})};return[n.name,o]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Yd(e.name,this.schema)};e.type==="mark"&&((n=Fe(ie(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const s=ie(e,"onBeforeCreate",r),i=ie(e,"onCreate",r),o=ie(e,"onUpdate",r),a=ie(e,"onSelectionUpdate",r),l=ie(e,"onTransaction",r),c=ie(e,"onFocus",r),u=ie(e,"onBlur",r),d=ie(e,"onDestroy",r);s&&this.editor.on("beforeCreate",s),i&&this.editor.on("create",i),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}};fm.resolve=Ej;fm.sort=$h;fm.flatten=wb;var V9={};yb(V9,{ClipboardTextSerializer:()=>Ij,Commands:()=>Dj,Delete:()=>Lj,Drop:()=>$j,Editable:()=>zj,FocusEvents:()=>Fj,Keymap:()=>Uj,Paste:()=>Vj,Tabindex:()=>Hj,TextDirection:()=>Wj,focusEventsPluginKey:()=>Bj});var pt=class Mj extends Eb{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new Mj(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},Ij=pt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new ot({key:new _t("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:s}=e,{ranges:i}=s,o=Math.min(...i.map(u=>u.$from.pos)),a=Math.max(...i.map(u=>u.$to.pos)),l=Cj(n);return _j(r,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),Dj=pt.create({name:"commands",addCommands(){return{...pj}}}),Lj=pt.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,s;const i=()=>{var o,a,l,c;if((c=(l=(a=(o=this.editor.options.coreExtensionOptions)==null?void 0:o.delete)==null?void 0:a.filterTransaction)==null?void 0:l.call(a,t))!=null?c:t.getMeta("y-sync$"))return;const u=wj(t.before,[t,...e]);Nj(u).forEach(p=>{u.mapping.mapResult(p.oldRange.from).deletedAfter&&u.mapping.mapResult(p.oldRange.to).deletedBefore&&u.before.nodesBetween(p.oldRange.from,p.oldRange.to,(g,m)=>{const y=m+g.nodeSize-2,v=p.oldRange.from<=m&&y<=p.oldRange.to;this.editor.emit("delete",{type:"node",node:g,from:m,to:y,newFrom:u.mapping.map(m),newTo:u.mapping.map(y),deletedRange:p.oldRange,newRange:p.newRange,partial:!v,editor:this.editor,transaction:t,combinedTransform:u})})});const f=u.mapping;u.steps.forEach((p,g)=>{var m,y;if(p instanceof Tr){const v=f.slice(g).map(p.from,-1),x=f.slice(g).map(p.to),w=f.invert().map(v,-1),k=f.invert().map(x),S=(m=u.doc.nodeAt(v-1))==null?void 0:m.marks.some(E=>E.eq(p.mark)),_=(y=u.doc.nodeAt(x))==null?void 0:y.marks.some(E=>E.eq(p.mark));this.editor.emit("delete",{type:"mark",mark:p.mark,from:p.from,to:p.to,deletedRange:{from:w,to:k},newRange:{from:v,to:x},partial:!!(_||S),editor:this.editor,transaction:t,combinedTransform:u})}})};(s=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||s?setTimeout(i,0):i()}}),$j=pt.create({name:"drop",addProseMirrorPlugins(){return[new ot({key:new _t("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),zj=pt.create({name:"editable",addProseMirrorPlugins(){return[new ot({key:new _t("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Bj=new _t("focusEvents"),Fj=pt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new ot({key:Bj,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),Uj=pt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:d}=l,{pos:f,parent:p}=d,g=d.parent.isTextblock&&f>0?a.doc.resolve(f-1):d,m=g.parent.type.spec.isolating,y=d.pos-d.parentOffset,v=m&&g.parent.childCount===1?y===d.pos:Ee.atStart(c).from===f;return!u||!p.type.isTextblock||p.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},i={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return bb()||xj()?i:s},addProseMirrorPlugins(){return[new ot({key:new _t("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(m=>m.getMeta("composition")))return;const r=t.some(m=>m.docChanged)&&!e.doc.eq(n.doc),s=t.some(m=>m.getMeta("preventClearDocument"));if(!r||s)return;const{empty:i,from:o,to:a}=e.selection,l=Ee.atStart(e.doc).from,c=Ee.atEnd(e.doc).to;if(i||!(o===l&&a===c)||!um(n.doc))return;const f=n.tr,p=om({state:n,transaction:f}),{commands:g}=new am({editor:this.editor,state:p});if(g.clearNodes(),!!f.steps.length)return f}})]}}),Vj=pt.create({name:"paste",addProseMirrorPlugins(){return[new ot({key:new _t("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),Hj=pt.create({name:"tabindex",addProseMirrorPlugins(){return[new ot({key:new _t("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),Wj=pt.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=Ol(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const n=e.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new ot({key:new _t("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),H9=class Ca{constructor(e,n,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Ca(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Ca(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Ca(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const s=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,o=this.pos+r+(i?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(o);if(!s&&a.depth<=this.depth)return;const l=new Ca(a,this.editor,s,s?n:null);s&&(l.actualDepth=this.depth+1),e.push(new Ca(a,this.editor,s,s?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===e)if(Object.keys(n).length>0){const i=s.node.attrs,o=Object.keys(n);for(let a=0;a<o.length;a+=1){const l=o[a];if(i[l]!==n[l])break}}else r=s;s=s.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const i=Object.keys(n);return this.children.forEach(o=>{r&&s.length>0||(o.node.type.name===e&&i.every(l=>n[l]===o.node.attrs[l])&&s.push(o),!(r&&s.length>0)&&(s=s.concat(o.querySelectorAll(e,n,r))))}),s}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},W9=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function q9(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}var K9=class extends P9{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:u9,createMappablePosition:d9},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:s,moved:i})=>this.options.onDrop(r,s,i)),this.on("paste",({event:r,slice:s})=>this.options.onPaste(r,s)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=yj(e,this.options.autofocus);this.editorState=Ba.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=q9(W9,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=kj(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(s=>{const i=typeof s=="string"?`${s}$`:s.key;n=n.filter(o=>!o.key.startsWith(i))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[zj,Ij.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),Dj,Fj,Uj,Hj,$j,Vj,Lj,Wj.configure({direction:this.options.textDirection})].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new fm(r,this)}createCommandManager(){this.commandManager=new am({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=Kv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=Kv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){const{editorProps:e,enableExtensionDispatchTransaction:n}=this.options,r=e.dispatchTransaction||this.dispatchTransaction.bind(this),s=n?this.extensionManager.dispatchTransaction(r):r;this.editorView=new fj(t,{...e,attributes:{role:"textbox",...e==null?void 0:e.attributes},dispatchTransaction:s,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.prependClass(),this.injectCSS();const o=this.view.dom;o.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(c=>{var u;return(u=this.capturedTransaction)==null?void 0:u.step(c)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),s=n.includes(t),i=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!s)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const o=n.findLast(c=>c.getMeta("focus")||c.getMeta("blur")),a=o==null?void 0:o.getMeta("focus"),l=o==null?void 0:o.getMeta("blur");a&&this.emit("focus",{editor:this,event:a.event,transaction:o}),l&&this.emit("blur",{editor:this,event:l.event,transaction:o}),!(t.getMeta("preventUpdate")||!n.some(c=>c.docChanged)||i.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return Tj(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return a9(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return kb(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return t9(this.state.doc,{blockSeparator:e,textSerializers:{...Cj(this.schema),...n}})}get isEmpty(){return um(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new H9(e,this)}get $doc(){return this.$pos(0)}};function Rl(t){return new dm({find:t.find,handler:({state:e,range:n,match:r})=>{const s=Fe(t.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:i}=e,o=r[r.length-1],a=r[0];if(o){const l=a.search(/\S/),c=n.from+a.indexOf(o),u=c+o.length;if(Sb(n.from,n.to,e.doc).filter(p=>p.mark.type.excluded.find(m=>m===t.type&&m!==p.mark.type)).filter(p=>p.to>c).length)return null;u<n.to&&i.delete(u,n.to),c>n.from&&i.delete(n.from+l,c);const f=n.from+l+o.length;i.addMark(n.from+l,f,t.type.create(s||{})),i.removeStoredMark(t.type)}},undoable:t.undoable})}function qj(t){return new dm({find:t.find,handler:({state:e,range:n,match:r})=>{const s=Fe(t.getAttributes,void 0,r)||{},{tr:i}=e,o=n.from;let a=n.to;const l=t.type.create(s);if(r[1]){const c=r[0].lastIndexOf(r[1]);let u=o+c;u>a?u=a:a=u+r[1].length;const d=r[0][r[0].length-1];i.insertText(d,o+r[0].length-1),i.replaceWith(u,a,l)}else if(r[0]){const c=t.type.isInline?o:o-1;i.insert(c,t.type.create(s)).delete(i.mapping.map(o),i.mapping.map(a))}i.scrollIntoView()},undoable:t.undoable})}function Jv(t){return new dm({find:t.find,handler:({state:e,range:n,match:r})=>{const s=e.doc.resolve(n.from),i=Fe(t.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,i)},undoable:t.undoable})}function jl(t){return new dm({find:t.find,handler:({state:e,range:n,match:r,chain:s})=>{const i=Fe(t.getAttributes,void 0,r)||{},o=e.tr.delete(n.from,n.to),l=o.doc.resolve(n.from).blockRange(),c=l&&sb(l,t.type,i);if(!c)return null;if(o.wrap(l,c),t.keepMarks&&t.editor){const{selection:d,storedMarks:f}=e,{splittableMarks:p}=t.editor.extensionManager,g=f||d.$to.parentOffset&&d.$from.marks();if(g){const m=g.filter(y=>p.includes(y.type.name));o.ensureMarks(m)}}if(t.keepAttributes){const d=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(d,i).run()}const u=o.doc.resolve(n.from-1).nodeBefore;u&&u.type===t.type&&Gi(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,u))&&o.join(n.from-1)},undoable:t.undoable})}var G9=t=>"touches"in t,J9=class{constructor(t){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=a=>{if(!this.isResizing||!this.activeHandle)return;const l=a.clientX-this.startX,c=a.clientY-this.startY;this.handleResize(l,c)},this.handleTouchMove=a=>{if(!this.isResizing||!this.activeHandle)return;const l=a.touches[0];if(!l)return;const c=l.clientX-this.startX,u=l.clientY-this.startY;this.handleResize(c,u)},this.handleMouseUp=()=>{if(!this.isResizing)return;const a=this.element.offsetWidth,l=this.element.offsetHeight;this.onCommit(a,l),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=a=>{a.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=a=>{a.key==="Shift"&&(this.isShiftKeyPressed=!1)};var e,n,r,s,i,o;this.node=t.node,this.editor=t.editor,this.element=t.element,this.contentElement=t.contentElement,this.getPos=t.getPos,this.onResize=t.onResize,this.onCommit=t.onCommit,this.onUpdate=t.onUpdate,(e=t.options)!=null&&e.min&&(this.minSize={...this.minSize,...t.options.min}),(n=t.options)!=null&&n.max&&(this.maxSize=t.options.max),(r=t==null?void 0:t.options)!=null&&r.directions&&(this.directions=t.options.directions),(s=t.options)!=null&&s.preserveAspectRatio&&(this.preserveAspectRatio=t.options.preserveAspectRatio),(i=t.options)!=null&&i.className&&(this.classNames={container:t.options.className.container||"",wrapper:t.options.className.wrapper||"",handle:t.options.className.handle||"",resizing:t.options.className.resizing||""}),(o=t.options)!=null&&o.createCustomHandle&&(this.createCustomHandle=t.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){return this.contentElement}handleEditorUpdate(){const t=this.editor.isEditable;t!==this.lastEditableState&&(this.lastEditableState=t,t?t&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(t,e,n){return t.type!==this.node.type?!1:(this.node=t,this.onUpdate?this.onUpdate(t,e,n):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const t=document.createElement("div");return t.dataset.resizeContainer="",t.dataset.node=this.node.type.name,t.style.display="flex",this.classNames.container&&(t.className=this.classNames.container),t.appendChild(this.wrapper),t}createWrapper(){const t=document.createElement("div");return t.style.position="relative",t.style.display="block",t.dataset.resizeWrapper="",this.classNames.wrapper&&(t.className=this.classNames.wrapper),t.appendChild(this.element),t}createHandle(t){const e=document.createElement("div");return e.dataset.resizeHandle=t,e.style.position="absolute",this.classNames.handle&&(e.className=this.classNames.handle),e}positionHandle(t,e){const n=e.includes("top"),r=e.includes("bottom"),s=e.includes("left"),i=e.includes("right");n&&(t.style.top="0"),r&&(t.style.bottom="0"),s&&(t.style.left="0"),i&&(t.style.right="0"),(e==="top"||e==="bottom")&&(t.style.left="0",t.style.right="0"),(e==="left"||e==="right")&&(t.style.top="0",t.style.bottom="0")}attachHandles(){this.directions.forEach(t=>{let e;this.createCustomHandle?e=this.createCustomHandle(t):e=this.createHandle(t),e instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${t}") did not return an HTMLElement. Falling back to default handle.`),e=this.createHandle(t)),this.createCustomHandle||this.positionHandle(e,t),e.addEventListener("mousedown",n=>this.handleResizeStart(n,t)),e.addEventListener("touchstart",n=>this.handleResizeStart(n,t)),this.handleMap.set(t,e),this.wrapper.appendChild(e)})}removeHandles(){this.handleMap.forEach(t=>t.remove()),this.handleMap.clear()}applyInitialSize(){const t=this.node.attrs.width,e=this.node.attrs.height;t?(this.element.style.width=`${t}px`,this.initialWidth=t):this.initialWidth=this.element.offsetWidth,e?(this.element.style.height=`${e}px`,this.initialHeight=e):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(t,e){t.preventDefault(),t.stopPropagation(),this.isResizing=!0,this.activeHandle=e,G9(t)?(this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY):(this.startX=t.clientX,this.startY=t.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(t,e){if(!this.activeHandle)return;const n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:r,height:s}=this.calculateNewDimensions(this.activeHandle,t,e),i=this.applyConstraints(r,s,n);this.element.style.width=`${i.width}px`,this.element.style.height=`${i.height}px`,this.onResize&&this.onResize(i.width,i.height)}calculateNewDimensions(t,e,n){let r=this.startWidth,s=this.startHeight;const i=t.includes("right"),o=t.includes("left"),a=t.includes("bottom"),l=t.includes("top");return i?r=this.startWidth+e:o&&(r=this.startWidth-e),a?s=this.startHeight+n:l&&(s=this.startHeight-n),(t==="right"||t==="left")&&(r=this.startWidth+(i?e:-e)),(t==="top"||t==="bottom")&&(s=this.startHeight+(a?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(r,s,t):{width:r,height:s}}applyConstraints(t,e,n){var r,s,i,o;if(!n){let c=Math.max(this.minSize.width,t),u=Math.max(this.minSize.height,e);return(r=this.maxSize)!=null&&r.width&&(c=Math.min(this.maxSize.width,c)),(s=this.maxSize)!=null&&s.height&&(u=Math.min(this.maxSize.height,u)),{width:c,height:u}}let a=t,l=e;return a<this.minSize.width&&(a=this.minSize.width,l=a/this.aspectRatio),l<this.minSize.height&&(l=this.minSize.height,a=l*this.aspectRatio),(i=this.maxSize)!=null&&i.width&&a>this.maxSize.width&&(a=this.maxSize.width,l=a/this.aspectRatio),(o=this.maxSize)!=null&&o.height&&l>this.maxSize.height&&(l=this.maxSize.height,a=l*this.aspectRatio),{width:a,height:l}}applyAspectRatio(t,e,n){const r=n==="left"||n==="right",s=n==="top"||n==="bottom";return r?{width:t,height:t/this.aspectRatio}:s?{width:e*this.aspectRatio,height:e}:{width:t,height:t/this.aspectRatio}}};function Y9(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof ae){const i=r.index();return r.parent.canReplaceWith(i,i+1,e)}let s=r.depth;for(;s>=0;){const i=r.index(s);if(r.node(s).contentMatchAt(i).matchType(e))return!0;s-=1}return!1}var Q9={};yb(Q9,{createAtomBlockMarkdownSpec:()=>Z9,createBlockMarkdownSpec:()=>X9,createInlineMarkdownSpec:()=>nq,parseAttributes:()=>_b,parseIndentedBlocks:()=>Yv,renderNestedMarkdownContent:()=>Tb,serializeAttributes:()=>Cb});function _b(t){if(!(t!=null&&t.trim()))return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,c=>(n.push(c),`__QUOTED_${n.length-1}__`)),s=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(s){const c=s.map(u=>u.trim().slice(1));e.class=c.join(" ")}const i=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);i&&(e.id=i[1]);const o=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(o)).forEach(([,c,u])=>{var d;const f=parseInt(((d=u.match(/__QUOTED_(\d+)__/))==null?void 0:d[1])||"0",10),p=n[f];p&&(e[c]=p.slice(1,-1))});const l=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(u=>{u.match(/^[a-zA-Z][\w-]*$/)&&(e[u]=!0)}),e}function Cb(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function Z9(t){const{nodeName:e,name:n,parseAttributes:r=_b,serializeAttributes:s=Cb,defaultAttributes:i={},requiredAttributes:o=[],allowedAttributes:a}=t,l=n||e,c=u=>{if(!a)return u;const d={};return a.forEach(f=>{f in u&&(d[f]=u[f])}),d};return{parseMarkdown:(u,d)=>{const f={...i,...u.attributes};return d.createNode(e,f,[])},markdownTokenizer:{name:e,level:"block",start(u){var d;const f=new RegExp(`^:::${l}(?:\\s|$)`,"m"),p=(d=u.match(f))==null?void 0:d.index;return p!==void 0?p:-1},tokenize(u,d,f){const p=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),g=u.match(p);if(!g)return;const m=g[1]||"",y=r(m);if(!o.find(x=>!(x in y)))return{type:e,raw:g[0],attributes:y}}},renderMarkdown:u=>{const d=c(u.attrs||{}),f=s(d),p=f?` {${f}}`:"";return`:::${l}${p} :::`}}}function X9(t){const{nodeName:e,name:n,getContent:r,parseAttributes:s=_b,serializeAttributes:i=Cb,defaultAttributes:o={},content:a="block",allowedAttributes:l}=t,c=n||e,u=d=>{if(!l)return d;const f={};return l.forEach(p=>{p in d&&(f[p]=d[p])}),f};return{parseMarkdown:(d,f)=>{let p;if(r){const m=r(d);p=typeof m=="string"?[{type:"text",text:m}]:m}else a==="block"?p=f.parseChildren(d.tokens||[]):p=f.parseInline(d.tokens||[]);const g={...o,...d.attributes};return f.createNode(e,g,p)},markdownTokenizer:{name:e,level:"block",start(d){var f;const p=new RegExp(`^:::${c}`,"m"),g=(f=d.match(p))==null?void 0:f.index;return g!==void 0?g:-1},tokenize(d,f,p){var g;const m=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),y=d.match(m);if(!y)return;const[v,x=""]=y,w=s(x);let k=1;const S=v.length;let _="";const E=/^:::([\w-]*)(\s.*)?/gm,C=d.slice(S);for(E.lastIndex=0;;){const N=E.exec(C);if(N===null)break;const R=N.index,L=N[1];if(!((g=N[2])!=null&&g.endsWith(":::"))){if(L)k+=1;else if(k-=1,k===0){const I=C.slice(0,R);_=I.trim();const Z=d.slice(0,S+R+N[0].length);let M=[];if(_)if(a==="block")for(M=p.blockTokens(I),M.forEach(J=>{J.text&&(!J.tokens||J.tokens.length===0)&&(J.tokens=p.inlineTokens(J.text))});M.length>0;){const J=M[M.length-1];if(J.type==="paragraph"&&(!J.text||J.text.trim()===""))M.pop();else break}else M=p.inlineTokens(_);return{type:e,raw:Z,attributes:w,content:_,tokens:M}}}}}},renderMarkdown:(d,f)=>{const p=u(d.attrs||{}),g=i(p),m=g?` {${g}}`:"",y=f.renderChildren(d.content||[],`

`);return`:::${c}${m}

${y}

:::`}}}function eq(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,s,i,o]=r;e[s]=i||o,r=n.exec(t)}return e}function tq(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function nq(t){const{nodeName:e,name:n,getContent:r,parseAttributes:s=eq,serializeAttributes:i=tq,defaultAttributes:o={},selfClosing:a=!1,allowedAttributes:l}=t,c=n||e,u=f=>{if(!l)return f;const p={};return l.forEach(g=>{const m=typeof g=="string"?g:g.name,y=typeof g=="string"?void 0:g.skipIfDefault;if(m in f){const v=f[m];if(y!==void 0&&v===y)return;p[m]=v}}),p},d=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(f,p)=>{const g={...o,...f.attributes};if(a)return p.createNode(e,g);const m=r?r(f):f.content||"";return m?p.createNode(e,g,[p.createTextNode(m)]):p.createNode(e,g,[])},markdownTokenizer:{name:e,level:"inline",start(f){const p=a?new RegExp(`\\[${d}\\s*[^\\]]*\\]`):new RegExp(`\\[${d}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${d}\\]`),g=f.match(p),m=g==null?void 0:g.index;return m!==void 0?m:-1},tokenize(f,p,g){const m=a?new RegExp(`^\\[${d}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${d}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${d}\\]`),y=f.match(m);if(!y)return;let v="",x="";if(a){const[,k]=y;x=k}else{const[,k,S]=y;x=k,v=S||""}const w=s(x.trim());return{type:e,raw:y[0],content:v.trim(),attributes:w}}},renderMarkdown:f=>{let p="";r?p=r(f):f.content&&f.content.length>0&&(p=f.content.filter(v=>v.type==="text").map(v=>v.text).join(""));const g=u(f.attrs||{}),m=i(g),y=m?` ${m}`:"";return a?`[${c}${y}]`:`[${c}${y}]${p}[/${c}]`}}}function Yv(t,e,n){var r,s,i,o;const a=t.split(`
`),l=[];let c="",u=0;const d=e.baseIndentSize||2;for(;u<a.length;){const f=a[u],p=f.match(e.itemPattern);if(!p){if(l.length>0)break;if(f.trim()===""){u+=1,c=`${c}${f}
`;continue}else return}const g=e.extractItemData(p),{indentLevel:m,mainContent:y}=g;c=`${c}${f}
`;const v=[y];for(u+=1;u<a.length;){const S=a[u];if(S.trim()===""){const E=a.slice(u+1).findIndex(R=>R.trim()!=="");if(E===-1)break;if((((s=(r=a[u+1+E].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:s.length)||0)>m){v.push(S),c=`${c}${S}
`,u+=1;continue}else break}if((((o=(i=S.match(/^(\s*)/))==null?void 0:i[1])==null?void 0:o.length)||0)>m)v.push(S),c=`${c}${S}
`,u+=1;else break}let x;const w=v.slice(1);if(w.length>0){const S=w.map(_=>_.slice(m+d)).join(`
`);S.trim()&&(e.customNestedParser?x=e.customNestedParser(S):x=n.blockTokens(S))}const k=e.createToken(g,x);l.push(k)}if(l.length!==0)return{items:l,raw:c}}function Tb(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const s=typeof n=="function"?n(r):n,[i,...o]=t.content,a=e.renderChildren([i]),l=[`${s}${a}`];return o&&o.length>0&&o.forEach(c=>{const u=e.renderChildren([c]);if(u){const d=u.split(`
`).map(f=>f?e.indent(f):"").join(`
`);l.push(d)}}),l.join(`
`)}function rq(t,e,n={}){const{state:r}=e,{doc:s,tr:i}=r,o=t;s.descendants((a,l)=>{const c=i.mapping.map(l),u=i.mapping.map(l)+a.nodeSize;let d=null;if(a.marks.forEach(p=>{if(p!==o)return!1;d=p}),!d)return;let f=!1;if(Object.keys(n).forEach(p=>{n[p]!==d.attrs[p]&&(f=!0)}),f){const p=t.type.create({...t.attrs,...n});i.removeMark(c,u,t.type),i.addMark(c,u,p)}}),i.docChanged&&e.view.dispatch(i)}var Cn=class Kj extends Eb{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new Kj(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Jo(t){return new $9({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:s})=>{const i=Fe(t.getAttributes,void 0,r,s);if(i===!1||i===null)return null;const{tr:o}=e,a=r[r.length-1],l=r[0];let c=n.to;if(a){const u=l.search(/\S/),d=n.from+l.indexOf(a),f=d+a.length;if(Sb(n.from,n.to,e.doc).filter(g=>g.mark.type.excluded.find(y=>y===t.type&&y!==g.mark.type)).filter(g=>g.to>d).length)return null;f<n.to&&o.delete(f,n.to),d>n.from&&o.delete(n.from+u,d),c=n.from+u+a.length,o.addMark(n.from+u,c,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}const{getOwnPropertyNames:sq,getOwnPropertySymbols:iq}=Object,{hasOwnProperty:oq}=Object.prototype;function $g(t,e){return function(r,s,i){return t(r,s,i)&&e(r,s,i)}}function ef(t){return function(n,r,s){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,s);const{cache:i}=s,o=i.get(n),a=i.get(r);if(o&&a)return o===r&&a===n;i.set(n,r),i.set(r,n);const l=t(n,r,s);return i.delete(n),i.delete(r),l}}function aq(t){return t!=null?t[Symbol.toStringTag]:void 0}function rE(t){return sq(t).concat(iq(t))}const lq=Object.hasOwn||((t,e)=>oq.call(t,e));function aa(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const cq="__v",uq="__o",dq="_owner",{getOwnPropertyDescriptor:sE,keys:iE}=Object;function fq(t,e){return t.byteLength===e.byteLength&&zh(new Uint8Array(t),new Uint8Array(e))}function hq(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function pq(t,e){return t.byteLength===e.byteLength&&zh(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function mq(t,e){return aa(t.getTime(),e.getTime())}function gq(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function yq(t,e){return t===e}function oE(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const s=new Array(r),i=t.entries();let o,a,l=0;for(;(o=i.next())&&!o.done;){const c=e.entries();let u=!1,d=0;for(;(a=c.next())&&!a.done;){if(s[d]){d++;continue}const f=o.value,p=a.value;if(n.equals(f[0],p[0],l,d,t,e,n)&&n.equals(f[1],p[1],f[0],p[0],t,e,n)){u=s[d]=!0;break}d++}if(!u)return!1;l++}return!0}const vq=aa;function xq(t,e,n){const r=iE(t);let s=r.length;if(iE(e).length!==s)return!1;for(;s-- >0;)if(!Gj(t,e,n,r[s]))return!1;return!0}function uc(t,e,n){const r=rE(t);let s=r.length;if(rE(e).length!==s)return!1;let i,o,a;for(;s-- >0;)if(i=r[s],!Gj(t,e,n,i)||(o=sE(t,i),a=sE(e,i),(o||a)&&(!o||!a||o.configurable!==a.configurable||o.enumerable!==a.enumerable||o.writable!==a.writable)))return!1;return!0}function bq(t,e){return aa(t.valueOf(),e.valueOf())}function wq(t,e){return t.source===e.source&&t.flags===e.flags}function aE(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const s=new Array(r),i=t.values();let o,a;for(;(o=i.next())&&!o.done;){const l=e.values();let c=!1,u=0;for(;(a=l.next())&&!a.done;){if(!s[u]&&n.equals(o.value,a.value,o.value,a.value,t,e,n)){c=s[u]=!0;break}u++}if(!c)return!1}return!0}function zh(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function kq(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function Gj(t,e,n,r){return(r===dq||r===uq||r===cq)&&(t.$$typeof||e.$$typeof)?!0:lq(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const Sq="[object ArrayBuffer]",Eq="[object Arguments]",_q="[object Boolean]",Cq="[object DataView]",Tq="[object Date]",Nq="[object Error]",Aq="[object Map]",Oq="[object Number]",Rq="[object Object]",jq="[object RegExp]",Pq="[object Set]",Mq="[object String]",Iq={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Dq="[object URL]",Lq=Object.prototype.toString;function $q({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:a,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:u,areSetsEqual:d,areTypedArraysEqual:f,areUrlsEqual:p,unknownTagComparators:g}){return function(y,v,x){if(y===v)return!0;if(y==null||v==null)return!1;const w=typeof y;if(w!==typeof v)return!1;if(w!=="object")return w==="number"?a(y,v,x):w==="function"?i(y,v,x):!1;const k=y.constructor;if(k!==v.constructor)return!1;if(k===Object)return l(y,v,x);if(Array.isArray(y))return e(y,v,x);if(k===Date)return r(y,v,x);if(k===RegExp)return u(y,v,x);if(k===Map)return o(y,v,x);if(k===Set)return d(y,v,x);const S=Lq.call(y);if(S===Tq)return r(y,v,x);if(S===jq)return u(y,v,x);if(S===Aq)return o(y,v,x);if(S===Pq)return d(y,v,x);if(S===Rq)return typeof y.then!="function"&&typeof v.then!="function"&&l(y,v,x);if(S===Dq)return p(y,v,x);if(S===Nq)return s(y,v,x);if(S===Eq)return l(y,v,x);if(Iq[S])return f(y,v,x);if(S===Sq)return t(y,v,x);if(S===Cq)return n(y,v,x);if(S===_q||S===Oq||S===Mq)return c(y,v,x);if(g){let _=g[S];if(!_){const E=aq(y);E&&(_=g[E])}if(_)return _(y,v,x)}return!1}}function zq({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:fq,areArraysEqual:n?uc:hq,areDataViewsEqual:pq,areDatesEqual:mq,areErrorsEqual:gq,areFunctionsEqual:yq,areMapsEqual:n?$g(oE,uc):oE,areNumbersEqual:vq,areObjectsEqual:n?uc:xq,arePrimitiveWrappersEqual:bq,areRegExpsEqual:wq,areSetsEqual:n?$g(aE,uc):aE,areTypedArraysEqual:n?$g(zh,uc):zh,areUrlsEqual:kq,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const s=ef(r.areArraysEqual),i=ef(r.areMapsEqual),o=ef(r.areObjectsEqual),a=ef(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:a})}return r}function Bq(t){return function(e,n,r,s,i,o,a){return t(e,n,a)}}function Fq({circular:t,comparator:e,createState:n,equals:r,strict:s}){if(n)return function(a,l){const{cache:c=t?new WeakMap:void 0,meta:u}=n();return e(a,l,{cache:c,equals:r,meta:u,strict:s})};if(t)return function(a,l){return e(a,l,{cache:new WeakMap,equals:r,meta:void 0,strict:s})};const i={cache:void 0,equals:r,meta:void 0,strict:s};return function(a,l){return e(a,l,i)}}const Uq=Yi();Yi({strict:!0});Yi({circular:!0});Yi({circular:!0,strict:!0});Yi({createInternalComparator:()=>aa});Yi({strict:!0,createInternalComparator:()=>aa});Yi({circular:!0,createInternalComparator:()=>aa});Yi({circular:!0,createInternalComparator:()=>aa,strict:!0});function Yi(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:s=!1}=t,i=zq(t),o=$q(i),a=n?n(o):Bq(o);return Fq({circular:e,comparator:o,createState:r,equals:a,strict:s})}var Jj={exports:{}},Yj={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm=b,Vq=tb;function Hq(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wq=typeof Object.is=="function"?Object.is:Hq,qq=Vq.useSyncExternalStore,Kq=hm.useRef,Gq=hm.useEffect,Jq=hm.useMemo,Yq=hm.useDebugValue;Yj.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=Kq(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Jq(function(){function l(p){if(!c){if(c=!0,u=p,p=r(p),s!==void 0&&o.hasValue){var g=o.value;if(s(g,p))return d=g}return d=p}if(g=d,Wq(u,p))return g;var m=r(p);return s!==void 0&&s(g,m)?(u=p,g):(u=p,d=m)}var c=!1,u,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,s]);var a=qq(t,i[0],i[1]);return Gq(function(){o.hasValue=!0,o.value=a},[a]),Yq(a),a};Jj.exports=Yj;var Qq=Jj.exports,Zq=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},Xq=({contentComponent:t})=>{const e=tb.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return h.jsx(h.Fragment,{children:Object.values(e)})};function e7(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:dx.createPortal(r.reactElement,r.element,n)},t.forEach(s=>s())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(s=>s())}}}var t7=class extends B.Component{constructor(t){var e;super(t),this.editorContentRef=B.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var t;const e=this.props.editor;if(e&&!e.isDestroyed&&((t=e.view.dom)!=null&&t.parentNode)){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n}),e.contentComponent=e7(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.parentNode))return;const n=document.createElement("div");n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return h.jsxs(h.Fragment,{children:[h.jsx("div",{ref:Zq(e,this.editorContentRef),...n}),(t==null?void 0:t.contentComponent)&&h.jsx(Xq,{contentComponent:t.contentComponent})]})}},n7=b.forwardRef((t,e)=>{const n=B.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return B.createElement(t7,{key:n,innerRef:e,...t})}),r7=B.memo(n7),s7=typeof window<"u"?b.useLayoutEffect:b.useEffect,i7=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function o7(t){var e;const[n]=b.useState(()=>new i7(t.editor)),r=Qq.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:Uq);return s7(()=>n.watch(t.editor),[t.editor,n]),b.useDebugValue(r),r}var a7=!1,Qv=typeof window>"u",l7=Qv||!!(typeof window<"u"&&window.next),c7=class Qj{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){if(this.options.current.immediatelyRender===void 0)return Qv||l7?null:this.createEditor();if(this.options.current.immediatelyRender&&Qv&&a7)throw new Error("Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.");return this.options.current.immediatelyRender?this.createEditor():null}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onBeforeCreate)==null?void 0:i.call(s,...r)},onBlur:(...r)=>{var s,i;return(i=(s=this.options.current).onBlur)==null?void 0:i.call(s,...r)},onCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onCreate)==null?void 0:i.call(s,...r)},onDestroy:(...r)=>{var s,i;return(i=(s=this.options.current).onDestroy)==null?void 0:i.call(s,...r)},onFocus:(...r)=>{var s,i;return(i=(s=this.options.current).onFocus)==null?void 0:i.call(s,...r)},onSelectionUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onSelectionUpdate)==null?void 0:i.call(s,...r)},onTransaction:(...r)=>{var s,i;return(i=(s=this.options.current).onTransaction)==null?void 0:i.call(s,...r)},onUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onUpdate)==null?void 0:i.call(s,...r)},onContentError:(...r)=>{var s,i;return(i=(s=this.options.current).onContentError)==null?void 0:i.call(s,...r)},onDrop:(...r)=>{var s,i;return(i=(s=this.options.current).onDrop)==null?void 0:i.call(s,...r)},onPaste:(...r)=>{var s,i;return(i=(s=this.options.current).onPaste)==null?void 0:i.call(s,...r)},onDelete:(...r)=>{var s,i;return(i=(s=this.options.current).onDelete)==null?void 0:i.call(s,...r)}};return new K9(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((s,i)=>{var o;return s===((o=n.extensions)==null?void 0:o[i])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?Qj.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,s)=>r===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function u7(t={},e=[]){const n=b.useRef(t);n.current=t;const[r]=b.useState(()=>new c7(n)),s=tb.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return b.useDebugValue(s),b.useEffect(r.onRender(e)),o7({editor:s,selector:({transactionNumber:i})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&i===0?0:i+1}),s}var d7=b.createContext({editor:null});d7.Consumer;var f7=b.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),h7=()=>b.useContext(f7);B.forwardRef((t,e)=>{const{onDragStart:n}=h7(),r=t.as||"div";return h.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});B.createContext({markViewContentRef:()=>{}});var Bh=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},p7=/^\s*>\s$/,m7=Cn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return Bh("blockquote",{...ht(this.options.HTMLAttributes,t),children:Bh("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",r=[];return t.content.forEach(s=>{const a=e.renderChildren([s]).split(`
`).map(l=>l.trim()===""?n:`${n} ${l}`);r.push(a.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[jl({find:p7,type:this.type})]}}),g7=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,y7=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,v7=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,x7=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,b7=oa.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return Bh("strong",{...ht(this.options.HTMLAttributes,t),children:Bh("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Rl({find:g7,type:this.type}),Rl({find:v7,type:this.type})]},addPasteRules(){return[Jo({find:y7,type:this.type}),Jo({find:x7,type:this.type})]}}),w7=/(^|[^`])`([^`]+)`(?!`)$/,k7=/(^|[^`])`([^`]+)`(?!`)/g,S7=oa.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",ht(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Rl({find:w7,type:this.type})]},addPasteRules(){return[Jo({find:k7,type:this.type})]}}),zg=4,E7=/^```([a-z]+)?[\s\n]$/,_7=/^~~~([a-z]+)?[\s\n]$/,C7=Cn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:zg,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const i=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",ht(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const s=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${s}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${s}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:zg,{state:r}=t,{selection:s}=r,{$from:i,empty:o}=s;if(i.parent.type!==this.type)return!1;const a=" ".repeat(n);return o?t.commands.insertContent(a):t.commands.command(({tr:l})=>{const{from:c,to:u}=s,p=r.doc.textBetween(c,u,`
`,`
`).split(`
`).map(g=>a+g).join(`
`);return l.replaceWith(c,u,r.schema.text(p)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:zg,{state:r}=t,{selection:s}=r,{$from:i,empty:o}=s;return i.parent.type!==this.type?!1:o?t.commands.command(({tr:a})=>{var l;const{pos:c}=i,u=i.start(),d=i.end(),p=r.doc.textBetween(u,d,`
`,`
`).split(`
`);let g=0,m=0;const y=c-u;for(let _=0;_<p.length;_+=1){if(m+p[_].length>=y){g=_;break}m+=p[_].length+1}const x=((l=p[g].match(/^ */))==null?void 0:l[0])||"",w=Math.min(x.length,n);if(w===0)return!0;let k=u;for(let _=0;_<g;_+=1)k+=p[_].length+1;return a.delete(k,k+w),c-k<=w&&a.setSelection(me.create(a.doc,k)),!0}):t.commands.command(({tr:a})=>{const{from:l,to:c}=s,f=r.doc.textBetween(l,c,`
`,`
`).split(`
`).map(p=>{var g;const m=((g=p.match(/^ */))==null?void 0:g[0])||"",y=Math.min(m.length,n);return p.slice(y)}).join(`
`);return a.replaceWith(l,c,r.schema.text(f)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!i||!o?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:s,empty:i}=n;if(!i||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const a=s.after();return a===void 0?!1:r.nodeAt(a)?t.commands.command(({tr:c})=>(c.setSelection(Ee.near(r.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[Jv({find:E7,type:this.type,getAttributes:t=>({language:t[1]})}),Jv({find:_7,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new ot({key:new _t("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,i=s==null?void 0:s.mode;if(!n||!i)return!1;const{tr:o,schema:a}=t.state,l=a.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:i},l)),o.selection.$from.parent.type!==this.type&&o.setSelection(me.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),T7=Cn.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),N7=Cn.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",ht(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:i}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=r.extensionManager,l=i||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&o){const d=l.filter(f=>a.includes(f.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),A7=Cn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,ht(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,s="#".repeat(r);return t.content?`${s} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Jv({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),O7=Cn.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",ht(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!Y9(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,s=t();return Aj(n)?s.insertContentAt(r.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({state:i,tr:o,dispatch:a})=>{if(a){const{$to:l}=o.selection,c=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?o.setSelection(me.create(o.doc,l.pos+1)):l.nodeAfter.isBlock?o.setSelection(ae.create(o.doc,l.pos)):o.setSelection(me.create(o.doc,l.pos));else{const u=i.schema.nodes[this.options.nextNodeType]||l.parent.type.contentMatch.defaultType,d=u==null?void 0:u.create();d&&(o.insert(c,d),o.setSelection(me.create(o.doc,c+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[qj({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),R7=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,j7=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,P7=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,M7=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,I7=oa.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",ht(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Rl({find:R7,type:this.type}),Rl({find:P7,type:this.type})]},addPasteRules(){return[Jo({find:j7,type:this.type}),Jo({find:M7,type:this.type})]}});const D7="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",L7="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Zv="numeric",Xv="ascii",e0="alpha",qc="asciinumeric",Cc="alphanumeric",t0="domain",Zj="emoji",$7="scheme",z7="slashscheme",Bg="whitespace";function B7(t,e){return t in e||(e[t]=[]),e[t]}function ko(t,e,n){e[Zv]&&(e[qc]=!0,e[Cc]=!0),e[Xv]&&(e[qc]=!0,e[e0]=!0),e[qc]&&(e[Cc]=!0),e[e0]&&(e[Cc]=!0),e[Cc]&&(e[t0]=!0),e[Zj]&&(e[t0]=!0);for(const r in e){const s=B7(r,n);s.indexOf(t)<0&&s.push(t)}}function F7(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function bn(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}bn.groups={};bn.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const s=e.jr[r][0],i=e.jr[r][1];if(i&&s.test(t))return i}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let s=0;s<t.length;s++)this.tt(t[s],e,n,r)},tr(t,e,n,r){r=r||bn.groups;let s;return e&&e.j?s=e:(s=new bn(e),n&&r&&ko(e,n,r)),this.jr.push([t,s]),s},ts(t,e,n,r){let s=this;const i=t.length;if(!i)return s;for(let o=0;o<i-1;o++)s=s.tt(t[o]);return s.tt(t[i-1],e,n,r)},tt(t,e,n,r){r=r||bn.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const i=e;let o,a=s.go(t);if(a?(o=new bn,Object.assign(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new bn,i){if(r)if(o.t&&typeof o.t=="string"){const l=Object.assign(F7(o.t,r),n);ko(i,l,r)}else n&&ko(i,n,r);o.t=i}return s.j[t]=o,o}};const Se=(t,e,n,r,s)=>t.ta(e,n,r,s),at=(t,e,n,r,s)=>t.tr(e,n,r,s),lE=(t,e,n,r,s)=>t.ts(e,n,r,s),$=(t,e,n,r,s)=>t.tt(e,n,r,s),ps="WORD",n0="UWORD",Xj="ASCIINUMERICAL",eP="ALPHANUMERICAL",$u="LOCALHOST",r0="TLD",s0="UTLD",Of="SCHEME",Ta="SLASH_SCHEME",Nb="NUM",i0="WS",Ab="NL",Kc="OPENBRACE",Gc="CLOSEBRACE",Fh="OPENBRACKET",Uh="CLOSEBRACKET",Vh="OPENPAREN",Hh="CLOSEPAREN",Wh="OPENANGLEBRACKET",qh="CLOSEANGLEBRACKET",Kh="FULLWIDTHLEFTPAREN",Gh="FULLWIDTHRIGHTPAREN",Jh="LEFTCORNERBRACKET",Yh="RIGHTCORNERBRACKET",Qh="LEFTWHITECORNERBRACKET",Zh="RIGHTWHITECORNERBRACKET",Xh="FULLWIDTHLESSTHAN",ep="FULLWIDTHGREATERTHAN",tp="AMPERSAND",np="APOSTROPHE",rp="ASTERISK",Zs="AT",sp="BACKSLASH",ip="BACKTICK",op="CARET",si="COLON",Ob="COMMA",ap="DOLLAR",Fr="DOT",lp="EQUALS",Rb="EXCLAMATION",Kn="HYPHEN",Jc="PERCENT",cp="PIPE",up="PLUS",dp="POUND",Yc="QUERY",jb="QUOTE",tP="FULLWIDTHMIDDLEDOT",Pb="SEMI",Ur="SLASH",Qc="TILDE",fp="UNDERSCORE",nP="EMOJI",hp="SYM";var rP=Object.freeze({__proto__:null,ALPHANUMERICAL:eP,AMPERSAND:tp,APOSTROPHE:np,ASCIINUMERICAL:Xj,ASTERISK:rp,AT:Zs,BACKSLASH:sp,BACKTICK:ip,CARET:op,CLOSEANGLEBRACKET:qh,CLOSEBRACE:Gc,CLOSEBRACKET:Uh,CLOSEPAREN:Hh,COLON:si,COMMA:Ob,DOLLAR:ap,DOT:Fr,EMOJI:nP,EQUALS:lp,EXCLAMATION:Rb,FULLWIDTHGREATERTHAN:ep,FULLWIDTHLEFTPAREN:Kh,FULLWIDTHLESSTHAN:Xh,FULLWIDTHMIDDLEDOT:tP,FULLWIDTHRIGHTPAREN:Gh,HYPHEN:Kn,LEFTCORNERBRACKET:Jh,LEFTWHITECORNERBRACKET:Qh,LOCALHOST:$u,NL:Ab,NUM:Nb,OPENANGLEBRACKET:Wh,OPENBRACE:Kc,OPENBRACKET:Fh,OPENPAREN:Vh,PERCENT:Jc,PIPE:cp,PLUS:up,POUND:dp,QUERY:Yc,QUOTE:jb,RIGHTCORNERBRACKET:Yh,RIGHTWHITECORNERBRACKET:Zh,SCHEME:Of,SEMI:Pb,SLASH:Ur,SLASH_SCHEME:Ta,SYM:hp,TILDE:Qc,TLD:r0,UNDERSCORE:fp,UTLD:s0,UWORD:n0,WORD:ps,WS:i0});const cs=/[a-z]/,dc=new RegExp("\\p{L}","u"),Fg=new RegExp("\\p{Emoji}","u"),us=/\d/,Ug=/\s/,cE="\r",Vg=`
`,U7="",V7="",Hg="";let tf=null,nf=null;function H7(t=[]){const e={};bn.groups=e;const n=new bn;tf==null&&(tf=uE(D7)),nf==null&&(nf=uE(L7)),$(n,"'",np),$(n,"{",Kc),$(n,"}",Gc),$(n,"[",Fh),$(n,"]",Uh),$(n,"(",Vh),$(n,")",Hh),$(n,"<",Wh),$(n,">",qh),$(n,"",Kh),$(n,"",Gh),$(n,"",Jh),$(n,"",Yh),$(n,"",Qh),$(n,"",Zh),$(n,"",Xh),$(n,"",ep),$(n,"&",tp),$(n,"*",rp),$(n,"@",Zs),$(n,"`",ip),$(n,"^",op),$(n,":",si),$(n,",",Ob),$(n,"$",ap),$(n,".",Fr),$(n,"=",lp),$(n,"!",Rb),$(n,"-",Kn),$(n,"%",Jc),$(n,"|",cp),$(n,"+",up),$(n,"#",dp),$(n,"?",Yc),$(n,'"',jb),$(n,"/",Ur),$(n,";",Pb),$(n,"~",Qc),$(n,"_",fp),$(n,"\\",sp),$(n,"",tP);const r=at(n,us,Nb,{[Zv]:!0});at(r,us,r);const s=at(r,cs,Xj,{[qc]:!0}),i=at(r,dc,eP,{[Cc]:!0}),o=at(n,cs,ps,{[Xv]:!0});at(o,us,s),at(o,cs,o),at(s,us,s),at(s,cs,s);const a=at(n,dc,n0,{[e0]:!0});at(a,cs),at(a,us,i),at(a,dc,a),at(i,us,i),at(i,cs),at(i,dc,i);const l=$(n,Vg,Ab,{[Bg]:!0}),c=$(n,cE,i0,{[Bg]:!0}),u=at(n,Ug,i0,{[Bg]:!0});$(n,Hg,u),$(c,Vg,l),$(c,Hg,u),at(c,Ug,u),$(u,cE),$(u,Vg),at(u,Ug,u),$(u,Hg,u);const d=at(n,Fg,nP,{[Zj]:!0});$(d,"#"),at(d,Fg,d),$(d,U7,d);const f=$(d,V7);$(f,"#"),at(f,Fg,d);const p=[[cs,o],[us,s]],g=[[cs,null],[dc,a],[us,i]];for(let m=0;m<tf.length;m++)Us(n,tf[m],r0,ps,p);for(let m=0;m<nf.length;m++)Us(n,nf[m],s0,n0,g);ko(r0,{tld:!0,ascii:!0},e),ko(s0,{utld:!0,alpha:!0},e),Us(n,"file",Of,ps,p),Us(n,"mailto",Of,ps,p),Us(n,"http",Ta,ps,p),Us(n,"https",Ta,ps,p),Us(n,"ftp",Ta,ps,p),Us(n,"ftps",Ta,ps,p),ko(Of,{scheme:!0,ascii:!0},e),ko(Ta,{slashscheme:!0,ascii:!0},e),t=t.sort((m,y)=>m[0]>y[0]?1:-1);for(let m=0;m<t.length;m++){const y=t[m][0],x=t[m][1]?{[$7]:!0}:{[z7]:!0};y.indexOf("-")>=0?x[t0]=!0:cs.test(y)?us.test(y)?x[qc]=!0:x[Xv]=!0:x[Zv]=!0,lE(n,y,y,x)}return lE(n,"localhost",$u,{ascii:!0}),n.jd=new bn(hp),{start:n,tokens:Object.assign({groups:e},rP)}}function sP(t,e){const n=W7(e.replace(/[A-Z]/g,a=>a.toLowerCase())),r=n.length,s=[];let i=0,o=0;for(;o<r;){let a=t,l=null,c=0,u=null,d=-1,f=-1;for(;o<r&&(l=a.go(n[o]));)a=l,a.accepts()?(d=0,f=0,u=a):d>=0&&(d+=n[o].length,f++),c+=n[o].length,i+=n[o].length,o++;i-=d,o-=f,c-=d,s.push({t:u.t,v:e.slice(i-c,i),s:i-c,e:i})}return s}function W7(t){const e=[],n=t.length;let r=0;for(;r<n;){let s=t.charCodeAt(r),i,o=s<55296||s>56319||r+1===n||(i=t.charCodeAt(r+1))<56320||i>57343?t[r]:t.slice(r,r+2);e.push(o),r+=o.length}return e}function Us(t,e,n,r,s){let i;const o=e.length;for(let a=0;a<o-1;a++){const l=e[a];t.j[l]?i=t.j[l]:(i=new bn(r),i.jr=s.slice(),t.j[l]=i),t=i}return i=new bn(n),i.jr=s.slice(),t.j[e[o-1]]=i,i}function uE(t){const e=[],n=[];let r=0,s="0123456789";for(;r<t.length;){let i=0;for(;s.indexOf(t[r+i])>=0;)i++;if(i>0){e.push(n.join(""));for(let o=parseInt(t.substring(r,r+i),10);o>0;o--)n.pop();r+=i}else n.push(t[r]),r++}return e}const zu={defaultProtocol:"http",events:null,format:dE,formatHref:dE,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Mb(t,e=null){let n=Object.assign({},zu);t&&(n=Object.assign(n,t instanceof Mb?t.o:t));const r=n.ignoreTags,s=[];for(let i=0;i<r.length;i++)s.push(r[i].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=s}Mb.prototype={o:zu,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:zu[t],typeof s=="function"&&r&&(s=s(e,n))):typeof s=="function"&&r&&(s=s(e,n.t,n)),s)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function dE(t){return t}function iP(t,e){this.t="token",this.v=t,this.tk=e}iP.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=zu.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),s=t.get("tagName",n,e),i=this.toFormattedString(t),o={},a=t.get("className",n,e),l=t.get("target",n,e),c=t.get("rel",n,e),u=t.getObj("attributes",n,e),d=t.getObj("events",n,e);return o.href=r,a&&(o.class=a),l&&(o.target=l),c&&(o.rel=c),u&&Object.assign(o,u),{tagName:s,attributes:o,content:i,eventListeners:d}}};function pm(t,e){class n extends iP{constructor(s,i){super(s,i),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const fE=pm("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),hE=pm("text"),q7=pm("nl"),rf=pm("url",{isLink:!0,toHref(t=zu.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==$u&&t[1].t===si}}),qn=t=>new bn(t);function K7({groups:t}){const e=t.domain.concat([tp,rp,Zs,sp,ip,op,ap,lp,Kn,Nb,Jc,cp,up,dp,Ur,hp,Qc,fp]),n=[np,si,Ob,Fr,Rb,Jc,Yc,jb,Pb,Wh,qh,Kc,Gc,Uh,Fh,Vh,Hh,Kh,Gh,Jh,Yh,Qh,Zh,Xh,ep],r=[tp,np,rp,sp,ip,op,ap,lp,Kn,Kc,Gc,Jc,cp,up,dp,Yc,Ur,hp,Qc,fp],s=qn(),i=$(s,Qc);Se(i,r,i),Se(i,t.domain,i);const o=qn(),a=qn(),l=qn();Se(s,t.domain,o),Se(s,t.scheme,a),Se(s,t.slashscheme,l),Se(o,r,i),Se(o,t.domain,o);const c=$(o,Zs);$(i,Zs,c),$(a,Zs,c),$(l,Zs,c);const u=$(i,Fr);Se(u,r,i),Se(u,t.domain,i);const d=qn();Se(c,t.domain,d),Se(d,t.domain,d);const f=$(d,Fr);Se(f,t.domain,d);const p=qn(fE);Se(f,t.tld,p),Se(f,t.utld,p),$(c,$u,p);const g=$(d,Kn);$(g,Kn,g),Se(g,t.domain,d),Se(p,t.domain,d),$(p,Fr,f),$(p,Kn,g);const m=$(p,si);Se(m,t.numeric,fE);const y=$(o,Kn),v=$(o,Fr);$(y,Kn,y),Se(y,t.domain,o),Se(v,r,i),Se(v,t.domain,o);const x=qn(rf);Se(v,t.tld,x),Se(v,t.utld,x),Se(x,t.domain,o),Se(x,r,i),$(x,Fr,v),$(x,Kn,y),$(x,Zs,c);const w=$(x,si),k=qn(rf);Se(w,t.numeric,k);const S=qn(rf),_=qn();Se(S,e,S),Se(S,n,_),Se(_,e,S),Se(_,n,_),$(x,Ur,S),$(k,Ur,S);const E=$(a,si),C=$(l,si),N=$(C,Ur),R=$(N,Ur);Se(a,t.domain,o),$(a,Fr,v),$(a,Kn,y),Se(l,t.domain,o),$(l,Fr,v),$(l,Kn,y),Se(E,t.domain,S),$(E,Ur,S),$(E,Yc,S),Se(R,t.domain,S),Se(R,e,S),$(R,Ur,S);const L=[[Kc,Gc],[Fh,Uh],[Vh,Hh],[Wh,qh],[Kh,Gh],[Jh,Yh],[Qh,Zh],[Xh,ep]];for(let I=0;I<L.length;I++){const[Z,M]=L[I],J=$(S,Z);$(_,Z,J),$(J,M,S);const W=qn(rf);Se(J,e,W);const X=qn();Se(J,n),Se(W,e,W),Se(W,n,X),Se(X,e,W),Se(X,n,X),$(W,M,S),$(X,M,S)}return $(s,$u,x),$(s,Ab,q7),{start:s,tokens:rP}}function G7(t,e,n){let r=n.length,s=0,i=[],o=[];for(;s<r;){let a=t,l=null,c=null,u=0,d=null,f=-1;for(;s<r&&!(l=a.go(n[s].t));)o.push(n[s++]);for(;s<r&&(c=l||a.go(n[s].t));)l=null,a=c,a.accepts()?(f=0,d=a):f>=0&&f++,s++,u++;if(f<0)s-=u,s<r&&(o.push(n[s]),s++);else{o.length>0&&(i.push(Wg(hE,e,o)),o=[]),s-=f,u-=f;const p=d.t,g=n.slice(s-u,s);i.push(Wg(p,e,g))}}return o.length>0&&i.push(Wg(hE,e,o)),i}function Wg(t,e,n){const r=n[0].s,s=n[n.length-1].e,i=e.slice(r,s);return new t(i,n)}const J7=typeof console<"u"&&console&&console.warn||(()=>{}),Y7="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Ye={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Q7(){return bn.groups={},Ye.scanner=null,Ye.parser=null,Ye.tokenQueue=[],Ye.pluginQueue=[],Ye.customSchemes=[],Ye.initialized=!1,Ye}function pE(t,e=!1){if(Ye.initialized&&J7(`linkifyjs: already initialized - will not register custom scheme "${t}" ${Y7}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Ye.customSchemes.push([t,e])}function Z7(){Ye.scanner=H7(Ye.customSchemes);for(let t=0;t<Ye.tokenQueue.length;t++)Ye.tokenQueue[t][1]({scanner:Ye.scanner});Ye.parser=K7(Ye.scanner.tokens);for(let t=0;t<Ye.pluginQueue.length;t++)Ye.pluginQueue[t][1]({scanner:Ye.scanner,parser:Ye.parser});return Ye.initialized=!0,Ye}function Ib(t){return Ye.initialized||Z7(),G7(Ye.parser.start,t,sP(Ye.scanner.start,t))}Ib.scan=sP;function oP(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new Mb(n),s=Ib(t),i=[];for(let o=0;o<s.length;o++){const a=s[o];a.isLink&&(!e||a.t===e)&&r.check(a)&&i.push(a.toFormattedObject(r))}return i}var Db="[\0- -\u2029]",X7=new RegExp(Db),eK=new RegExp(`${Db}$`),tK=new RegExp(Db,"g");function nK(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function rK(t){return new ot({key:new _t("autolink"),appendTransaction:(e,n,r)=>{const s=e.some(c=>c.docChanged)&&!n.doc.eq(r.doc),i=e.some(c=>c.getMeta("preventAutolink"));if(!s||i)return;const{tr:o}=r,a=wj(n.doc,[...e]);if(Nj(a).forEach(({newRange:c})=>{const u=J8(r.doc,c,p=>p.isTextblock);let d,f;if(u.length>1)d=u[0],f=r.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ");else if(u.length){const p=r.doc.textBetween(c.from,c.to," "," ");if(!eK.test(p))return;d=u[0],f=r.doc.textBetween(d.pos,c.to,void 0," ")}if(d&&f){const p=f.split(X7).filter(Boolean);if(p.length<=0)return!1;const g=p[p.length-1],m=d.pos+f.lastIndexOf(g);if(!g)return!1;const y=Ib(g).map(v=>v.toObject(t.defaultProtocol));if(!nK(y))return!1;y.filter(v=>v.isLink).map(v=>({...v,from:m+v.start+1,to:m+v.end+1})).filter(v=>r.schema.marks.code?!r.doc.rangeHasMark(v.from,v.to,r.schema.marks.code):!0).filter(v=>t.validate(v.value)).filter(v=>t.shouldAutoLink(v.value)).forEach(v=>{Sb(v.from,v.to,r.doc).some(x=>x.mark.type===t.type)||o.addMark(v.from,v.to,t.type.create({href:v.href}))})}}),!!o.steps.length)return o}})}function sK(t){return new ot({key:new _t("handleClickLink"),props:{handleClick:(e,n,r)=>{var s,i;if(r.button!==0||!e.editable)return!1;let o=!1;if(t.enableClickSelection&&(o=t.editor.commands.extendMarkRange(t.type.name)),t.openOnClick){let a=null;if(r.target instanceof HTMLAnchorElement)a=r.target;else{let d=r.target;const f=[];for(;d.nodeName!=="DIV";)f.push(d),d=d.parentNode;a=f.find(p=>p.nodeName==="A")}if(!a)return o;const l=Tj(e.state,t.type.name),c=(s=a==null?void 0:a.href)!=null?s:l.href,u=(i=a==null?void 0:a.target)!=null?i:l.target;a&&c&&(window.open(c,u),o=!0)}return o}}})}function iK(t){return new ot({key:new _t("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:s}=t,{state:i}=e,{selection:o}=i,{empty:a}=o;if(a)return!1;let l="";r.content.forEach(u=>{l+=u.textContent});const c=oP(l,{defaultProtocol:t.defaultProtocol}).find(u=>u.isLink&&u.value===l);return!l||!c||s!==void 0&&!s(c.href)?!1:t.editor.commands.setMark(t.type,{href:c.href})}}})}function oo(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const s=typeof r=="string"?r:r.scheme;s&&n.push(s)}),!t||t.replace(tK,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var aP=oa.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){pE(t);return}pE(t.scheme,t.optionalSlashes)})},onDestroy(){Q7()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!oo(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!oo(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!oo(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",ht(this.options.HTMLAttributes,t),0]:["a",ht(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const r=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${r})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!oo(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!oo(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Jo({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,s=oP(t).filter(i=>i.isLink&&this.options.isAllowedUri(i.value,{defaultValidate:o=>!!oo(o,n),protocols:n,defaultProtocol:r}));s.length&&s.forEach(i=>{this.options.shouldAutoLink(i.value)&&e.push({text:i.value,data:{href:i.href},index:i.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(rK({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:s=>!!oo(s,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),t.push(sK({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(iK({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),oK=aP,aK=Object.defineProperty,lK=(t,e)=>{for(var n in e)aK(t,n,{get:e[n],enumerable:!0})},cK="listItem",mE="textStyle",gE=/^\s*([-+*])\s$/,lP=Cn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",ht(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(cK,this.editor.getAttributes(mE)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=jl({find:gE,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=jl({find:gE,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(mE),editor:this.editor})),[t]}}),cP=Cn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",ht(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(s=>s.type==="paragraph"))n=e.parseChildren(t.tokens);else{const s=t.tokens[0];if(s&&s.type==="text"&&s.tokens&&s.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(s.tokens)}],t.tokens.length>1){const o=t.tokens.slice(1),a=e.parseChildren(o);n.push(...a)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>Tb(t,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),uK={};lK(uK,{findListItemPos:()=>od,getNextListDepth:()=>Lb,handleBackspace:()=>o0,handleDelete:()=>a0,hasListBefore:()=>uP,hasListItemAfter:()=>dK,hasListItemBefore:()=>dP,listItemHasSubList:()=>fP,nextListIsDeeper:()=>hP,nextListIsHigher:()=>pP});var od=(t,e)=>{const{$from:n}=e.selection,r=bt(t,e.schema);let s=null,i=n.depth,o=n.pos,a=null;for(;i>0&&a===null;)s=n.node(i),s.type===r?a=i:(i-=1,o-=1);return a===null?null:{$pos:e.doc.resolve(o),depth:a}},Lb=(t,e)=>{const n=od(t,e);if(!n)return!1;const[,r]=i9(e,t,n.$pos.pos+4);return r},uP=(t,e,n)=>{const{$anchor:r}=t.selection,s=Math.max(0,r.pos-2),i=t.doc.resolve(s).node();return!(!i||!n.includes(i.type.name))},dP=(t,e)=>{var n;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-2);return!(s.index()===0||((n=s.nodeBefore)==null?void 0:n.type.name)!==t)},fP=(t,e,n)=>{if(!n)return!1;const r=bt(t,e.schema);let s=!1;return n.descendants(i=>{i.type===r&&(s=!0)}),s},o0=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!Fi(t.state,e)&&uP(t.state,e,n)){const{$anchor:a}=t.state.selection,l=t.state.doc.resolve(a.before()-1),c=[];l.node().descendants((f,p)=>{f.type.name===e&&c.push({node:f,pos:p})});const u=c.at(-1);if(!u)return!1;const d=t.state.doc.resolve(l.start()+u.pos+1);return t.chain().cut({from:a.start()-1,to:a.end()+1},d.end()).joinForward().run()}if(!Fi(t.state,e)||!c9(t.state))return!1;const r=od(e,t.state);if(!r)return!1;const i=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),o=fP(e,t.state,i);return dP(e,t.state)&&!o?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},hP=(t,e)=>{const n=Lb(t,e),r=od(t,e);return!r||!n?!1:n>r.depth},pP=(t,e)=>{const n=Lb(t,e),r=od(t,e);return!r||!n?!1:n<r.depth},a0=(t,e)=>{if(!Fi(t.state,e)||!l9(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:s}=n;return!n.empty&&r.sameParent(s)?!1:hP(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():pP(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},dK=(t,e)=>{var n;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-r.parentOffset-2);return!(s.index()===s.parent.childCount-1||((n=s.nodeAfter)==null?void 0:n.type.name)!==t)},mP=pt.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&a0(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&a0(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&o0(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&o0(t,n,r)&&(e=!0)}),e}}}}),yE=/^(\s*)(\d+)\.\s+(.*)$/,fK=/^\s/;function hK(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n],i=s.match(yE);if(!i)break;const[,o,a,l]=i,c=o.length;let u=l,d=n+1;const f=[s];for(;d<t.length;){const p=t[d];if(p.match(yE))break;if(p.trim()==="")f.push(p),u+=`
`,d+=1;else if(p.match(fK))f.push(p),u+=`
${p.slice(c+2)}`,d+=1;else break}e.push({indent:c,number:parseInt(a,10),content:u.trim(),raw:f.join(`
`)}),r=d,n=d}return[e,r]}function gP(t,e,n){var r;const s=[];let i=0;for(;i<t.length;){const o=t[i];if(o.indent===e){const a=o.content.split(`
`),l=((r=a[0])==null?void 0:r.trim())||"",c=[];l&&c.push({type:"paragraph",raw:l,tokens:n.inlineTokens(l)});const u=a.slice(1).join(`
`).trim();if(u){const p=n.blockTokens(u);c.push(...p)}let d=i+1;const f=[];for(;d<t.length&&t[d].indent>e;)f.push(t[d]),d+=1;if(f.length>0){const p=Math.min(...f.map(m=>m.indent)),g=gP(f,p,n);c.push({type:"list",ordered:!0,start:f[0].number,items:g,raw:f.map(m=>m.raw).join(`
`)})}s.push({type:"list_item",raw:o.raw,tokens:c}),i=d}else i+=1}return s}function pK(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(s=>{if(s.type==="paragraph"||s.type==="list"||s.type==="blockquote"||s.type==="code")r.push(...e.parseChildren([s]));else if(s.type==="text"&&s.tokens){const i=e.parseChildren([s]);r.push({type:"paragraph",content:i})}else{const i=e.parseChildren([s]);i.length>0&&r.push(...i)}}),{type:"listItem",content:r}})}var mK="listItem",vE="textStyle",xE=/^(\d+)\.\s$/,yP=Cn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",ht(this.options.HTMLAttributes,n),0]:["ol",ht(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?pK(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e==null?void 0:e.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const s=t.split(`
`),[i,o]=hK(s);if(i.length===0)return;const a=gP(i,0,n);return a.length===0?void 0:{type:"list",ordered:!0,start:((r=i[0])==null?void 0:r.number)||1,items:a,raw:s.slice(0,o).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(mK,this.editor.getAttributes(vE)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=jl({find:xE,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=jl({find:xE,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(vE)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),gK=/^\s*(\[([( |x])?\])\s$/,yK=Cn.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",ht(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const s=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return Tb(t,e,s)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const s=document.createElement("li"),i=document.createElement("label"),o=document.createElement("span"),a=document.createElement("input"),l=document.createElement("div"),c=u=>{var d,f;a.ariaLabel=((f=(d=this.options.a11y)==null?void 0:d.checkboxLabel)==null?void 0:f.call(d,u,a.checked))||`Task item checkbox for ${u.textContent||"empty task item"}`};return c(t),i.contentEditable="false",a.type="checkbox",a.addEventListener("mousedown",u=>u.preventDefault()),a.addEventListener("change",u=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){a.checked=!a.checked;return}const{checked:d}=u.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:f})=>{const p=n();if(typeof p!="number")return!1;const g=f.doc.nodeAt(p);return f.setNodeMarkup(p,void 0,{...g==null?void 0:g.attrs,checked:d}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,d)||(a.checked=!a.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([u,d])=>{s.setAttribute(u,d)}),s.dataset.checked=t.attrs.checked,a.checked=t.attrs.checked,i.append(a,o),s.append(i,l),Object.entries(e).forEach(([u,d])=>{s.setAttribute(u,d)}),{dom:s,contentDOM:l,update:u=>u.type!==this.type?!1:(s.dataset.checked=u.attrs.checked,a.checked=u.attrs.checked,c(u),!0)}}},addInputRules(){return[jl({find:gK,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),vK=Cn.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",ht(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=i=>{const o=Yv(i,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:a=>({indentLevel:a[1].length,mainContent:a[4],checked:a[3].toLowerCase()==="x"}),createToken:(a,l)=>({type:"taskItem",raw:"",mainContent:a.mainContent,indentLevel:a.indentLevel,checked:a.checked,text:a.mainContent,tokens:n.inlineTokens(a.mainContent),nestedTokens:l}),customNestedParser:r},n);return o?[{type:"taskList",raw:o.raw,items:o.items}]:n.blockTokens(i)},s=Yv(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:i=>({indentLevel:i[1].length,mainContent:i[4],checked:i[3].toLowerCase()==="x"}),createToken:(i,o)=>({type:"taskItem",raw:"",mainContent:i.mainContent,indentLevel:i.indentLevel,checked:i.checked,text:i.mainContent,tokens:n.inlineTokens(i.mainContent),nestedTokens:o}),customNestedParser:r},n);if(s)return{type:"taskList",raw:s.raw,items:s.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});pt.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(lP.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(cP.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(mP.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(yP.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(yK.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(vK.configure(this.options.taskList)),t}});var xK=Cn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",ht(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),bK=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,wK=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,kK=oa.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",ht(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Rl({find:bK,type:this.type})]},addPasteRules(){return[Jo({find:wK,type:this.type})]}}),SK=Cn.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),vP=oa.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",ht(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const s=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!s)return;const i=s[2].trim();return{type:"underline",raw:s[0],text:i,tokens:n.inlineTokens(i)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),EK=vP;function _K(t={}){return new ot({view(e){return new CK(e,t)}})}class CK{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let i=o=>{this[s](o)};return e.dom.addEventListener(s,i),{name:s,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,s=this.editorView.dom,i=s.getBoundingClientRect(),o=i.width/s.offsetWidth,a=i.height/s.offsetHeight;if(n){let d=e.nodeBefore,f=e.nodeAfter;if(d||f){let p=this.editorView.nodeDOM(this.cursorPos-(d?d.nodeSize:0));if(p){let g=p.getBoundingClientRect(),m=d?g.bottom:g.top;d&&f&&(m=(m+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let y=this.width/2*a;r={left:g.left,right:g.right,top:m-y,bottom:m+y}}}}if(!r){let d=this.editorView.coordsAtPos(this.cursorPos),f=this.width/2*o;r={left:d.left-f,right:d.left+f,top:d.top,bottom:d.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let c,u;if(!l||l==document.body&&getComputedStyle(l).position=="static")c=-pageXOffset,u=-pageYOffset;else{let d=l.getBoundingClientRect(),f=d.width/l.offsetWidth,p=d.height/l.offsetHeight;c=d.left-l.scrollLeft*f,u=d.top-l.scrollTop*p}this.element.style.left=(r.left-c)/o+"px",this.element.style.top=(r.top-u)/a+"px",this.element.style.width=(r.right-r.left)/o+"px",this.element.style.height=(r.bottom-r.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=r&&r.type.spec.disableDropCursor,i=typeof s=="function"?s(this.editorView,n,e):s;if(n&&!i){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=vR(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class dt extends Ee{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return dt.valid(r)?new dt(r):Ee.near(r)}content(){return G.empty}eq(e){return e instanceof dt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new dt(e.resolve(n.pos))}getBookmark(){return new $b(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!TK(e)||!NK(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let s=n.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&dt.valid(e))return e;let s=e.pos,i=null;for(let o=e.depth;;o--){let a=e.node(o);if(n>0?e.indexAfter(o)<a.childCount:e.index(o)>0){i=a.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;s+=n;let l=e.doc.resolve(s);if(dt.valid(l))return l}for(;;){let o=n>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!ae.isSelectable(i)){e=e.doc.resolve(s+i.nodeSize*n),r=!1;continue e}break}i=o,s+=n;let a=e.doc.resolve(s);if(dt.valid(a))return a}return null}}}dt.prototype.visible=!1;dt.findFrom=dt.findGapCursorFrom;Ee.jsonID("gapcursor",dt);class $b{constructor(e){this.pos=e}map(e){return new $b(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return dt.valid(n)?new dt(n):Ee.near(n)}}function xP(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function TK(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||xP(s.type))return!0;if(s.inlineContent)return!1}}return!0}function NK(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||xP(s.type))return!0;if(s.inlineContent)return!1}}return!0}function AK(){return new ot({props:{decorations:PK,createSelectionBetween(t,e,n){return e.pos==n.pos&&dt.valid(n)?new dt(n):null},handleClick:RK,handleKeyDown:OK,handleDOMEvents:{beforeinput:jK}}})}const OK=hj({ArrowLeft:sf("horiz",-1),ArrowRight:sf("horiz",1),ArrowUp:sf("vert",-1),ArrowDown:sf("vert",1)});function sf(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,i){let o=r.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof me){if(!i.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let c=dt.findGapCursorFrom(a,e,l);return c?(s&&s(r.tr.setSelection(new dt(c))),!0):!1}}function RK(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!dt.valid(r))return!1;let s=t.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&ae.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new dt(r))),!0)}function jK(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof dt))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let s=D.empty;for(let o=r.length-1;o>=0;o--)s=D.from(r[o].createAndFill(null,s));let i=t.state.tr.replace(n.pos,n.pos,new G(s,0,0));return i.setSelection(me.near(i.doc.resolve(n.pos+1))),t.dispatch(i),!1}function PK(t){if(!(t.selection instanceof dt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",rt.create(t.doc,[sn.widget(t.selection.head,e,{key:"gapcursor"})])}var pp=200,Rt=function(){};Rt.prototype.append=function(e){return e.length?(e=Rt.from(e),!this.length&&e||e.length<pp&&this.leafAppend(e)||this.length<pp&&e.leafPrepend(this)||this.appendInner(e)):this};Rt.prototype.prepend=function(e){return e.length?Rt.from(e).append(this):this};Rt.prototype.appendInner=function(e){return new MK(this,e)};Rt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Rt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Rt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Rt.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Rt.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(i,o){return s.push(e(i,o))},n,r),s};Rt.from=function(e){return e instanceof Rt?e:e&&e.length?new bP(e):Rt.empty};var bP=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,i){return s==0&&i==this.length?this:new e(this.values.slice(s,i))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,i,o,a){for(var l=i;l<o;l++)if(s(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(s,i,o,a){for(var l=i-1;l>=o;l--)if(s(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=pp)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=pp)return new e(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Rt);Rt.empty=new bP([]);var MK=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,i,o){var a=this.left.length;if(s<a&&this.left.forEachInner(r,s,Math.min(i,a),o)===!1||i>a&&this.right.forEachInner(r,Math.max(s-a,0),Math.min(this.length,i)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,i,o){var a=this.left.length;if(s>a&&this.right.forEachInvertedInner(r,s-a,Math.max(i,a)-a,o+a)===!1||i<a&&this.left.forEachInvertedInner(r,Math.min(s,a),i,o)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var i=this.left.length;return s<=i?this.left.slice(r,s):r>=i?this.right.slice(r-i,s-i):this.left.slice(r,i).append(this.right.slice(0,s-i))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Rt);const IK=500;class Cr{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,i;n&&(s=this.remapping(r,this.items.length),i=s.maps.length);let o=e.tr,a,l,c=[],u=[];return this.items.forEach((d,f)=>{if(!d.step){s||(s=this.remapping(r,f+1),i=s.maps.length),i--,u.push(d);return}if(s){u.push(new Vs(d.map));let p=d.step.map(s.slice(i)),g;p&&o.maybeStep(p).doc&&(g=o.mapping.maps[o.mapping.maps.length-1],c.push(new Vs(g,void 0,void 0,c.length+u.length))),i--,g&&s.appendMap(g,i)}else o.maybeStep(d.step);if(d.selection)return a=s?d.selection.map(s.slice(i)):d.selection,l=new Cr(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,n,r,s){let i=[],o=this.eventCount,a=this.items,l=!s&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let d=e.steps[u].invert(e.docs[u]),f=new Vs(e.mapping.maps[u],d,n),p;(p=l&&l.merge(f))&&(f=p,u?i.pop():a=a.slice(0,a.length-1)),i.push(f),n&&(o++,n=void 0),s||(l=f)}let c=o-r.depth;return c>LK&&(a=DK(a,c),o-=c),new Cr(a.append(i),o)}remapping(e,n){let r=new ju;return this.items.forEach((s,i)=>{let o=s.mirrorOffset!=null&&i-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,o)},e,n),r}addMaps(e){return this.eventCount==0?this:new Cr(this.items.append(e.map(n=>new Vs(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),i=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},s);let l=n;this.items.forEach(f=>{let p=i.getMirror(--l);if(p==null)return;o=Math.min(o,p);let g=i.maps[p];if(f.step){let m=e.steps[p].invert(e.docs[p]),y=f.selection&&f.selection.map(i.slice(l+1,p));y&&a++,r.push(new Vs(g,m,y))}else r.push(new Vs(g))},s);let c=[];for(let f=n;f<o;f++)c.push(new Vs(i.maps[f]));let u=this.items.slice(0,s).append(c).append(r),d=new Cr(u,a);return d.emptyItemCount()>IK&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,s=[],i=0;return this.items.forEach((o,a)=>{if(a>=e)s.push(o),o.selection&&i++;else if(o.step){let l=o.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=o.selection&&o.selection.map(n.slice(r));u&&i++;let d=new Vs(c.invert(),l,u),f,p=s.length-1;(f=s.length&&s[p].merge(d))?s[p]=f:s.push(d)}}else o.map&&r--},this.items.length,0),new Cr(Rt.from(s.reverse()),i)}}Cr.empty=new Cr(Rt.empty,0);function DK(t,e){let n;return t.forEach((r,s)=>{if(r.selection&&e--==0)return n=s,!1}),t.slice(n)}let Vs=class wP{constructor(e,n,r,s){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new wP(n.getMap().invert(),n,this.selection)}}};class Xs{constructor(e,n,r,s,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=i}}const LK=20;function $K(t,e,n,r){let s=n.getMeta(Io),i;if(s)return s.historyState;n.getMeta(FK)&&(t=new Xs(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(Io))return o.getMeta(Io).redo?new Xs(t.done.addTransform(n,void 0,r,Rf(e)),t.undone,bE(n.mapping.maps),t.prevTime,t.prevComposition):new Xs(t.done,t.undone.addTransform(n,void 0,r,Rf(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!o&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!zK(n,t.prevRanges)),c=o?qg(t.prevRanges,n.mapping):bE(n.mapping.maps);return new Xs(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,Rf(e)),Cr.empty,c,n.time,a??t.prevComposition)}else return(i=n.getMeta("rebased"))?new Xs(t.done.rebased(n,i),t.undone.rebased(n,i),qg(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Xs(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),qg(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function zK(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,s)=>{for(let i=0;i<e.length;i+=2)r<=e[i+1]&&s>=e[i]&&(n=!0)}),n}function bE(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,s,i,o)=>e.push(i,o));return e}function qg(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let s=e.map(t[r],1),i=e.map(t[r+1],-1);s<=i&&n.push(s,i)}return n}function BK(t,e,n){let r=Rf(e),s=Io.get(e).spec.config,i=(n?t.undone:t.done).popEvent(e,r);if(!i)return null;let o=i.selection.resolve(i.transform.doc),a=(n?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),s,r),l=new Xs(n?a:i.remaining,n?i.remaining:a,null,0,-1);return i.transform.setSelection(o).setMeta(Io,{redo:n,historyState:l})}let Kg=!1,wE=null;function Rf(t){let e=t.plugins;if(wE!=e){Kg=!1,wE=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Kg=!0;break}}return Kg}const Io=new _t("history"),FK=new _t("closeHistory");function UK(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new ot({key:Io,state:{init(){return new Xs(Cr.empty,Cr.empty,null,0,-1)},apply(e,n,r){return $K(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,s=r=="historyUndo"?SP:r=="historyRedo"?EP:null;return!s||!e.editable?!1:(n.preventDefault(),s(e.state,e.dispatch))}}}})}function kP(t,e){return(n,r)=>{let s=Io.getState(n);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(r){let i=BK(s,n,t);i&&r(e?i.scrollIntoView():i)}return!0}}const SP=kP(!1,!0),EP=kP(!0,!0);pt.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new ot({key:new _t("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const s=this.options.limit;if(s==null||s===0){t=!0;return}const i=this.storage.characters({node:r.doc});if(i>s){const o=i-s,a=0,l=o;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const c=r.tr.deleteRange(a,l);return t=!0,c}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const s=this.storage.characters({node:n.doc}),i=this.storage.characters({node:e.doc});if(i<=r||s>r&&i>r&&i<=s)return!0;if(s>r&&i>r&&i>s||!e.getMeta("paste"))return!1;const a=e.selection.$head.pos,l=i-r,c=a-l,u=a;return e.deleteRange(c,u),!(this.storage.characters({node:e.doc})>r)}})]}});var VK=pt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[_K(this.options)]}});pt.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new ot({key:new _t("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:s}=e,i=[];if(!n||!r)return rt.create(t,[]);let o=0;this.options.mode==="deepest"&&t.descendants((l,c)=>{if(l.isText)return;if(!(s>=c&&s<=c+l.nodeSize-1))return!1;o+=1});let a=0;return t.descendants((l,c)=>{if(l.isText||!(s>=c&&s<=c+l.nodeSize-1))return!1;if(a+=1,this.options.mode==="deepest"&&o-a>0||this.options.mode==="shallowest"&&a>1)return this.options.mode==="deepest";i.push(sn.node(c,c+l.nodeSize,{class:this.options.className}))}),rt.create(t,i)}}})]}});var HK=pt.create({name:"gapCursor",addProseMirrorPlugins(){return[AK()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Fe(ie(t,"allowGapCursor",n)))!=null?e:null}}}),WK=pt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new ot({key:new _t("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,s=[];if(!n)return null;const i=this.editor.isEmpty;return t.descendants((o,a)=>{const l=r>=a&&r<=a+o.nodeSize,c=!o.isLeaf&&um(o);if((l||!this.options.showOnlyCurrent)&&c){const u=[this.options.emptyNodeClass];i&&u.push(this.options.emptyEditorClass);const d=sn.node(a,a+o.nodeSize,{class:u.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:a,hasAnchor:l}):this.options.placeholder});s.push(d)}return this.options.includeChildren}),rt.create(t,s)}}})]}});pt.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new ot({key:new _t("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||Aj(n.selection)||t.view.dragging?null:rt.create(n.doc,[sn.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function kE({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(e==null?void 0:e.type)===t}var qK=pt.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new _t(this.name),n=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,s])=>s).filter(s=>(this.options.notAfter||[]).concat(n).includes(s.name));return[new ot({key:e,appendTransaction:(s,i,o)=>{const{doc:a,tr:l,schema:c}=o,u=e.getState(o),d=a.content.size,f=c.nodes[n];if(u)return l.insert(d,f.create())},state:{init:(s,i)=>{const o=i.tr.doc.lastChild;return!kE({node:o,types:r})},apply:(s,i)=>{if(!s.docChanged||s.getMeta("__uniqueIDTransaction"))return i;const o=s.doc.lastChild;return!kE({node:o,types:r})}}})]}}),KK=pt.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>SP(t,e),redo:()=>({state:t,dispatch:e})=>EP(t,e)}},addProseMirrorPlugins(){return[UK(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),GK=pt.create({name:"starterKit",addExtensions(){var t,e,n,r;const s=[];return this.options.bold!==!1&&s.push(b7.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(m7.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(lP.configure(this.options.bulletList)),this.options.code!==!1&&s.push(S7.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(C7.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(T7.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(VK.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(HK.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(N7.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(A7.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(KK.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(O7.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(I7.configure(this.options.italic)),this.options.listItem!==!1&&s.push(cP.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(mP.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&s.push(aP.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&s.push(yP.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(xK.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(kK.configure(this.options.strike)),this.options.text!==!1&&s.push(SK.configure(this.options.text)),this.options.underline!==!1&&s.push(vP.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&s.push(qK.configure((r=this.options)==null?void 0:r.trailingNode)),s}}),JK=GK,YK=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,QK=Cn.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",ht(this.options.HTMLAttributes,t)]},parseMarkdown:(t,e)=>e.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var e,n,r,s,i,o;const a=(n=(e=t.attrs)==null?void 0:e.src)!=null?n:"",l=(s=(r=t.attrs)==null?void 0:r.alt)!=null?s:"",c=(o=(i=t.attrs)==null?void 0:i.title)!=null?o:"";return c?`![${l}](${a} "${c}")`:`![${l}](${a})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u")return null;const{directions:t,minWidth:e,minHeight:n,alwaysPreserveAspectRatio:r}=this.options.resize;return({node:s,getPos:i,HTMLAttributes:o,editor:a})=>{const l=document.createElement("img");Object.entries(o).forEach(([d,f])=>{if(f!=null)switch(d){case"width":case"height":break;default:l.setAttribute(d,f);break}}),l.src=o.src;const c=new J9({element:l,editor:a,node:s,getPos:i,onResize:(d,f)=>{l.style.width=`${d}px`,l.style.height=`${f}px`},onCommit:(d,f)=>{const p=i();p!==void 0&&this.editor.chain().setNodeSelection(p).updateAttributes(this.name,{width:d,height:f}).run()},onUpdate:(d,f,p)=>d.type===s.type,options:{directions:t,min:{width:e,height:n},preserveAspectRatio:r===!0}}),u=c.dom;return u.style.visibility="hidden",u.style.pointerEvents="none",l.onload=()=>{u.style.visibility="",u.style.pointerEvents=""},c}},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[qj({find:YK,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),ZK=QK,XK=WK;/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:_P,setPrototypeOf:SE,isFrozen:eG,getPrototypeOf:tG,getOwnPropertyDescriptor:nG}=Object;let{freeze:cn,seal:lr,create:l0}=Object,{apply:c0,construct:u0}=typeof Reflect<"u"&&Reflect;cn||(cn=function(e){return e});lr||(lr=function(e){return e});c0||(c0=function(e,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];return e.apply(n,s)});u0||(u0=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return new e(...r)});const of=un(Array.prototype.forEach),rG=un(Array.prototype.lastIndexOf),EE=un(Array.prototype.pop),fc=un(Array.prototype.push),sG=un(Array.prototype.splice),jf=un(String.prototype.toLowerCase),Gg=un(String.prototype.toString),Jg=un(String.prototype.match),hc=un(String.prototype.replace),iG=un(String.prototype.indexOf),oG=un(String.prototype.trim),gr=un(Object.prototype.hasOwnProperty),en=un(RegExp.prototype.test),pc=aG(TypeError);function un(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return c0(t,e,r)}}function aG(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return u0(t,n)}}function _e(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:jf;SE&&SE(t,null);let r=e.length;for(;r--;){let s=e[r];if(typeof s=="string"){const i=n(s);i!==s&&(eG(e)||(e[r]=i),s=i)}t[s]=!0}return t}function lG(t){for(let e=0;e<t.length;e++)gr(t,e)||(t[e]=null);return t}function zr(t){const e=l0(null);for(const[n,r]of _P(t))gr(t,n)&&(Array.isArray(r)?e[n]=lG(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=zr(r):e[n]=r);return e}function mc(t,e){for(;t!==null;){const r=nG(t,e);if(r){if(r.get)return un(r.get);if(typeof r.value=="function")return un(r.value)}t=tG(t)}function n(){return null}return n}const _E=cn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Yg=cn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Qg=cn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),cG=cn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Zg=cn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),uG=cn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),CE=cn(["#text"]),TE=cn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Xg=cn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),NE=cn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),af=cn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),dG=lr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),fG=lr(/<%[\w\W]*|[\w\W]*%>/gm),hG=lr(/\$\{[\w\W]*/gm),pG=lr(/^data-[\-\w.\u00B7-\uFFFF]+$/),mG=lr(/^aria-[\-\w]+$/),CP=lr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),gG=lr(/^(?:\w+script|data):/i),yG=lr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),TP=lr(/^html$/i),vG=lr(/^[a-z][.\w]*(-[.\w]+)+$/i);var AE=Object.freeze({__proto__:null,ARIA_ATTR:mG,ATTR_WHITESPACE:yG,CUSTOM_ELEMENT:vG,DATA_ATTR:pG,DOCTYPE_NAME:TP,ERB_EXPR:fG,IS_ALLOWED_URI:CP,IS_SCRIPT_OR_DATA:gG,MUSTACHE_EXPR:dG,TMPLIT_EXPR:hG});const gc={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},xG=function(){return typeof window>"u"?null:window},bG=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const s="data-tt-policy-suffix";n&&n.hasAttribute(s)&&(r=n.getAttribute(s));const i="dompurify"+(r?"#"+r:"");try{return e.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},OE=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function NP(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xG();const e=oe=>NP(oe);if(e.version="3.3.1",e.removed=[],!t||!t.document||t.document.nodeType!==gc.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const r=n,s=r.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:a,Element:l,NodeFilter:c,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:d,DOMParser:f,trustedTypes:p}=t,g=l.prototype,m=mc(g,"cloneNode"),y=mc(g,"remove"),v=mc(g,"nextSibling"),x=mc(g,"childNodes"),w=mc(g,"parentNode");if(typeof o=="function"){const oe=n.createElement("template");oe.content&&oe.content.ownerDocument&&(n=oe.content.ownerDocument)}let k,S="";const{implementation:_,createNodeIterator:E,createDocumentFragment:C,getElementsByTagName:N}=n,{importNode:R}=r;let L=OE();e.isSupported=typeof _P=="function"&&typeof w=="function"&&_&&_.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:I,ERB_EXPR:Z,TMPLIT_EXPR:M,DATA_ATTR:J,ARIA_ATTR:W,IS_SCRIPT_OR_DATA:X,ATTR_WHITESPACE:O,CUSTOM_ELEMENT:j}=AE;let{IS_ALLOWED_URI:H}=AE,A=null;const F=_e({},[..._E,...Yg,...Qg,...Zg,...CE]);let Y=null;const de=_e({},[...TE,...Xg,...NE,...af]);let ce=Object.seal(l0(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Le=null,q=null;const Oe=Object.seal(l0(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Ke=!0,je=!0,Ne=!1,Pe=!0,et=!1,jt=!0,Xt=!1,Un=!1,ur=!1,Vn=!1,dr=!1,Xi=!1,Ds=!0,Hl=!1;const rs="user-content-";let Wl=!0,eo=!1,wt={},Pt=null;const ql=_e({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ad=null;const to=_e({},["audio","video","img","source","image","track"]);let Kl=null;const Gl=_e({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ls="http://www.w3.org/1998/Math/MathML",fr="http://www.w3.org/2000/svg",Hn="http://www.w3.org/1999/xhtml";let Tn=Hn,Jl=!1,Yl=null;const ld=_e({},[Ls,fr,Hn],Gg);let no=_e({},["mi","mo","mn","ms","mtext"]),la=_e({},["annotation-xml"]);const Ql=_e({},["title","style","font","a","script"]);let hn=null;const vm=["application/xhtml+xml","text/html"],he="text/html";let fe=null,Be=null;const Nn=n.createElement("form"),pn=function(T){return T instanceof RegExp||T instanceof Function},Wn=function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Be&&Be===T)){if((!T||typeof T!="object")&&(T={}),T=zr(T),hn=vm.indexOf(T.PARSER_MEDIA_TYPE)===-1?he:T.PARSER_MEDIA_TYPE,fe=hn==="application/xhtml+xml"?Gg:jf,A=gr(T,"ALLOWED_TAGS")?_e({},T.ALLOWED_TAGS,fe):F,Y=gr(T,"ALLOWED_ATTR")?_e({},T.ALLOWED_ATTR,fe):de,Yl=gr(T,"ALLOWED_NAMESPACES")?_e({},T.ALLOWED_NAMESPACES,Gg):ld,Kl=gr(T,"ADD_URI_SAFE_ATTR")?_e(zr(Gl),T.ADD_URI_SAFE_ATTR,fe):Gl,ad=gr(T,"ADD_DATA_URI_TAGS")?_e(zr(to),T.ADD_DATA_URI_TAGS,fe):to,Pt=gr(T,"FORBID_CONTENTS")?_e({},T.FORBID_CONTENTS,fe):ql,Le=gr(T,"FORBID_TAGS")?_e({},T.FORBID_TAGS,fe):zr({}),q=gr(T,"FORBID_ATTR")?_e({},T.FORBID_ATTR,fe):zr({}),wt=gr(T,"USE_PROFILES")?T.USE_PROFILES:!1,Ke=T.ALLOW_ARIA_ATTR!==!1,je=T.ALLOW_DATA_ATTR!==!1,Ne=T.ALLOW_UNKNOWN_PROTOCOLS||!1,Pe=T.ALLOW_SELF_CLOSE_IN_ATTR!==!1,et=T.SAFE_FOR_TEMPLATES||!1,jt=T.SAFE_FOR_XML!==!1,Xt=T.WHOLE_DOCUMENT||!1,Vn=T.RETURN_DOM||!1,dr=T.RETURN_DOM_FRAGMENT||!1,Xi=T.RETURN_TRUSTED_TYPE||!1,ur=T.FORCE_BODY||!1,Ds=T.SANITIZE_DOM!==!1,Hl=T.SANITIZE_NAMED_PROPS||!1,Wl=T.KEEP_CONTENT!==!1,eo=T.IN_PLACE||!1,H=T.ALLOWED_URI_REGEXP||CP,Tn=T.NAMESPACE||Hn,no=T.MATHML_TEXT_INTEGRATION_POINTS||no,la=T.HTML_INTEGRATION_POINTS||la,ce=T.CUSTOM_ELEMENT_HANDLING||{},T.CUSTOM_ELEMENT_HANDLING&&pn(T.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ce.tagNameCheck=T.CUSTOM_ELEMENT_HANDLING.tagNameCheck),T.CUSTOM_ELEMENT_HANDLING&&pn(T.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ce.attributeNameCheck=T.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),T.CUSTOM_ELEMENT_HANDLING&&typeof T.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ce.allowCustomizedBuiltInElements=T.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),et&&(je=!1),dr&&(Vn=!0),wt&&(A=_e({},CE),Y=[],wt.html===!0&&(_e(A,_E),_e(Y,TE)),wt.svg===!0&&(_e(A,Yg),_e(Y,Xg),_e(Y,af)),wt.svgFilters===!0&&(_e(A,Qg),_e(Y,Xg),_e(Y,af)),wt.mathMl===!0&&(_e(A,Zg),_e(Y,NE),_e(Y,af))),T.ADD_TAGS&&(typeof T.ADD_TAGS=="function"?Oe.tagCheck=T.ADD_TAGS:(A===F&&(A=zr(A)),_e(A,T.ADD_TAGS,fe))),T.ADD_ATTR&&(typeof T.ADD_ATTR=="function"?Oe.attributeCheck=T.ADD_ATTR:(Y===de&&(Y=zr(Y)),_e(Y,T.ADD_ATTR,fe))),T.ADD_URI_SAFE_ATTR&&_e(Kl,T.ADD_URI_SAFE_ATTR,fe),T.FORBID_CONTENTS&&(Pt===ql&&(Pt=zr(Pt)),_e(Pt,T.FORBID_CONTENTS,fe)),T.ADD_FORBID_CONTENTS&&(Pt===ql&&(Pt=zr(Pt)),_e(Pt,T.ADD_FORBID_CONTENTS,fe)),Wl&&(A["#text"]=!0),Xt&&_e(A,["html","head","body"]),A.table&&(_e(A,["tbody"]),delete Le.tbody),T.TRUSTED_TYPES_POLICY){if(typeof T.TRUSTED_TYPES_POLICY.createHTML!="function")throw pc('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof T.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw pc('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');k=T.TRUSTED_TYPES_POLICY,S=k.createHTML("")}else k===void 0&&(k=bG(p,s)),k!==null&&typeof S=="string"&&(S=k.createHTML(""));cn&&cn(T),Be=T}},Ir=_e({},[...Yg,...Qg,...cG]),mn=_e({},[...Zg,...uG]),Dr=function(T){let U=w(T);(!U||!U.tagName)&&(U={namespaceURI:Tn,tagName:"template"});const te=jf(T.tagName),Ze=jf(U.tagName);return Yl[T.namespaceURI]?T.namespaceURI===fr?U.namespaceURI===Hn?te==="svg":U.namespaceURI===Ls?te==="svg"&&(Ze==="annotation-xml"||no[Ze]):!!Ir[te]:T.namespaceURI===Ls?U.namespaceURI===Hn?te==="math":U.namespaceURI===fr?te==="math"&&la[Ze]:!!mn[te]:T.namespaceURI===Hn?U.namespaceURI===fr&&!la[Ze]||U.namespaceURI===Ls&&!no[Ze]?!1:!mn[te]&&(Ql[te]||!Ir[te]):!!(hn==="application/xhtml+xml"&&Yl[T.namespaceURI]):!1},Lr=function(T){fc(e.removed,{element:T});try{w(T).removeChild(T)}catch{y(T)}},ro=function(T,U){try{fc(e.removed,{attribute:U.getAttributeNode(T),from:U})}catch{fc(e.removed,{attribute:null,from:U})}if(U.removeAttribute(T),T==="is")if(Vn||dr)try{Lr(U)}catch{}else try{U.setAttribute(T,"")}catch{}},Fb=function(T){let U=null,te=null;if(ur)T="<remove></remove>"+T;else{const mt=Jg(T,/^[\r\n\t ]+/);te=mt&&mt[0]}hn==="application/xhtml+xml"&&Tn===Hn&&(T='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+T+"</body></html>");const Ze=k?k.createHTML(T):T;if(Tn===Hn)try{U=new f().parseFromString(Ze,hn)}catch{}if(!U||!U.documentElement){U=_.createDocument(Tn,"template",null);try{U.documentElement.innerHTML=Jl?S:Ze}catch{}}const Vt=U.body||U.documentElement;return T&&te&&Vt.insertBefore(n.createTextNode(te),Vt.childNodes[0]||null),Tn===Hn?N.call(U,Xt?"html":"body")[0]:Xt?U.documentElement:Vt},Ub=function(T){return E.call(T.ownerDocument||T,T,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},xm=function(T){return T instanceof d&&(typeof T.nodeName!="string"||typeof T.textContent!="string"||typeof T.removeChild!="function"||!(T.attributes instanceof u)||typeof T.removeAttribute!="function"||typeof T.setAttribute!="function"||typeof T.namespaceURI!="string"||typeof T.insertBefore!="function"||typeof T.hasChildNodes!="function")},Vb=function(T){return typeof a=="function"&&T instanceof a};function ss(oe,T,U){of(oe,te=>{te.call(e,T,U,Be)})}const Hb=function(T){let U=null;if(ss(L.beforeSanitizeElements,T,null),xm(T))return Lr(T),!0;const te=fe(T.nodeName);if(ss(L.uponSanitizeElement,T,{tagName:te,allowedTags:A}),jt&&T.hasChildNodes()&&!Vb(T.firstElementChild)&&en(/<[/\w!]/g,T.innerHTML)&&en(/<[/\w!]/g,T.textContent)||T.nodeType===gc.progressingInstruction||jt&&T.nodeType===gc.comment&&en(/<[/\w]/g,T.data))return Lr(T),!0;if(!(Oe.tagCheck instanceof Function&&Oe.tagCheck(te))&&(!A[te]||Le[te])){if(!Le[te]&&qb(te)&&(ce.tagNameCheck instanceof RegExp&&en(ce.tagNameCheck,te)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(te)))return!1;if(Wl&&!Pt[te]){const Ze=w(T)||T.parentNode,Vt=x(T)||T.childNodes;if(Vt&&Ze){const mt=Vt.length;for(let gn=mt-1;gn>=0;--gn){const is=m(Vt[gn],!0);is.__removalCount=(T.__removalCount||0)+1,Ze.insertBefore(is,v(T))}}}return Lr(T),!0}return T instanceof l&&!Dr(T)||(te==="noscript"||te==="noembed"||te==="noframes")&&en(/<\/no(script|embed|frames)/i,T.innerHTML)?(Lr(T),!0):(et&&T.nodeType===gc.text&&(U=T.textContent,of([I,Z,M],Ze=>{U=hc(U,Ze," ")}),T.textContent!==U&&(fc(e.removed,{element:T.cloneNode()}),T.textContent=U)),ss(L.afterSanitizeElements,T,null),!1)},Wb=function(T,U,te){if(Ds&&(U==="id"||U==="name")&&(te in n||te in Nn))return!1;if(!(je&&!q[U]&&en(J,U))){if(!(Ke&&en(W,U))){if(!(Oe.attributeCheck instanceof Function&&Oe.attributeCheck(U,T))){if(!Y[U]||q[U]){if(!(qb(T)&&(ce.tagNameCheck instanceof RegExp&&en(ce.tagNameCheck,T)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(T))&&(ce.attributeNameCheck instanceof RegExp&&en(ce.attributeNameCheck,U)||ce.attributeNameCheck instanceof Function&&ce.attributeNameCheck(U,T))||U==="is"&&ce.allowCustomizedBuiltInElements&&(ce.tagNameCheck instanceof RegExp&&en(ce.tagNameCheck,te)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(te))))return!1}else if(!Kl[U]){if(!en(H,hc(te,O,""))){if(!((U==="src"||U==="xlink:href"||U==="href")&&T!=="script"&&iG(te,"data:")===0&&ad[T])){if(!(Ne&&!en(X,hc(te,O,"")))){if(te)return!1}}}}}}}return!0},qb=function(T){return T!=="annotation-xml"&&Jg(T,j)},Kb=function(T){ss(L.beforeSanitizeAttributes,T,null);const{attributes:U}=T;if(!U||xm(T))return;const te={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Y,forceKeepAttr:void 0};let Ze=U.length;for(;Ze--;){const Vt=U[Ze],{name:mt,namespaceURI:gn,value:is}=Vt,ca=fe(mt),bm=is;let Mt=mt==="value"?bm:oG(bm);if(te.attrName=ca,te.attrValue=Mt,te.keepAttr=!0,te.forceKeepAttr=void 0,ss(L.uponSanitizeAttribute,T,te),Mt=te.attrValue,Hl&&(ca==="id"||ca==="name")&&(ro(mt,T),Mt=rs+Mt),jt&&en(/((--!?|])>)|<\/(style|title|textarea)/i,Mt)){ro(mt,T);continue}if(ca==="attributename"&&Jg(Mt,"href")){ro(mt,T);continue}if(te.forceKeepAttr)continue;if(!te.keepAttr){ro(mt,T);continue}if(!Pe&&en(/\/>/i,Mt)){ro(mt,T);continue}et&&of([I,Z,M],Jb=>{Mt=hc(Mt,Jb," ")});const Gb=fe(T.nodeName);if(!Wb(Gb,ca,Mt)){ro(mt,T);continue}if(k&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!gn)switch(p.getAttributeType(Gb,ca)){case"TrustedHTML":{Mt=k.createHTML(Mt);break}case"TrustedScriptURL":{Mt=k.createScriptURL(Mt);break}}if(Mt!==bm)try{gn?T.setAttributeNS(gn,mt,Mt):T.setAttribute(mt,Mt),xm(T)?Lr(T):EE(e.removed)}catch{ro(mt,T)}}ss(L.afterSanitizeAttributes,T,null)},pM=function oe(T){let U=null;const te=Ub(T);for(ss(L.beforeSanitizeShadowDOM,T,null);U=te.nextNode();)ss(L.uponSanitizeShadowNode,U,null),Hb(U),Kb(U),U.content instanceof i&&oe(U.content);ss(L.afterSanitizeShadowDOM,T,null)};return e.sanitize=function(oe){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},U=null,te=null,Ze=null,Vt=null;if(Jl=!oe,Jl&&(oe="<!-->"),typeof oe!="string"&&!Vb(oe))if(typeof oe.toString=="function"){if(oe=oe.toString(),typeof oe!="string")throw pc("dirty is not a string, aborting")}else throw pc("toString is not a function");if(!e.isSupported)return oe;if(Un||Wn(T),e.removed=[],typeof oe=="string"&&(eo=!1),eo){if(oe.nodeName){const is=fe(oe.nodeName);if(!A[is]||Le[is])throw pc("root node is forbidden and cannot be sanitized in-place")}}else if(oe instanceof a)U=Fb("<!---->"),te=U.ownerDocument.importNode(oe,!0),te.nodeType===gc.element&&te.nodeName==="BODY"||te.nodeName==="HTML"?U=te:U.appendChild(te);else{if(!Vn&&!et&&!Xt&&oe.indexOf("<")===-1)return k&&Xi?k.createHTML(oe):oe;if(U=Fb(oe),!U)return Vn?null:Xi?S:""}U&&ur&&Lr(U.firstChild);const mt=Ub(eo?oe:U);for(;Ze=mt.nextNode();)Hb(Ze),Kb(Ze),Ze.content instanceof i&&pM(Ze.content);if(eo)return oe;if(Vn){if(dr)for(Vt=C.call(U.ownerDocument);U.firstChild;)Vt.appendChild(U.firstChild);else Vt=U;return(Y.shadowroot||Y.shadowrootmode)&&(Vt=R.call(r,Vt,!0)),Vt}let gn=Xt?U.outerHTML:U.innerHTML;return Xt&&A["!doctype"]&&U.ownerDocument&&U.ownerDocument.doctype&&U.ownerDocument.doctype.name&&en(TP,U.ownerDocument.doctype.name)&&(gn="<!DOCTYPE "+U.ownerDocument.doctype.name+`>
`+gn),et&&of([I,Z,M],is=>{gn=hc(gn,is," ")}),k&&Xi?k.createHTML(gn):gn},e.setConfig=function(){let oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Wn(oe),Un=!0},e.clearConfig=function(){Be=null,Un=!1},e.isValidAttribute=function(oe,T,U){Be||Wn({});const te=fe(oe),Ze=fe(T);return Wb(te,Ze,U)},e.addHook=function(oe,T){typeof T=="function"&&fc(L[oe],T)},e.removeHook=function(oe,T){if(T!==void 0){const U=rG(L[oe],T);return U===-1?void 0:sG(L[oe],U,1)[0]}return EE(L[oe])},e.removeHooks=function(oe){L[oe]=[]},e.removeAllHooks=function(){L=OE()},e}var zb=NP();const wG=({content:t,onChange:e})=>{const{toast:n}=Pr(),[r,s]=b.useState(!1),[i,o]=b.useState(!1),[a,l]=b.useState(""),[c,u]=b.useState(""),[d,f]=b.useState(!1),[p,g]=b.useState(""),[m,y]=b.useState(!1),v=u7({extensions:[JK.configure({heading:{levels:[1,2,3]}}),oK.configure({openOnClick:!1,HTMLAttributes:{class:"text-primary underline hover:text-primary/80 cursor-pointer",target:"_blank",rel:"noopener noreferrer"}}),ZK.configure({HTMLAttributes:{class:"max-w-full h-auto rounded-lg my-4"}}),EK,XK.configure({placeholder:"Start writing your blog post..."})],content:t,onUpdate:({editor:C})=>{e(C.getHTML())},editorProps:{attributes:{class:"prose prose-invert max-w-none min-h-[300px] p-4 focus:outline-none"}}});b.useEffect(()=>{v&&t!==v.getHTML()&&v.commands.setContent(t)},[t,v]);const x=b.useCallback(()=>{if(!v||!a)return;const C=a.startsWith("http://")||a.startsWith("https://")?a:`https://${a}`,{from:N,to:R}=v.state.selection;N!==R?v.chain().focus().extendMarkRange("link").setLink({href:C}).run():c?v.chain().focus().insertContent(`<a href="${C}" target="_blank" rel="noopener noreferrer">${c}</a>`).run():v.chain().focus().extendMarkRange("link").setLink({href:C}).run(),l(""),u(""),o(!1)},[v,a,c]),w=b.useCallback(()=>{v&&v.chain().focus().unsetLink().run()},[v]),k=async C=>{var R;const N=(R=C.target.files)==null?void 0:R[0];if(N){y(!0);try{const L=N.name.split(".").pop(),I=`blog-content/${Date.now()}-${Math.random().toString(36).substring(7)}.${L}`,{error:Z}=await se.storage.from("blog-images").upload(I,N);if(Z)throw Z;const{data:M}=se.storage.from("blog-images").getPublicUrl(I);v&&M.publicUrl&&v.chain().focus().setImage({src:M.publicUrl}).run(),n({title:"Success",description:"Image uploaded and inserted"}),f(!1)}catch(L){console.error("Upload error:",L),n({title:"Error",description:"Failed to upload image",variant:"destructive"})}finally{y(!1)}}},S=b.useCallback(()=>{!v||!p||(v.chain().focus().setImage({src:p}).run(),g(""),f(!1))},[v,p]),_=b.useCallback(()=>{if(!v)return;const{from:C,to:N}=v.state.selection;if(C!==N){const L=v.state.doc.textBetween(C,N);u(L)}else u("");const R=v.getAttributes("link");R.href?l(R.href):l(""),o(!0)},[v]);if(!v)return null;const E=({onClick:C,isActive:N,children:R,title:L})=>h.jsx(Me,{type:"button",variant:"ghost",size:"sm",onClick:C,className:`p-2 h-8 w-8 ${N?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,title:L,children:R});return h.jsxs("div",{className:"border border-border/50 rounded-lg overflow-hidden bg-[#161b22]",children:[h.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-1 p-2 border-b border-border/50 bg-[#0d1117]",children:[h.jsxs("div",{className:"flex flex-wrap gap-1",children:[h.jsx(E,{onClick:()=>v.chain().focus().undo().run(),title:"Undo",children:h.jsx(uL,{className:"h-4 w-4"})}),h.jsx(E,{onClick:()=>v.chain().focus().redo().run(),title:"Redo",children:h.jsx(oL,{className:"h-4 w-4"})}),h.jsx("div",{className:"w-px h-6 bg-border/50 mx-1 self-center"}),h.jsx(E,{onClick:()=>v.chain().focus().toggleHeading({level:1}).run(),isActive:v.isActive("heading",{level:1}),title:"Heading 1",children:h.jsx(KD,{className:"h-4 w-4"})}),h.jsx(E,{onClick:()=>v.chain().focus().toggleHeading({level:2}).run(),isActive:v.isActive("heading",{level:2}),title:"Heading 2",children:h.jsx(GD,{className:"h-4 w-4"})}),h.jsx(E,{onClick:()=>v.chain().focus().toggleHeading({level:3}).run(),isActive:v.isActive("heading",{level:3}),title:"Heading 3",children:h.jsx(JD,{className:"h-4 w-4"})}),h.jsx("div",{className:"w-px h-6 bg-border/50 mx-1 self-center"}),h.jsx(E,{onClick:()=>v.chain().focus().toggleBold().run(),isActive:v.isActive("bold"),title:"Bold",children:h.jsx(BD,{className:"h-4 w-4"})}),h.jsx(E,{onClick:()=>v.chain().focus().toggleItalic().run(),isActive:v.isActive("italic"),title:"Italic",children:h.jsx(YD,{className:"h-4 w-4"})}),h.jsx(E,{onClick:()=>v.chain().focus().toggleUnderline().run(),isActive:v.isActive("underline"),title:"Underline",children:h.jsx(cL,{className:"h-4 w-4"})}),h.jsx("div",{className:"w-px h-6 bg-border/50 mx-1 self-center"}),h.jsx(E,{onClick:()=>v.chain().focus().toggleBulletList().run(),isActive:v.isActive("bulletList"),title:"Bullet List",children:h.jsx(XD,{className:"h-4 w-4"})}),h.jsx(E,{onClick:()=>v.chain().focus().toggleOrderedList().run(),isActive:v.isActive("orderedList"),title:"Numbered List",children:h.jsx(ZD,{className:"h-4 w-4"})}),h.jsx("div",{className:"w-px h-6 bg-border/50 mx-1 self-center"}),h.jsx(E,{onClick:()=>v.chain().focus().toggleCodeBlock().run(),isActive:v.isActive("codeBlock"),title:"Code Block",children:h.jsx(qD,{className:"h-4 w-4"})}),h.jsx(E,{onClick:()=>v.chain().focus().toggleBlockquote().run(),isActive:v.isActive("blockquote"),title:"Quote",children:h.jsx(iL,{className:"h-4 w-4"})}),h.jsx("div",{className:"w-px h-6 bg-border/50 mx-1 self-center"}),h.jsx(E,{onClick:()=>{v.isActive("link")?w():_()},isActive:v.isActive("link"),title:v.isActive("link")?"Remove Link":"Add Link",children:v.isActive("link")?h.jsx(Yu,{className:"h-4 w-4"}):h.jsx(y1,{className:"h-4 w-4"})}),h.jsx(E,{onClick:()=>f(!0),title:"Add Image",children:h.jsx(g1,{className:"h-4 w-4"})})]}),h.jsx("div",{className:"flex items-center gap-2",children:h.jsx(Me,{type:"button",variant:r?"default":"outline",size:"sm",onClick:()=>s(!r),className:`h-8 px-3 gap-1.5 text-xs font-medium ${r?"bg-primary text-primary-foreground":"border-border/50 text-muted-foreground hover:text-foreground"}`,children:r?h.jsxs(h.Fragment,{children:[h.jsx(sL,{className:"h-3.5 w-3.5"}),"Edit"]}):h.jsxs(h.Fragment,{children:[h.jsx(Sf,{className:"h-3.5 w-3.5"}),"Preview"]})})})]}),r?h.jsxs("div",{className:"min-h-[300px] p-6 bg-[#0d1117]",children:[h.jsx("div",{className:"blog-content prose prose-invert max-w-none",dangerouslySetInnerHTML:{__html:zb.sanitize(t,{ADD_ATTR:["target","rel"]})}}),!t&&h.jsx("p",{className:"text-muted-foreground italic",children:"Nothing to preview yet..."})]}):h.jsx(r7,{editor:v,className:"min-h-[300px]"}),h.jsx(ph,{open:i,onOpenChange:o,children:h.jsxs(ku,{className:"bg-[#161b22] border-border/50",children:[h.jsx(mh,{children:h.jsxs(gh,{className:"text-foreground flex items-center gap-2",children:[h.jsx(y1,{className:"h-5 w-5 text-primary"}),"Insert Link"]})}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"Link Text"}),h.jsx(Re,{value:c,onChange:C=>u(C.target.value),placeholder:"Enter display text (optional if text selected)",className:"bg-[#0d1117] border-border/50 text-foreground"}),h.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Leave empty if you've selected text in the editor"})]}),h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"URL"}),h.jsx(Re,{value:a,onChange:C=>l(C.target.value),placeholder:"https://example.com",className:"bg-[#0d1117] border-border/50 text-foreground"})]})]}),h.jsxs(uv,{children:[h.jsx(Me,{variant:"ghost",onClick:()=>o(!1),children:"Cancel"}),h.jsx(Me,{onClick:x,disabled:!a,className:"bg-primary hover:bg-primary/90",children:"Insert Link"})]})]})}),h.jsx(ph,{open:d,onOpenChange:f,children:h.jsxs(ku,{className:"bg-[#161b22] border-border/50",children:[h.jsx(mh,{children:h.jsxs(gh,{className:"text-foreground flex items-center gap-2",children:[h.jsx(g1,{className:"h-5 w-5 text-primary"}),"Insert Image"]})}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"Upload Image"}),h.jsx(Re,{type:"file",accept:"image/*",onChange:k,disabled:m,className:"bg-[#0d1117] border-border/50 text-foreground file:bg-primary file:text-primary-foreground file:border-0"}),m&&h.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Uploading..."})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"flex-1 h-px bg-border/50"}),h.jsx("span",{className:"text-muted-foreground text-sm",children:"OR"}),h.jsx("div",{className:"flex-1 h-px bg-border/50"})]}),h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"Image URL"}),h.jsx(Re,{value:p,onChange:C=>g(C.target.value),placeholder:"https://example.com/image.jpg",className:"bg-[#0d1117] border-border/50 text-foreground"})]})]}),h.jsxs(uv,{children:[h.jsx(Me,{variant:"ghost",onClick:()=>f(!1),children:"Cancel"}),h.jsx(Me,{onClick:S,disabled:!p,className:"bg-primary hover:bg-primary/90",children:"Insert Image"})]})]})})]})},kG=yO({title:xs().trim().min(1,"Title is required").max(200,"Title must be less than 200 characters"),slug:xs().trim().min(1,"Slug is required").max(100,"Slug must be less than 100 characters").regex(/^[a-z0-9-]+$/,"Slug must contain only lowercase letters, numbers, and hyphens"),excerpt:xs().trim().min(1,"Excerpt is required").max(500,"Excerpt must be less than 500 characters"),content:xs().min(1,"Content is required").max(1e5,"Content is too long"),image_url:xs().url().optional().or(r6("")),tags:xs().max(500,"Tags are too long"),published:n6()}),SG=({onSuccess:t})=>{const{toast:e}=Pr(),[n,r]=b.useState({title:"",excerpt:"",content:"",image_url:"",tags:"",slug:"",published:!1}),[s,i]=b.useState(!1),o=async l=>{var u;const c=(u=l.target.files)==null?void 0:u[0];if(c){i(!0);try{const d=c.name.split(".").pop(),f=`${Math.random()}.${d}`,{error:p}=await se.storage.from("blog-images").upload(f,c);if(p)throw p;const{data:g}=se.storage.from("blog-images").getPublicUrl(f);r(m=>({...m,image_url:g.publicUrl})),e({title:"Success",description:"Image uploaded"})}catch{e({title:"Error",description:"Failed to upload image",variant:"destructive"})}finally{i(!1)}}},a=async l=>{l.preventDefault();const c=kG.safeParse(n);if(!c.success){const f=c.error.errors[0];e({title:"Validation Error",description:f.message,variant:"destructive"});return}const u=zb.sanitize(n.content,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","hr","ul","ol","li","strong","b","em","i","u","s","strike","a","img","blockquote","pre","code","div","span"],ALLOWED_ATTR:["href","target","rel","src","alt","title","width","height","class"],ALLOW_DATA_ATTR:!1}),{error:d}=await se.from("blog_posts").insert({...n,content:u,tags:n.tags.split(",").map(f=>f.trim()).filter(f=>f)});if(d){e({title:"Error",description:d.message,variant:"destructive"});return}e({title:"Success",description:"Blog post added"}),r({title:"",excerpt:"",content:"",image_url:"",tags:"",slug:"",published:!1}),t()};return h.jsxs("form",{onSubmit:a,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"Title"}),h.jsx(Re,{value:n.title,onChange:l=>r({...n,title:l.target.value}),placeholder:"Blog post title",className:"bg-[#161b22] border-border/50 text-foreground placeholder:text-muted-foreground",required:!0})]}),h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"Slug"}),h.jsx(Re,{value:n.slug,onChange:l=>r({...n,slug:l.target.value}),placeholder:"my-blog-post",className:"bg-[#161b22] border-border/50 text-foreground placeholder:text-muted-foreground",required:!0})]}),h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"Excerpt"}),h.jsx(td,{value:n.excerpt,onChange:l=>r({...n,excerpt:l.target.value}),placeholder:"Brief summary",className:"bg-[#161b22] border-border/50 text-foreground placeholder:text-muted-foreground",required:!0})]}),h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"Content"}),h.jsx(wG,{content:n.content,onChange:l=>r({...n,content:l})})]}),h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"Featured Image"}),h.jsx(Re,{type:"file",accept:"image/*",onChange:o,disabled:s,className:"bg-[#161b22] border-border/50 text-foreground file:bg-primary file:text-primary-foreground file:border-0"}),n.image_url&&h.jsxs("div",{className:"mt-2",children:[h.jsx("img",{src:n.image_url,alt:"Preview",className:"w-32 h-20 object-cover rounded-lg border border-border/50"}),h.jsx("p",{className:"text-xs text-green-400 mt-1",children:" Image uploaded"})]})]}),h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"Tags (comma-separated)"}),h.jsx(Re,{value:n.tags,onChange:l=>r({...n,tags:l.target.value}),placeholder:"security, hacking, tools",className:"bg-[#161b22] border-border/50 text-foreground placeholder:text-muted-foreground"})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Qp,{checked:n.published,onCheckedChange:l=>r({...n,published:l})}),h.jsx(pe,{className:"text-foreground",children:"Published"})]}),h.jsxs(Me,{type:"submit",className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",children:[h.jsx(Ju,{className:"w-4 h-4 mr-2"}),"Add Blog Post"]})]})},EG=({onSuccess:t})=>{const{toast:e}=Pr(),[n,r]=b.useState({title:"",issuer:"",issue_date:"",credential_id:"",credential_url:"",image_url:"",display_order:0,certification_type:"professional"}),[s,i]=b.useState(!1),o=async l=>{var m;const c=(m=l.target.files)==null?void 0:m[0];if(!c)return;i(!0);const u=c.name.split(".").pop(),f=`certifications/${`${Date.now()}.${u}`}`,{error:p}=await se.storage.from("project-images").upload(f,c);if(p){e({title:"Error",description:p.message,variant:"destructive"}),i(!1);return}const{data:{publicUrl:g}}=se.storage.from("project-images").getPublicUrl(f);r({...n,image_url:g}),i(!1)},a=async l=>{l.preventDefault();const{error:c}=await se.from("certifications").insert(n);if(c){e({title:"Error",description:c.message,variant:"destructive"});return}e({title:"Success",description:"Certification added successfully"}),r({title:"",issuer:"",issue_date:"",credential_id:"",credential_url:"",image_url:"",display_order:0,certification_type:"professional"}),t()};return h.jsxs("form",{onSubmit:a,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"Title"}),h.jsx(Re,{value:n.title,onChange:l=>r({...n,title:l.target.value}),placeholder:"e.g., AWS Solutions Architect",className:"bg-[#161b22] border-border/50 text-foreground placeholder:text-muted-foreground",required:!0})]}),h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"Issuer"}),h.jsx(Re,{value:n.issuer,onChange:l=>r({...n,issuer:l.target.value}),placeholder:"e.g., Amazon Web Services",className:"bg-[#161b22] border-border/50 text-foreground placeholder:text-muted-foreground",required:!0})]}),h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"Issue Date"}),h.jsx(Re,{type:"date",value:n.issue_date,onChange:l=>r({...n,issue_date:l.target.value}),className:"bg-[#161b22] border-border/50 text-foreground",required:!0})]}),h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"Credential ID"}),h.jsx(Re,{value:n.credential_id,onChange:l=>r({...n,credential_id:l.target.value}),placeholder:"Optional",className:"bg-[#161b22] border-border/50 text-foreground placeholder:text-muted-foreground"})]}),h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"Credential URL"}),h.jsx(Re,{value:n.credential_url,onChange:l=>r({...n,credential_url:l.target.value}),placeholder:"Optional",className:"bg-[#161b22] border-border/50 text-foreground placeholder:text-muted-foreground"})]}),h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"Certificate Image"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Re,{type:"file",accept:"image/*",onChange:o,className:"bg-[#161b22] border-border/50 text-foreground",disabled:s}),s&&h.jsx("span",{className:"text-sm text-muted-foreground",children:"Uploading..."})]}),n.image_url&&h.jsx("img",{src:n.image_url,alt:"Preview",className:"mt-2 h-20 w-auto rounded"})]}),h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"Certification Type"}),h.jsxs("select",{value:n.certification_type,onChange:l=>r({...n,certification_type:l.target.value}),className:"w-full h-10 px-3 rounded-md bg-[#161b22] border border-border/50 text-foreground",children:[h.jsx("option",{value:"professional",children:"Professional"}),h.jsx("option",{value:"ctf",children:"CTF"})]})]}),h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"Display Order"}),h.jsx(Re,{type:"number",value:n.display_order,onChange:l=>r({...n,display_order:parseInt(l.target.value)}),className:"bg-[#161b22] border-border/50 text-foreground"})]}),h.jsxs(Me,{type:"submit",className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",disabled:s,children:[h.jsx(Ju,{className:"w-4 h-4 mr-2"}),"Add Certificate"]})]})};function RE(t,[e,n]){return Math.min(n,Math.max(e,t))}var _G=[" ","Enter","ArrowUp","ArrowDown"],CG=[" ","Enter"],Yo="Select",[mm,gm,TG]=fx(Yo),[Vl,TJ]=Ms(Yo,[TG,Bp]),ym=Bp(),[NG,Qi]=Vl(Yo),[AG,OG]=Vl(Yo),AP=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:f,required:p,form:g}=t,m=ym(e),[y,v]=b.useState(null),[x,w]=b.useState(null),[k,S]=b.useState(!1),_=Xx(c),[E,C]=Fo({prop:r,defaultProp:s??!1,onChange:i,caller:Yo}),[N,R]=Fo({prop:o,defaultProp:a,onChange:l,caller:Yo}),L=b.useRef(null),I=y?g||!!y.closest("form"):!0,[Z,M]=b.useState(new Set),J=Array.from(Z).map(W=>W.props.value).join(";");return h.jsx(Y4,{...m,children:h.jsxs(NG,{required:p,scope:e,trigger:y,onTriggerChange:v,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:k,onValueNodeHasChildrenChange:S,contentId:Ci(),value:N,onValueChange:R,open:E,onOpenChange:C,dir:_,triggerPointerDownPosRef:L,disabled:f,children:[h.jsx(mm.Provider,{scope:e,children:h.jsx(AG,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(W=>{M(X=>new Set(X).add(W))},[]),onNativeOptionRemove:b.useCallback(W=>{M(X=>{const O=new Set(X);return O.delete(W),O})},[]),children:n})}),I?h.jsxs(XP,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:d,value:N,onChange:W=>R(W.target.value),disabled:f,form:g,children:[N===void 0?h.jsx("option",{value:""}):null,Array.from(Z)]},J):null]})})};AP.displayName=Yo;var OP="SelectTrigger",RP=b.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=ym(n),o=Qi(OP,n),a=o.disabled||r,l=Ve(e,o.onTriggerChange),c=gm(n),u=b.useRef("touch"),[d,f,p]=tM(m=>{const y=c().filter(w=>!w.disabled),v=y.find(w=>w.value===o.value),x=nM(y,m,v);x!==void 0&&o.onValueChange(x.value)}),g=m=>{a||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return h.jsx(dN,{asChild:!0,...i,children:h.jsx(we.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":eM(o.value)?"":void 0,...s,ref:l,onClick:ue(s.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&g(m)}),onPointerDown:ue(s.onPointerDown,m=>{u.current=m.pointerType;const y=m.target;y.hasPointerCapture(m.pointerId)&&y.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:ue(s.onKeyDown,m=>{const y=d.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&f(m.key),!(y&&m.key===" ")&&_G.includes(m.key)&&(g(),m.preventDefault())})})})});RP.displayName=OP;var jP="SelectValue",PP=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Qi(jP,n),{onValueNodeHasChildrenChange:c}=l,u=i!==void 0,d=Ve(e,l.onValueNodeChange);return Ut(()=>{c(u)},[c,u]),h.jsx(we.span,{...a,ref:d,style:{pointerEvents:"none"},children:eM(l.value)?h.jsx(h.Fragment,{children:o}):i})});PP.displayName=jP;var RG="SelectIcon",MP=b.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return h.jsx(we.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});MP.displayName=RG;var jG="SelectPortal",IP=t=>h.jsx(jp,{asChild:!0,...t});IP.displayName=jG;var Qo="SelectContent",DP=b.forwardRef((t,e)=>{const n=Qi(Qo,t.__scopeSelect),[r,s]=b.useState();if(Ut(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?ea.createPortal(h.jsx(LP,{scope:t.__scopeSelect,children:h.jsx(mm.Slot,{scope:t.__scopeSelect,children:h.jsx("div",{children:t.children})})}),i):null}return h.jsx($P,{...t,ref:e})});DP.displayName=Qo;var yr=10,[LP,Zi]=Vl(Qo),PG="SelectContentImpl",MG=ml("SelectContent.RemoveScroll"),$P=b.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:y,...v}=t,x=Qi(Qo,n),[w,k]=b.useState(null),[S,_]=b.useState(null),E=Ve(e,q=>k(q)),[C,N]=b.useState(null),[R,L]=b.useState(null),I=gm(n),[Z,M]=b.useState(!1),J=b.useRef(!1);b.useEffect(()=>{if(w)return vA(w)},[w]),BN();const W=b.useCallback(q=>{const[Oe,...Ke]=I().map(Pe=>Pe.ref.current),[je]=Ke.slice(-1),Ne=document.activeElement;for(const Pe of q)if(Pe===Ne||(Pe==null||Pe.scrollIntoView({block:"nearest"}),Pe===Oe&&S&&(S.scrollTop=0),Pe===je&&S&&(S.scrollTop=S.scrollHeight),Pe==null||Pe.focus(),document.activeElement!==Ne))return},[I,S]),X=b.useCallback(()=>W([C,w]),[W,C,w]);b.useEffect(()=>{Z&&X()},[Z,X]);const{onOpenChange:O,triggerPointerDownPosRef:j}=x;b.useEffect(()=>{if(w){let q={x:0,y:0};const Oe=je=>{var Ne,Pe;q={x:Math.abs(Math.round(je.pageX)-(((Ne=j.current)==null?void 0:Ne.x)??0)),y:Math.abs(Math.round(je.pageY)-(((Pe=j.current)==null?void 0:Pe.y)??0))}},Ke=je=>{q.x<=10&&q.y<=10?je.preventDefault():w.contains(je.target)||O(!1),document.removeEventListener("pointermove",Oe),j.current=null};return j.current!==null&&(document.addEventListener("pointermove",Oe),document.addEventListener("pointerup",Ke,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Oe),document.removeEventListener("pointerup",Ke,{capture:!0})}}},[w,O,j]),b.useEffect(()=>{const q=()=>O(!1);return window.addEventListener("blur",q),window.addEventListener("resize",q),()=>{window.removeEventListener("blur",q),window.removeEventListener("resize",q)}},[O]);const[H,A]=tM(q=>{const Oe=I().filter(Ne=>!Ne.disabled),Ke=Oe.find(Ne=>Ne.ref.current===document.activeElement),je=nM(Oe,q,Ke);je&&setTimeout(()=>je.ref.current.focus())}),F=b.useCallback((q,Oe,Ke)=>{const je=!J.current&&!Ke;(x.value!==void 0&&x.value===Oe||je)&&(N(q),je&&(J.current=!0))},[x.value]),Y=b.useCallback(()=>w==null?void 0:w.focus(),[w]),de=b.useCallback((q,Oe,Ke)=>{const je=!J.current&&!Ke;(x.value!==void 0&&x.value===Oe||je)&&L(q)},[x.value]),ce=r==="popper"?d0:zP,Le=ce===d0?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:y}:{};return h.jsx(LP,{scope:n,content:w,viewport:S,onViewportChange:_,itemRefCallback:F,selectedItem:C,onItemLeave:Y,itemTextRefCallback:de,focusSelectedItem:X,selectedItemText:R,position:r,isPositioned:Z,searchRef:H,children:h.jsx(zx,{as:MG,allowPinchZoom:!0,children:h.jsx(Dx,{asChild:!0,trapped:x.open,onMountAutoFocus:q=>{q.preventDefault()},onUnmountAutoFocus:ue(s,q=>{var Oe;(Oe=x.trigger)==null||Oe.focus({preventScroll:!0}),q.preventDefault()}),children:h.jsx(Ku,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:q=>q.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:h.jsx(ce,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:q=>q.preventDefault(),...v,...Le,onPlaced:()=>M(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:ue(v.onKeyDown,q=>{const Oe=q.ctrlKey||q.altKey||q.metaKey;if(q.key==="Tab"&&q.preventDefault(),!Oe&&q.key.length===1&&A(q.key),["ArrowUp","ArrowDown","Home","End"].includes(q.key)){let je=I().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);if(["ArrowUp","End"].includes(q.key)&&(je=je.slice().reverse()),["ArrowUp","ArrowDown"].includes(q.key)){const Ne=q.target,Pe=je.indexOf(Ne);je=je.slice(Pe+1)}setTimeout(()=>W(je)),q.preventDefault()}})})})})})})});$P.displayName=PG;var IG="SelectItemAlignedPosition",zP=b.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Qi(Qo,n),o=Zi(Qo,n),[a,l]=b.useState(null),[c,u]=b.useState(null),d=Ve(e,E=>u(E)),f=gm(n),p=b.useRef(!1),g=b.useRef(!0),{viewport:m,selectedItem:y,selectedItemText:v,focusSelectedItem:x}=o,w=b.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&m&&y&&v){const E=i.trigger.getBoundingClientRect(),C=c.getBoundingClientRect(),N=i.valueNode.getBoundingClientRect(),R=v.getBoundingClientRect();if(i.dir!=="rtl"){const Ne=R.left-C.left,Pe=N.left-Ne,et=E.left-Pe,jt=E.width+et,Xt=Math.max(jt,C.width),Un=window.innerWidth-yr,ur=RE(Pe,[yr,Math.max(yr,Un-Xt)]);a.style.minWidth=jt+"px",a.style.left=ur+"px"}else{const Ne=C.right-R.right,Pe=window.innerWidth-N.right-Ne,et=window.innerWidth-E.right-Pe,jt=E.width+et,Xt=Math.max(jt,C.width),Un=window.innerWidth-yr,ur=RE(Pe,[yr,Math.max(yr,Un-Xt)]);a.style.minWidth=jt+"px",a.style.right=ur+"px"}const L=f(),I=window.innerHeight-yr*2,Z=m.scrollHeight,M=window.getComputedStyle(c),J=parseInt(M.borderTopWidth,10),W=parseInt(M.paddingTop,10),X=parseInt(M.borderBottomWidth,10),O=parseInt(M.paddingBottom,10),j=J+W+Z+O+X,H=Math.min(y.offsetHeight*5,j),A=window.getComputedStyle(m),F=parseInt(A.paddingTop,10),Y=parseInt(A.paddingBottom,10),de=E.top+E.height/2-yr,ce=I-de,Le=y.offsetHeight/2,q=y.offsetTop+Le,Oe=J+W+q,Ke=j-Oe;if(Oe<=de){const Ne=L.length>0&&y===L[L.length-1].ref.current;a.style.bottom="0px";const Pe=c.clientHeight-m.offsetTop-m.offsetHeight,et=Math.max(ce,Le+(Ne?Y:0)+Pe+X),jt=Oe+et;a.style.height=jt+"px"}else{const Ne=L.length>0&&y===L[0].ref.current;a.style.top="0px";const et=Math.max(de,J+m.offsetTop+(Ne?F:0)+Le)+Ke;a.style.height=et+"px",m.scrollTop=Oe-de+m.offsetTop}a.style.margin=`${yr}px 0`,a.style.minHeight=H+"px",a.style.maxHeight=I+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[f,i.trigger,i.valueNode,a,c,m,y,v,i.dir,r]);Ut(()=>w(),[w]);const[k,S]=b.useState();Ut(()=>{c&&S(window.getComputedStyle(c).zIndex)},[c]);const _=b.useCallback(E=>{E&&g.current===!0&&(w(),x==null||x(),g.current=!1)},[w,x]);return h.jsx(LG,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:_,children:h.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:h.jsx(we.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});zP.displayName=IG;var DG="SelectPopperPosition",d0=b.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=yr,...i}=t,o=ym(n);return h.jsx(fN,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});d0.displayName=DG;var[LG,Bb]=Vl(Qo,{}),f0="SelectViewport",BP=b.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Zi(f0,n),o=Bb(f0,n),a=Ve(e,i.onViewportChange),l=b.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),h.jsx(mm.Slot,{scope:n,children:h.jsx(we.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ue(s.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&d){const p=Math.abs(l.current-u.scrollTop);if(p>0){const g=window.innerHeight-yr*2,m=parseFloat(d.style.minHeight),y=parseFloat(d.style.height),v=Math.max(m,y);if(v<g){const x=v+p,w=Math.min(g,x),k=x-w;d.style.height=w+"px",d.style.bottom==="0px"&&(u.scrollTop=k>0?k:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});BP.displayName=f0;var FP="SelectGroup",[$G,zG]=Vl(FP),BG=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ci();return h.jsx($G,{scope:n,id:s,children:h.jsx(we.div,{role:"group","aria-labelledby":s,...r,ref:e})})});BG.displayName=FP;var UP="SelectLabel",VP=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=zG(UP,n);return h.jsx(we.div,{id:s.id,...r,ref:e})});VP.displayName=UP;var mp="SelectItem",[FG,HP]=Vl(mp),WP=b.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Qi(mp,n),l=Zi(mp,n),c=a.value===r,[u,d]=b.useState(i??""),[f,p]=b.useState(!1),g=Ve(e,x=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,x,r,s)}),m=Ci(),y=b.useRef("touch"),v=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(FG,{scope:n,value:r,disabled:s,textId:m,isSelected:c,onItemTextChange:b.useCallback(x=>{d(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:h.jsx(mm.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:h.jsx(we.div,{role:"option","aria-labelledby":m,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:g,onFocus:ue(o.onFocus,()=>p(!0)),onBlur:ue(o.onBlur,()=>p(!1)),onClick:ue(o.onClick,()=>{y.current!=="mouse"&&v()}),onPointerUp:ue(o.onPointerUp,()=>{y.current==="mouse"&&v()}),onPointerDown:ue(o.onPointerDown,x=>{y.current=x.pointerType}),onPointerMove:ue(o.onPointerMove,x=>{var w;y.current=x.pointerType,s?(w=l.onItemLeave)==null||w.call(l):y.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ue(o.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:ue(o.onKeyDown,x=>{var k;((k=l.searchRef)==null?void 0:k.current)!==""&&x.key===" "||(CG.includes(x.key)&&v(),x.key===" "&&x.preventDefault())})})})})});WP.displayName=mp;var Tc="SelectItemText",qP=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Qi(Tc,n),a=Zi(Tc,n),l=HP(Tc,n),c=OG(Tc,n),[u,d]=b.useState(null),f=Ve(e,v=>d(v),l.onItemTextChange,v=>{var x;return(x=a.itemTextRefCallback)==null?void 0:x.call(a,v,l.value,l.disabled)}),p=u==null?void 0:u.textContent,g=b.useMemo(()=>h.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:y}=c;return Ut(()=>(m(g),()=>y(g)),[m,y,g]),h.jsxs(h.Fragment,{children:[h.jsx(we.span,{id:l.textId,...i,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ea.createPortal(i.children,o.valueNode):null]})});qP.displayName=Tc;var KP="SelectItemIndicator",GP=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return HP(KP,n).isSelected?h.jsx(we.span,{"aria-hidden":!0,...r,ref:e}):null});GP.displayName=KP;var h0="SelectScrollUpButton",JP=b.forwardRef((t,e)=>{const n=Zi(h0,t.__scopeSelect),r=Bb(h0,t.__scopeSelect),[s,i]=b.useState(!1),o=Ve(e,r.onScrollButtonChange);return Ut(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?h.jsx(QP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});JP.displayName=h0;var p0="SelectScrollDownButton",YP=b.forwardRef((t,e)=>{const n=Zi(p0,t.__scopeSelect),r=Bb(p0,t.__scopeSelect),[s,i]=b.useState(!1),o=Ve(e,r.onScrollButtonChange);return Ut(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?h.jsx(QP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});YP.displayName=p0;var QP=b.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Zi("SelectScrollButton",n),o=b.useRef(null),a=gm(n),l=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>l(),[l]),Ut(()=>{var u;const c=a().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),h.jsx(we.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ue(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ue(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ue(s.onPointerLeave,()=>{l()})})}),UG="SelectSeparator",ZP=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return h.jsx(we.div,{"aria-hidden":!0,...r,ref:e})});ZP.displayName=UG;var m0="SelectArrow",VG=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ym(n),i=Qi(m0,n),o=Zi(m0,n);return i.open&&o.position==="popper"?h.jsx(hN,{...s,...r,ref:e}):null});VG.displayName=m0;var HG="SelectBubbleInput",XP=b.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=b.useRef(null),i=Ve(r,s),o=vO(e);return b.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&u){const d=new Event("change",{bubbles:!0});u.call(a,e),a.dispatchEvent(d)}},[o,e]),h.jsx(we.select,{...n,style:{...aT,...n.style},ref:i,defaultValue:e})});XP.displayName=HG;function eM(t){return t===""||t===void 0}function tM(t){const e=ar(t),n=b.useRef(""),r=b.useRef(0),s=b.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function nM(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=WG(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function WG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var qG=AP,rM=RP,KG=PP,GG=MP,JG=IP,sM=DP,YG=BP,iM=VP,oM=WP,QG=qP,ZG=GP,aM=JP,lM=YP,cM=ZP;const XG=qG,eJ=KG,uM=b.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(rM,{ref:r,className:Te("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,h.jsx(GG,{asChild:!0,children:h.jsx(RT,{className:"h-4 w-4 opacity-50"})})]}));uM.displayName=rM.displayName;const dM=b.forwardRef(({className:t,...e},n)=>h.jsx(aM,{ref:n,className:Te("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(WD,{className:"h-4 w-4"})}));dM.displayName=aM.displayName;const fM=b.forwardRef(({className:t,...e},n)=>h.jsx(lM,{ref:n,className:Te("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(RT,{className:"h-4 w-4"})}));fM.displayName=lM.displayName;const hM=b.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>h.jsx(JG,{children:h.jsxs(sM,{ref:s,className:Te("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[h.jsx(dM,{}),h.jsx(YG,{className:Te("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),h.jsx(fM,{})]})}));hM.displayName=sM.displayName;const tJ=b.forwardRef(({className:t,...e},n)=>h.jsx(iM,{ref:n,className:Te("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));tJ.displayName=iM.displayName;const Nc=b.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(oM,{ref:r,className:Te("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(ZG,{children:h.jsx(UD,{className:"h-4 w-4"})})}),h.jsx(QG,{children:e})]}));Nc.displayName=oM.displayName;const nJ=b.forwardRef(({className:t,...e},n)=>h.jsx(cM,{ref:n,className:Te("-mx-1 my-1 h-px bg-muted",t),...e}));nJ.displayName=cM.displayName;const rJ=({onSuccess:t})=>{const{toast:e}=Pr(),[n,r]=b.useState({name:"",category:"",proficiency:"intermediate",icon_name:"",display_order:0}),[s,i]=b.useState(null),[o,a]=b.useState(null),l=u=>{var f;const d=(f=u.target.files)==null?void 0:f[0];if(d){i(d);const p=new FileReader;p.onloadend=()=>{a(p.result)},p.readAsDataURL(d)}},c=async u=>{u.preventDefault();let d=n.icon_name;if(s){const p=s.name.split(".").pop(),g=`${Date.now()}.${p}`,{data:m,error:y}=await se.storage.from("skill-logos").upload(g,s);if(y){e({title:"Error uploading logo",description:y.message,variant:"destructive"});return}const{data:{publicUrl:v}}=se.storage.from("skill-logos").getPublicUrl(g);d=v}const{error:f}=await se.from("skills").insert({...n,icon_name:d});if(f){e({title:"Error",description:f.message,variant:"destructive"});return}e({title:"Success",description:"Skill added successfully"}),r({name:"",category:"",proficiency:"intermediate",icon_name:"",display_order:0}),i(null),a(null),t()};return h.jsxs("form",{onSubmit:c,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"Skill Name"}),h.jsx(Re,{value:n.name,onChange:u=>r({...n,name:u.target.value}),placeholder:"e.g., Python",className:"bg-[#161b22] border-border/50 text-foreground placeholder:text-muted-foreground",required:!0})]}),h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"Category"}),h.jsx(Re,{value:n.category,onChange:u=>r({...n,category:u.target.value}),placeholder:"e.g., Programming",className:"bg-[#161b22] border-border/50 text-foreground placeholder:text-muted-foreground",required:!0})]}),h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"Proficiency"}),h.jsxs(XG,{value:n.proficiency,onValueChange:u=>r({...n,proficiency:u}),children:[h.jsx(uM,{className:"bg-[#161b22] border-border/50 text-foreground",children:h.jsx(eJ,{})}),h.jsxs(hM,{className:"bg-[#161b22] border-border/50",children:[h.jsx(Nc,{value:"beginner",children:"Beginner"}),h.jsx(Nc,{value:"intermediate",children:"Intermediate"}),h.jsx(Nc,{value:"advanced",children:"Advanced"}),h.jsx(Nc,{value:"expert",children:"Expert"})]})]})]}),h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"Skill Logo (Image)"}),h.jsx(Re,{type:"file",accept:"image/*",onChange:l,className:"bg-[#161b22] border-border/50 text-foreground file:bg-primary file:text-primary-foreground file:border-0"}),o&&h.jsx("div",{className:"mt-2",children:h.jsx("img",{src:o,alt:"Logo preview",className:"w-16 h-16 object-contain border border-border/50 rounded bg-[#161b22]"})})]}),h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"Display Order"}),h.jsx(Re,{type:"number",value:n.display_order,onChange:u=>r({...n,display_order:parseInt(u.target.value)}),className:"bg-[#161b22] border-border/50 text-foreground"})]}),h.jsxs(Me,{type:"submit",className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",children:[h.jsx(Ju,{className:"w-4 h-4 mr-2"}),"Add Skill"]})]})},sJ=({onSuccess:t})=>{const{toast:e}=Pr(),[n,r]=b.useState({title:"",description:"",date:"",icon_name:"",image_url:"",display_order:0}),[s,i]=b.useState(!1),o=async l=>{var m;const c=(m=l.target.files)==null?void 0:m[0];if(!c)return;i(!0);const u=c.name.split(".").pop(),f=`achievements/${`${Date.now()}.${u}`}`,{error:p}=await se.storage.from("project-images").upload(f,c);if(p){e({title:"Error",description:p.message,variant:"destructive"}),i(!1);return}const{data:{publicUrl:g}}=se.storage.from("project-images").getPublicUrl(f);r({...n,image_url:g}),i(!1)},a=async l=>{l.preventDefault();const{error:c}=await se.from("achievements").insert(n);if(c){e({title:"Error",description:c.message,variant:"destructive"});return}e({title:"Success",description:"Achievement added successfully"}),r({title:"",description:"",date:"",icon_name:"",image_url:"",display_order:0}),t()};return h.jsxs("form",{onSubmit:a,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"Title"}),h.jsx(Re,{value:n.title,onChange:l=>r({...n,title:l.target.value}),placeholder:"e.g., First Place in CTF",className:"bg-[#161b22] border-border/50 text-foreground placeholder:text-muted-foreground",required:!0})]}),h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"Description"}),h.jsx(td,{value:n.description,onChange:l=>r({...n,description:l.target.value}),placeholder:"Brief description of the achievement",className:"bg-[#161b22] border-border/50 text-foreground placeholder:text-muted-foreground",required:!0})]}),h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"Date"}),h.jsx(Re,{type:"date",value:n.date,onChange:l=>r({...n,date:l.target.value}),className:"bg-[#161b22] border-border/50 text-foreground",required:!0})]}),h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"Icon Name (lucide-react)"}),h.jsx(Re,{value:n.icon_name,onChange:l=>r({...n,icon_name:l.target.value}),placeholder:"Trophy, Award, etc.",className:"bg-[#161b22] border-border/50 text-foreground placeholder:text-muted-foreground"})]}),h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"Achievement Image"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Re,{type:"file",accept:"image/*",onChange:o,className:"bg-[#161b22] border-border/50 text-foreground",disabled:s}),s&&h.jsx("span",{className:"text-sm text-muted-foreground",children:"Uploading..."})]}),n.image_url&&h.jsx("img",{src:n.image_url,alt:"Preview",className:"mt-2 h-20 w-auto rounded"})]}),h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"Display Order"}),h.jsx(Re,{type:"number",value:n.display_order,onChange:l=>r({...n,display_order:parseInt(l.target.value)}),className:"bg-[#161b22] border-border/50 text-foreground"})]}),h.jsxs(Me,{type:"submit",className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",disabled:s,children:[h.jsx(Ju,{className:"w-4 h-4 mr-2"}),"Add Achievement"]})]})},iJ=({onSuccess:t})=>{const{toast:e}=Pr(),[n,r]=b.useState(!1),[s,i]=b.useState(""),[o,a]=b.useState(""),l=async u=>{var f;const d=(f=u.target.files)==null?void 0:f[0];if(d){if(d.type!=="application/pdf"){e({title:"Error",description:"Only PDF files are allowed",variant:"destructive"});return}r(!0);try{const g=`${Date.now()}_${d.name}`,{error:m}=await se.storage.from("resumes").upload(g,d);if(m)throw m;const{data:y}=se.storage.from("resumes").getPublicUrl(g);i(y.publicUrl),a(d.name),e({title:"Success",description:"Resume uploaded successfully"})}catch{e({title:"Error",description:"Failed to upload resume",variant:"destructive"})}finally{r(!1)}}},c=async u=>{if(u.preventDefault(),!s){e({title:"Error",description:"Please upload a resume file",variant:"destructive"});return}const{error:d}=await se.from("resume").upsert({file_url:s,file_name:o,file_size:0});if(d){e({title:"Error",description:d.message,variant:"destructive"});return}e({title:"Success",description:"Resume updated successfully"}),i(""),a(""),t()};return h.jsxs("form",{onSubmit:c,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(pe,{className:"text-foreground",children:"Resume PDF"}),h.jsx(Re,{type:"file",accept:".pdf",onChange:l,disabled:n,className:"bg-[#161b22] border-border/50 text-foreground file:bg-primary file:text-primary-foreground file:border-0"}),s&&h.jsxs("div",{className:"mt-3 p-4 bg-[#161b22] border border-border/50 rounded-lg",children:[h.jsxs("p",{className:"text-sm text-green-400 flex items-center gap-2",children:[h.jsx(gx,{className:"w-4 h-4"}),o]}),h.jsx("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline mt-1 inline-block",children:"Preview "})]})]}),h.jsxs(Me,{type:"submit",disabled:n||!s,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",children:[h.jsx(dL,{className:"w-4 h-4 mr-2"}),n?"Uploading...":"Update Resume"]})]})},oJ=()=>{const t=Ix(),{toast:e}=Pr(),[n,r]=b.useState([]),[s,i]=b.useState([]),[o,a]=b.useState([]),[l,c]=b.useState([]),[u,d]=b.useState([]),[f,p]=b.useState([]),[g,m]=b.useState(!0),[y,v]=b.useState(!1),[x,w]=b.useState(!1),[k,S]=b.useState("admin"),[_,E]=b.useState("messages"),[C,N]=b.useState("skills"),[R,L]=b.useState(null);b.useEffect(()=>{const{data:{subscription:A}}=se.auth.onAuthStateChange((F,Y)=>{Y?v(!0):(v(!1),t("/admin/login")),w(!0)});return se.auth.getSession().then(({data:{session:F}})=>{F?v(!0):t("/admin/login"),w(!0)}),()=>A.unsubscribe()},[t]),b.useEffect(()=>{y&&I()},[y]);const I=async()=>{try{const[A,F,Y,de,ce,Le]=await Promise.all([se.from("contact_messages").select("*").order("created_at",{ascending:!1}),se.from("projects").select("*").order("display_order"),se.from("blog_posts").select("*").order("created_at",{ascending:!1}),se.from("certifications").select("*").order("display_order"),se.from("skills").select("*").order("display_order"),se.from("achievements").select("*").order("display_order")]);if(A.error)throw A.error;if(F.error)throw F.error;if(Y.error)throw Y.error;if(de.error)throw de.error;if(ce.error)throw ce.error;if(Le.error)throw Le.error;r(A.data||[]),i(F.data||[]),a(Y.data||[]),c(de.data||[]),d(ce.data||[]),p(Le.data||[])}catch(A){console.error("Error fetching data:",A),e({title:"Error",description:"Failed to load admin data",variant:"destructive"})}finally{m(!1)}},Z=async()=>{await se.auth.signOut(),t("/admin/login")},M=A=>new Date(A).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),J=async A=>{if(!confirm("Are you sure you want to delete this project?"))return;const{error:F}=await se.from("projects").delete().eq("id",A);F?e({title:"Error",description:F.message,variant:"destructive"}):(e({title:"Success",description:"Project deleted successfully"}),I())},W=async A=>{if(!confirm("Are you sure you want to delete this blog post?"))return;const{error:F}=await se.from("blog_posts").delete().eq("id",A);F?e({title:"Error",description:F.message,variant:"destructive"}):(e({title:"Success",description:"Blog post deleted successfully"}),I())},X=async A=>{if(!confirm("Are you sure you want to delete this certification?"))return;const{error:F}=await se.from("certifications").delete().eq("id",A);F?e({title:"Error",description:F.message,variant:"destructive"}):(e({title:"Success",description:"Certification deleted successfully"}),I())},O=async A=>{if(!confirm("Are you sure you want to delete this skill?"))return;const{error:F}=await se.from("skills").delete().eq("id",A);F?e({title:"Error",description:F.message,variant:"destructive"}):(e({title:"Success",description:"Skill deleted successfully"}),I())},j=async A=>{if(!confirm("Are you sure you want to delete this achievement?"))return;const{error:F}=await se.from("achievements").delete().eq("id",A);F?e({title:"Error",description:F.message,variant:"destructive"}):(e({title:"Success",description:"Achievement deleted successfully"}),I())},H=n.reduce((A,F)=>(A.find(Y=>Y.email===F.email)||A.push({name:F.name,email:F.email}),A),[]);return!x||!y?h.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx(mu,{className:"w-12 h-12 text-primary mx-auto mb-4 animate-pulse"}),h.jsx("p",{className:"text-muted-foreground",children:"Verifying authentication..."})]})}):h.jsxs("div",{className:"min-h-screen bg-black text-foreground",children:[h.jsx("nav",{className:"border-b border-border/50 bg-[#0d1117]",children:h.jsx("div",{className:"container mx-auto px-6 py-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(mu,{className:"w-8 h-8 text-primary"}),h.jsx("span",{className:"text-xl font-bold text-foreground",children:k==="admin"?"Admin Panel":"Content Manager"})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs(Me,{onClick:()=>S(k==="admin"?"content":"admin"),className:"gap-2 bg-primary hover:bg-primary/90 text-primary-foreground",children:[h.jsx(QD,{className:"w-4 h-4"}),k==="admin"?"Content Manager":"Admin Panel"]}),h.jsxs(Me,{variant:"ghost",onClick:Z,className:"gap-2 text-muted-foreground hover:text-foreground",children:[h.jsx(tL,{className:"w-4 h-4"}),"Back"]})]})]})})}),h.jsx("div",{className:"container mx-auto px-6 py-8 max-w-7xl",children:k==="admin"?h.jsxs(Jk,{value:_,onValueChange:E,className:"w-full",children:[h.jsxs(Ov,{className:"bg-transparent border-b border-border/50 rounded-none w-auto h-auto p-0 mb-8",children:[h.jsxs(fs,{value:"messages",className:"gap-2 px-4 py-3 rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:text-primary data-[state=active]:bg-transparent bg-transparent text-muted-foreground",children:[h.jsx(rh,{className:"w-4 h-4"}),"Messages (",n.length,")"]}),h.jsxs(fs,{value:"contacts",className:"gap-2 px-4 py-3 rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:text-primary data-[state=active]:bg-transparent bg-transparent text-muted-foreground",children:[h.jsx(fL,{className:"w-4 h-4"}),"Contacts (",H.length,")"]})]}),h.jsx(hs,{value:"messages",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"lg:col-span-1",children:[h.jsxs("h3",{className:"text-primary font-bold text-lg mb-4",children:["Inbox (",n.length,")"]}),h.jsx("div",{className:"space-y-3",children:n.length===0?h.jsx("div",{className:"bg-[#161b22] border border-border/30 rounded-lg p-6 text-center text-muted-foreground",children:"No messages yet"}):n.map(A=>h.jsxs("div",{onClick:()=>L(A),className:`bg-[#161b22] border rounded-lg p-4 cursor-pointer transition-all hover:border-primary/50 ${(R==null?void 0:R.id)===A.id?"border-primary":"border-border/30"}`,children:[h.jsx("p",{className:"font-semibold text-foreground",children:A.name}),h.jsx("p",{className:"text-sm text-muted-foreground truncate",children:A.email}),h.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:M(A.created_at)})]},A.id))})]}),h.jsx("div",{className:"lg:col-span-2",children:h.jsx("div",{className:"bg-[#161b22] border border-border/30 rounded-lg p-8 min-h-[400px] flex items-center justify-center",children:R?h.jsxs("div",{className:"w-full",children:[h.jsxs("div",{className:"flex items-start justify-between mb-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-bold text-foreground",children:R.name}),h.jsx("a",{href:`mailto:${R.email}`,className:"text-primary hover:underline",children:R.email})]}),h.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[h.jsx(Dp,{className:"w-4 h-4"}),M(R.created_at)]})]}),h.jsx("div",{className:"bg-[#0d1117] rounded-lg p-6 border border-border/30",children:h.jsx("p",{className:"text-foreground/90 whitespace-pre-wrap",children:R.message})}),h.jsx(Me,{className:"mt-4 bg-primary hover:bg-primary/90",onClick:()=>window.location.href=`mailto:${R.email}`,children:"Reply via Email"})]}):h.jsxs("div",{className:"text-center",children:[h.jsx(rh,{className:"w-16 h-16 text-muted-foreground/30 mx-auto mb-4"}),h.jsx("p",{className:"text-muted-foreground",children:"Select a message to view details"})]})})})]})}),h.jsx(hs,{value:"contacts",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsx("div",{className:"lg:col-span-1",children:h.jsxs("div",{className:"border border-primary/50 rounded-lg p-6",children:[h.jsx("h3",{className:"text-primary font-bold text-lg mb-4",children:"Contact List"}),H.length===0?h.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No contacts yet"}):h.jsx("div",{className:"space-y-3",children:H.map((A,F)=>h.jsxs("div",{className:"bg-[#161b22] border border-border/30 rounded-lg p-4",children:[h.jsx("p",{className:"font-semibold text-foreground",children:A.name}),h.jsx("a",{href:`mailto:${A.email}`,className:"text-sm text-primary hover:underline",children:A.email})]},F))})]})}),h.jsxs("div",{className:"lg:col-span-2",children:[h.jsx("h3",{className:"font-bold text-lg mb-4 text-foreground",children:"Quick Stats"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"bg-[#161b22] border border-border/30 rounded-lg p-6",children:[h.jsx("p",{className:"text-muted-foreground text-sm",children:"Total Messages"}),h.jsx("p",{className:"text-3xl font-bold text-primary",children:n.length})]}),h.jsxs("div",{className:"bg-[#161b22] border border-border/30 rounded-lg p-6",children:[h.jsx("p",{className:"text-muted-foreground text-sm",children:"Unique Contacts"}),h.jsx("p",{className:"text-3xl font-bold text-green-500",children:H.length})]}),h.jsxs("div",{className:"bg-[#161b22] border border-border/30 rounded-lg p-6",children:[h.jsx("p",{className:"text-muted-foreground text-sm",children:"Latest Message"}),h.jsx("p",{className:"text-lg font-semibold text-foreground",children:n.length>0?M(n[0].created_at):"N/A"})]})]})]})]})})]}):h.jsxs(Jk,{value:C,onValueChange:N,className:"w-full",children:[h.jsxs(Ov,{className:"bg-transparent border-b border-border/50 rounded-none w-auto h-auto p-0 mb-8",children:[h.jsx(fs,{value:"skills",className:"px-4 py-3 rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:text-primary data-[state=active]:bg-transparent bg-transparent text-muted-foreground",children:"Skills"}),h.jsx(fs,{value:"certs",className:"px-4 py-3 rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:text-primary data-[state=active]:bg-transparent bg-transparent text-muted-foreground",children:"Certificates"}),h.jsx(fs,{value:"achievements",className:"px-4 py-3 rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:text-primary data-[state=active]:bg-transparent bg-transparent text-muted-foreground",children:"Achievements"}),h.jsx(fs,{value:"blogs",className:"px-4 py-3 rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:text-primary data-[state=active]:bg-transparent bg-transparent text-muted-foreground",children:"Blogs"}),h.jsx(fs,{value:"projects",className:"px-4 py-3 rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:text-primary data-[state=active]:bg-transparent bg-transparent text-muted-foreground",children:"Projects"}),h.jsx(fs,{value:"resume",className:"px-4 py-3 rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:text-primary data-[state=active]:bg-transparent bg-transparent text-muted-foreground",children:"Resume"})]}),h.jsx(hs,{value:"skills",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"border border-primary/50 rounded-lg p-6 bg-[#0d1117]",children:[h.jsx("h3",{className:"text-primary font-bold text-lg mb-4",children:"Add New Skill"}),h.jsx(rJ,{onSuccess:I})]}),h.jsxs("div",{className:"border border-border/30 rounded-lg p-6 bg-[#161b22]",children:[h.jsxs("h3",{className:"font-bold text-lg mb-4 text-foreground",children:["Skills List (",u.length,")"]}),u.length===0?h.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No skills added yet"}):h.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:u.map(A=>h.jsxs("div",{className:"bg-[#0d1117] border border-border/30 rounded-lg p-4 flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-foreground",children:A.name}),h.jsxs("p",{className:"text-sm text-muted-foreground",children:[A.category,"  ",A.proficiency]})]}),h.jsx(Me,{variant:"ghost",size:"icon",onClick:()=>O(A.id),className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:h.jsx(oc,{className:"w-4 h-4"})})]},A.id))})]})]})}),h.jsx(hs,{value:"certs",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"border border-primary/50 rounded-lg p-6 bg-[#0d1117]",children:[h.jsx("h3",{className:"text-primary font-bold text-lg mb-4",children:"Add New Certificate"}),h.jsx(EG,{onSuccess:I})]}),h.jsxs("div",{className:"border border-border/30 rounded-lg p-6 bg-[#161b22]",children:[h.jsxs("h3",{className:"font-bold text-lg mb-4 text-foreground",children:["Certificates List (",l.length,")"]}),l.length===0?h.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No certificates added yet"}):h.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:l.map(A=>h.jsxs("div",{className:"bg-[#0d1117] border border-border/30 rounded-lg p-4 flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[A.image_url&&h.jsx("img",{src:A.image_url,alt:`${A.title} certificate`,className:"h-12 w-12 rounded-md object-cover border border-border/30",loading:"lazy"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-foreground",children:A.title}),h.jsxs("p",{className:"text-sm text-muted-foreground",children:[A.issuer,"  ",new Date(A.issue_date).toLocaleDateString()]})]})]}),h.jsx(Me,{variant:"ghost",size:"icon",onClick:()=>X(A.id),className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:h.jsx(oc,{className:"w-4 h-4"})})]},A.id))})]})]})}),h.jsx(hs,{value:"achievements",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"border border-primary/50 rounded-lg p-6 bg-[#0d1117]",children:[h.jsx("h3",{className:"text-primary font-bold text-lg mb-4",children:"Add New Achievement"}),h.jsx(sJ,{onSuccess:I})]}),h.jsxs("div",{className:"border border-border/30 rounded-lg p-6 bg-[#161b22]",children:[h.jsxs("h3",{className:"font-bold text-lg mb-4 text-foreground",children:["Achievements List (",f.length,")"]}),f.length===0?h.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No achievements added yet"}):h.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:f.map(A=>h.jsxs("div",{className:"bg-[#0d1117] border border-border/30 rounded-lg p-4 flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[A.image_url&&h.jsx("img",{src:A.image_url,alt:`${A.title} achievement`,className:"h-12 w-12 rounded-md object-cover border border-border/30",loading:"lazy"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-foreground",children:A.title}),h.jsx("p",{className:"text-sm text-muted-foreground",children:A.description}),h.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(A.date).toLocaleDateString()})]})]}),h.jsx(Me,{variant:"ghost",size:"icon",onClick:()=>j(A.id),className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:h.jsx(oc,{className:"w-4 h-4"})})]},A.id))})]})]})}),h.jsx(hs,{value:"blogs",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"border border-primary/50 rounded-lg p-6 bg-[#0d1117]",children:[h.jsx("h3",{className:"text-primary font-bold text-lg mb-4",children:"Add New Blog Post"}),h.jsx(SG,{onSuccess:I})]}),h.jsxs("div",{className:"border border-border/30 rounded-lg p-6 bg-[#161b22]",children:[h.jsxs("h3",{className:"font-bold text-lg mb-4 text-foreground",children:["Blog Posts (",o.length,")"]}),o.length===0?h.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No blog posts added yet"}):h.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:o.map(A=>h.jsxs("div",{className:"bg-[#0d1117] border border-border/30 rounded-lg p-4 flex justify-between items-start",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"font-semibold text-foreground",children:A.title}),h.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:A.excerpt}),h.jsx("span",{className:`text-xs px-2 py-1 rounded mt-2 inline-block ${A.published?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"}`,children:A.published?"Published":"Draft"})]}),h.jsx(Me,{variant:"ghost",size:"icon",onClick:()=>W(A.id),className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:h.jsx(oc,{className:"w-4 h-4"})})]},A.id))})]})]})}),h.jsx(hs,{value:"projects",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"border border-primary/50 rounded-lg p-6 bg-[#0d1117]",children:[h.jsx("h3",{className:"text-primary font-bold text-lg mb-4",children:"Add New Project"}),h.jsx(L6,{onSuccess:I})]}),h.jsxs("div",{className:"border border-border/30 rounded-lg p-6 bg-[#161b22]",children:[h.jsxs("h3",{className:"font-bold text-lg mb-4 text-foreground",children:["Projects List (",s.length,")"]}),s.length===0?h.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No projects added yet"}):h.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:s.map(A=>h.jsxs("div",{className:"bg-[#0d1117] border border-border/30 rounded-lg p-4 flex justify-between items-start",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"font-semibold text-foreground",children:A.title}),h.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:A.description}),h.jsxs("div",{className:"flex gap-1 flex-wrap mt-2",children:[A.technologies.slice(0,3).map(F=>h.jsx("span",{className:"text-xs bg-primary/20 text-primary px-2 py-0.5 rounded",children:F},F)),A.technologies.length>3&&h.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",A.technologies.length-3]})]})]}),h.jsx(Me,{variant:"ghost",size:"icon",onClick:()=>J(A.id),className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:h.jsx(oc,{className:"w-4 h-4"})})]},A.id))})]})]})}),h.jsx(hs,{value:"resume",children:h.jsx("div",{className:"max-w-xl",children:h.jsxs("div",{className:"border border-primary/50 rounded-lg p-6 bg-[#0d1117]",children:[h.jsx("h3",{className:"text-primary font-bold text-lg mb-4",children:"Update Resume"}),h.jsx(iJ,{onSuccess:I})]})})})]})})]})},aJ=()=>{const t=Ix(),{toast:e}=Pr(),[n,r]=b.useState(""),[s,i]=b.useState(""),[o,a]=b.useState(!1),l=async c=>{c.preventDefault(),a(!0);try{const{error:u}=await se.auth.signInWithPassword({email:n,password:s});if(u)throw u;e({title:"Success",description:"Logged in successfully"}),t("/admin")}catch(u){e({title:"Error",description:u.message||"Failed to login",variant:"destructive"})}finally{a(!1)}};return h.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center px-6",children:h.jsxs(Lt,{className:"bg-card border-primary/50 p-8 w-full max-w-md animate-scale-in",children:[h.jsx("div",{className:"flex items-center justify-center mb-8",children:h.jsx("div",{className:"bg-gradient-to-br from-primary to-red-600 p-4 rounded-2xl",children:h.jsx(mu,{className:"w-12 h-12 text-white"})})}),h.jsx("h1",{className:"text-3xl font-bold text-center mb-2 text-primary",children:"Admin Login"}),h.jsx("p",{className:"text-center text-muted-foreground mb-8",children:"Access your dashboard to view messages"}),h.jsxs("form",{onSubmit:l,className:"space-y-4",children:[h.jsxs("div",{className:"animate-fade-in",children:[h.jsx(pe,{htmlFor:"email",children:"Email"}),h.jsx(Re,{id:"email",type:"email",value:n,onChange:c=>r(c.target.value),className:"bg-secondary border-muted focus:border-primary transition-all",placeholder:"admin@example.com",required:!0,disabled:o})]}),h.jsxs("div",{className:"animate-fade-in",children:[h.jsx(pe,{htmlFor:"password",children:"Password"}),h.jsx(Re,{id:"password",type:"password",value:s,onChange:c=>i(c.target.value),className:"bg-secondary border-muted focus:border-primary transition-all",placeholder:"",required:!0,disabled:o})]}),h.jsx(Me,{type:"submit",className:"w-full bg-gradient-to-r from-primary to-red-600 hover:from-primary/90 hover:to-red-700 text-white transition-all hover:scale-105 shadow-lg hover:shadow-primary/50",disabled:o,children:o?"Logging in...":"Login"})]})]})})};function qr({className:t,...e}){return h.jsx("div",{className:Te("animate-pulse rounded-md bg-muted",t),...e})}const lJ=()=>{const{blogPosts:t,loading:e}=Zx();return h.jsxs("div",{className:"min-h-screen bg-background",children:[h.jsx("header",{className:"border-b border-border/50 backdrop-blur-lg bg-background/80 sticky top-0 z-50",children:h.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[h.jsx(hi,{to:"/",children:h.jsxs(Me,{variant:"ghost",size:"sm",children:[h.jsx(kf,{className:"mr-2 h-4 w-4"}),"Back to Portfolio"]})}),h.jsx(Au,{})]})}),h.jsx("section",{className:"py-16 px-4",children:h.jsxs("div",{className:"container mx-auto max-w-6xl text-center",children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 text-primary",children:"Blogs & Write-ups"}),h.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"Sharing my cybersecurity research, bug bounty findings, and penetration testing insights"})]})}),h.jsx("section",{className:"py-12 px-4",children:h.jsx("div",{className:"container mx-auto max-w-6xl",children:e?h.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:[1,2,3,4].map(n=>h.jsxs(Lt,{className:"bg-card/50 backdrop-blur-sm border-border/50 overflow-hidden",children:[h.jsx(qr,{className:"h-64 w-full"}),h.jsxs("div",{className:"p-6 space-y-3",children:[h.jsx(qr,{className:"h-6 w-3/4"}),h.jsx(qr,{className:"h-4 w-full"}),h.jsx(qr,{className:"h-4 w-1/2"})]})]},n))}):t.length===0?h.jsx("div",{className:"text-center py-20",children:h.jsx("p",{className:"text-muted-foreground text-lg",children:"No blog posts yet. Check back soon!"})}):h.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:t.map(n=>h.jsx(hi,{to:`/blog/${n.slug}`,children:h.jsxs(Lt,{className:"h-full bg-card/50 backdrop-blur-sm border-border/50 hover:border-primary transition-all duration-300 hover:scale-[1.02] hover:shadow-xl hover:shadow-primary/10 overflow-hidden group",children:[h.jsxs("div",{className:"h-64 overflow-hidden relative bg-secondary/30",children:[n.image_url&&n.image_url.startsWith("http")?h.jsx("img",{src:n.image_url,alt:n.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):h.jsx("div",{className:"w-full h-full flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx(gx,{className:"w-16 h-16 text-primary/40 mx-auto mb-2"}),h.jsx("span",{className:"text-muted-foreground text-sm",children:"Blog Article"})]})}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-card/90 to-transparent"})]}),h.jsxs("div",{className:"p-6",children:[h.jsx("h2",{className:"text-2xl font-bold mb-3 group-hover:text-primary transition-colors line-clamp-2",children:n.title}),h.jsx("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground mb-4",children:h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(Dp,{className:"h-4 w-4"}),new Date(n.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]})}),h.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:n.tags.filter(r=>r).slice(0,3).map(r=>h.jsx(xl,{variant:"secondary",className:"text-xs",children:r},r))}),h.jsx("p",{className:"text-muted-foreground text-sm mb-4 line-clamp-2",children:n.excerpt}),h.jsxs("div",{className:"flex items-center gap-2 text-primary font-semibold text-sm group-hover:gap-4 transition-all",children:["Read Article",h.jsx(OT,{className:"h-4 w-4"})]})]})]})},n.id))})})})]})},cJ=()=>{const{id:t}=mz(),{blogPosts:e,loading:n}=Zx(),r=e.find(i=>i.slug===t),s=b.useMemo(()=>r!=null&&r.content?zb.sanitize(r.content,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","hr","ul","ol","li","strong","b","em","i","u","s","strike","a","img","blockquote","pre","code","div","span"],ALLOWED_ATTR:["href","target","rel","src","alt","title","width","height","class"],ADD_ATTR:["target"],ALLOW_DATA_ATTR:!1}):"",[r==null?void 0:r.content]);return n?h.jsxs("div",{className:"min-h-screen bg-background",children:[h.jsx("header",{className:"border-b border-border/50 backdrop-blur-lg bg-background/80 sticky top-0 z-50",children:h.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[h.jsx(hi,{to:"/blog",children:h.jsxs(Me,{variant:"ghost",size:"sm",children:[h.jsx(kf,{className:"mr-2 h-4 w-4"}),"Back to Blogs"]})}),h.jsx(Au,{})]})}),h.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[h.jsx(qr,{className:"h-10 w-3/4 mb-4"}),h.jsx(qr,{className:"h-6 w-1/2 mb-8"}),h.jsx(qr,{className:"h-64 w-full mb-8"}),h.jsx(qr,{className:"h-4 w-full mb-2"}),h.jsx(qr,{className:"h-4 w-full mb-2"}),h.jsx(qr,{className:"h-4 w-3/4"})]})]}):r?h.jsxs("div",{className:"min-h-screen bg-background",children:[h.jsx("header",{className:"border-b border-border/50 backdrop-blur-lg bg-background/80 sticky top-0 z-50",children:h.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[h.jsx(hi,{to:"/blog",children:h.jsxs(Me,{variant:"ghost",size:"sm",children:[h.jsx(kf,{className:"mr-2 h-4 w-4"}),"Back to Blogs"]})}),h.jsx(Au,{})]})}),h.jsxs("article",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[h.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-6",children:r.title}),h.jsx("div",{className:"flex flex-wrap items-center gap-6 text-muted-foreground mb-8",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Dp,{className:"h-4 w-4"}),h.jsx("span",{children:new Date(r.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]})}),h.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:r.tags.map(i=>h.jsx(xl,{variant:"secondary",children:i},i))}),r.image_url&&h.jsx("div",{className:"rounded-xl overflow-hidden mb-12",children:h.jsx("img",{src:r.image_url,alt:r.title,className:"w-full h-auto object-cover"})}),h.jsx("div",{className:"blog-content prose prose-invert max-w-none",dangerouslySetInnerHTML:{__html:s}}),e.filter(i=>i.id!==r.id).length>0&&h.jsxs("div",{className:"mt-16 pt-12 border-t border-border",children:[h.jsx("h2",{className:"text-2xl font-bold mb-8",children:"More Articles"}),h.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:e.filter(i=>i.id!==r.id).slice(0,2).map(i=>h.jsx(hi,{to:`/blog/${i.slug}`,children:h.jsxs(Lt,{className:"p-6 hover:border-primary transition-all duration-300 hover:shadow-lg hover:shadow-primary/10 h-full bg-card/50 group",children:[i.image_url&&h.jsx("div",{className:"h-40 rounded-lg overflow-hidden mb-4",children:h.jsx("img",{src:i.image_url,alt:i.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),h.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:i.tags.slice(0,2).map(o=>h.jsx(xl,{variant:"secondary",className:"text-xs",children:o},o))}),h.jsx("h3",{className:"text-lg font-semibold mb-2 group-hover:text-primary transition-colors",children:i.title}),h.jsx("p",{className:"text-muted-foreground text-sm line-clamp-2",children:i.excerpt})]})},i.id))})]})]})]}):h.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:h.jsxs(Lt,{className:"p-8 text-center bg-card",children:[h.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Blog Post Not Found"}),h.jsx(hi,{to:"/blog",children:h.jsxs(Me,{children:[h.jsx(kf,{className:"mr-2 h-4 w-4"}),"Back to Blogs"]})})]})})},uJ=()=>{const t=Xu();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),h.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),h.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),h.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},dJ=new $3,fJ=()=>h.jsx(B3,{client:dJ,children:h.jsx(Fz,{attribute:"class",defaultTheme:"dark",enableSystem:!0,children:h.jsxs(p3,{children:[h.jsx(GL,{}),h.jsx(A$,{}),h.jsx(Lz,{basename:"/portfolio",children:h.jsxs(Oz,{children:[h.jsx(co,{path:"/",element:h.jsx(b6,{})}),h.jsx(co,{path:"/blog",element:h.jsx(lJ,{})}),h.jsx(co,{path:"/blog/:id",element:h.jsx(cJ,{})}),h.jsx(co,{path:"/admin",element:h.jsx(oJ,{})}),h.jsx(co,{path:"/admin/login",element:h.jsx(aJ,{})}),h.jsx(co,{path:"*",element:h.jsx(uJ,{})})]})})]})})});eT(document.getElementById("root")).render(h.jsx(fJ,{}));
